var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(wa,ba,ja){wa instanceof String&&(wa=String(wa));for(var y=wa.length,u=0;u<y;u++){var R=wa[u];if(ba.call(ja,R,u,wa))return{i:u,v:R}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(wa,ba,ja){if(wa==Array.prototype||wa==Object.prototype)return wa;wa[ba]=ja.value;return wa};$jscomp.getGlobal=function(wa){wa=["object"==typeof globalThis&&globalThis,wa,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var ba=0;ba<wa.length;++ba){var ja=wa[ba];if(ja&&ja.Math==Math)return ja}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(wa,ba){var ja=$jscomp.propertyToPolyfillSymbol[ba];if(null==ja)return wa[ba];ja=wa[ja];return void 0!==ja?ja:wa[ba]};
$jscomp.polyfill=function(wa,ba,ja,y){ba&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(wa,ba,ja,y):$jscomp.polyfillUnisolated(wa,ba,ja,y))};$jscomp.polyfillUnisolated=function(wa,ba,ja,y){ja=$jscomp.global;wa=wa.split(".");for(y=0;y<wa.length-1;y++){var u=wa[y];if(!(u in ja))return;ja=ja[u]}wa=wa[wa.length-1];y=ja[wa];ba=ba(y);ba!=y&&null!=ba&&$jscomp.defineProperty(ja,wa,{configurable:!0,writable:!0,value:ba})};
$jscomp.polyfillIsolated=function(wa,ba,ja,y){var u=wa.split(".");wa=1===u.length;y=u[0];y=!wa&&y in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var R=0;R<u.length-1;R++){var I=u[R];if(!(I in y))return;y=y[I]}u=u[u.length-1];ja=$jscomp.IS_SYMBOL_NATIVE&&"es6"===ja?y[u]:null;ba=ba(ja);null!=ba&&(wa?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:ba}):ba!==ja&&($jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(u):$jscomp.POLYFILL_PREFIX+
u,u=$jscomp.propertyToPolyfillSymbol[u],$jscomp.defineProperty(y,u,{configurable:!0,writable:!0,value:ba})))};$jscomp.polyfill("Array.prototype.find",function(wa){return wa?wa:function(ba,ja){return $jscomp.findInternal(this,ba,ja).v}},"es6","es3");$jscomp.underscoreProtoCanBeSet=function(){var wa={a:!0},ba={};try{return ba.__proto__=wa,ba.a}catch(ja){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(wa,ba){wa.__proto__=ba;if(wa.__proto__!==ba)throw new TypeError(wa+" is not extensible");return wa}:null;$jscomp.polyfill("Object.setPrototypeOf",function(wa){return wa||$jscomp.setPrototypeOf},"es6","es5");$jscomp.owns=function(wa,ba){return Object.prototype.hasOwnProperty.call(wa,ba)};
$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(wa,ba){for(var ja=1;ja<arguments.length;ja++){var y=arguments[ja];if(y)for(var u in y)$jscomp.owns(y,u)&&(wa[u]=y[u])}return wa};$jscomp.polyfill("Object.assign",function(wa){return wa||$jscomp.assign},"es6","es3");$jscomp.arrayIteratorImpl=function(wa){var ba=0;return function(){return ba<wa.length?{done:!1,value:wa[ba++]}:{done:!0}}};$jscomp.arrayIterator=function(wa){return{next:$jscomp.arrayIteratorImpl(wa)}};
$jscomp.makeIterator=function(wa){var ba="undefined"!=typeof Symbol&&Symbol.iterator&&wa[Symbol.iterator];return ba?ba.call(wa):$jscomp.arrayIterator(wa)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(wa){function ba(){this.batch_=null}function ja(I){return I instanceof u?I:new u(function(F,L){F(I)})}if(wa&&!$jscomp.FORCE_POLYFILL_PROMISE)return wa;ba.prototype.asyncExecute=function(I){if(null==this.batch_){this.batch_=[];var F=this;this.asyncExecuteFunction(function(){F.executeBatch_()})}this.batch_.push(I)};var y=$jscomp.global.setTimeout;ba.prototype.asyncExecuteFunction=function(I){y(I,0)};ba.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var I=
this.batch_;this.batch_=[];for(var F=0;F<I.length;++F){var L=I[F];I[F]=null;try{L()}catch(C){this.asyncThrow_(C)}}}this.batch_=null};ba.prototype.asyncThrow_=function(I){this.asyncExecuteFunction(function(){throw I;})};var u=function(I){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var F=this.createResolveAndReject_();try{I(F.resolve,F.reject)}catch(L){F.reject(L)}};u.prototype.createResolveAndReject_=function(){function I(C){return function(A){L||(L=!0,C.call(F,A))}}var F=this,L=
!1;return{resolve:I(this.resolveTo_),reject:I(this.reject_)}};u.prototype.resolveTo_=function(I){if(I===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(I instanceof u)this.settleSameAsPromise_(I);else{a:switch(typeof I){case "object":var F=null!=I;break a;case "function":F=!0;break a;default:F=!1}F?this.resolveToNonPromiseObj_(I):this.fulfill_(I)}};u.prototype.resolveToNonPromiseObj_=function(I){var F=void 0;try{F=I.then}catch(L){this.reject_(L);return}"function"==typeof F?
this.settleSameAsThenable_(F,I):this.fulfill_(I)};u.prototype.reject_=function(I){this.settle_(2,I)};u.prototype.fulfill_=function(I){this.settle_(1,I)};u.prototype.settle_=function(I,F){if(0!=this.state_)throw Error("Cannot settle("+I+", "+F+"): Promise already settled in state"+this.state_);this.state_=I;this.result_=F;this.executeOnSettledCallbacks_()};u.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var I=0;I<this.onSettledCallbacks_.length;++I)R.asyncExecute(this.onSettledCallbacks_[I]);
this.onSettledCallbacks_=null}};var R=new ba;u.prototype.settleSameAsPromise_=function(I){var F=this.createResolveAndReject_();I.callWhenSettled_(F.resolve,F.reject)};u.prototype.settleSameAsThenable_=function(I,F){var L=this.createResolveAndReject_();try{I.call(F,L.resolve,L.reject)}catch(C){L.reject(C)}};u.prototype.then=function(I,F){function L(D,H){return"function"==typeof D?function(N){try{C(D(N))}catch(K){A(K)}}:H}var C,A,G=new u(function(D,H){C=D;A=H});this.callWhenSettled_(L(I,C),L(F,A));
return G};u.prototype.catch=function(I){return this.then(void 0,I)};u.prototype.callWhenSettled_=function(I,F){function L(){switch(C.state_){case 1:I(C.result_);break;case 2:F(C.result_);break;default:throw Error("Unexpected state: "+C.state_);}}var C=this;null==this.onSettledCallbacks_?R.asyncExecute(L):this.onSettledCallbacks_.push(L)};u.resolve=ja;u.reject=function(I){return new u(function(F,L){L(I)})};u.race=function(I){return new u(function(F,L){for(var C=$jscomp.makeIterator(I),A=C.next();!A.done;A=
C.next())ja(A.value).callWhenSettled_(F,L)})};u.all=function(I){var F=$jscomp.makeIterator(I),L=F.next();return L.done?ja([]):new u(function(C,A){function G(N){return function(K){D[N]=K;H--;0==H&&C(D)}}var D=[],H=0;do D.push(void 0),H++,ja(L.value).callWhenSettled_(G(D.length-1),A),L=F.next();while(!L.done)})};return u},"es6","es3");$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(wa){if(wa)return wa;var ba=function(u,R){this.$jscomp$symbol$id_=u;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:R})};ba.prototype.toString=function(){return this.$jscomp$symbol$id_};var ja=0,y=function(u){if(this instanceof y)throw new TypeError("Symbol is not a constructor");return new ba("jscomp_symbol_"+(u||"")+"_"+ja++,u)};return y},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(wa){if(wa)return wa;wa=Symbol("Symbol.iterator");for(var ba="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),ja=0;ja<ba.length;ja++){var y=$jscomp.global[ba[ja]];"function"===typeof y&&"function"!=typeof y.prototype[wa]&&$jscomp.defineProperty(y.prototype,wa,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return wa},
"es6","es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(wa){wa={next:wa};wa[Symbol.iterator]=function(){return this};return wa};$jscomp.iteratorFromArray=function(wa,ba){wa instanceof String&&(wa+="");var ja=0,y=!1,u={next:function(){if(!y&&ja<wa.length){var R=ja++;return{value:ba(R,wa[R]),done:!1}}y=!0;return{done:!0,value:void 0}}};u[Symbol.iterator]=function(){return u};return u};
$jscomp.polyfill("Array.prototype.keys",function(wa){return wa?wa:function(){return $jscomp.iteratorFromArray(this,function(ba){return ba})}},"es6","es3");$jscomp.checkStringArgs=function(wa,ba,ja){if(null==wa)throw new TypeError("The 'this' value for String.prototype."+ja+" must not be null or undefined");if(ba instanceof RegExp)throw new TypeError("First argument to String.prototype."+ja+" must not be a regular expression");return wa+""};
$jscomp.polyfill("String.prototype.repeat",function(wa){return wa?wa:function(ba){var ja=$jscomp.checkStringArgs(this,null,"repeat");if(0>ba||1342177279<ba)throw new RangeError("Invalid count value");ba|=0;for(var y="";ba;)if(ba&1&&(y+=ja),ba>>>=1)ja+=ja;return y}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var wa={},ba=Object.create(new $jscomp.global.Proxy(wa,{get:function(ja,y,u){return ja==wa&&"q"==y&&u==ba}}));return!0===ba.q}catch(ja){return!1}};
$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(wa){function ba(){if(!wa||!Object.seal)return!1;try{var C=Object.seal({}),A=Object.seal({}),G=new wa([[C,2],[A,3]]);if(2!=G.get(C)||3!=G.get(A))return!1;G.delete(C);G.set(A,4);return!G.has(C)&&4==G.get(A)}catch(D){return!1}}function ja(){}function y(C){var A=typeof C;return"object"===A&&null!==C||"function"===A}function u(C){if(!$jscomp.owns(C,I)){var A=new ja;$jscomp.defineProperty(C,I,{value:A})}}function R(C){if(!$jscomp.ISOLATE_POLYFILLS){var A=Object[C];A&&
(Object[C]=function(G){if(G instanceof ja)return G;Object.isExtensible(G)&&u(G);return A(G)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(wa&&$jscomp.ES6_CONFORMANCE)return wa}else if(ba())return wa;var I="$jscomp_hidden_"+Math.random();R("freeze");R("preventExtensions");R("seal");var F=0,L=function(C){this.id_=(F+=Math.random()+1).toString();if(C){C=$jscomp.makeIterator(C);for(var A;!(A=C.next()).done;)A=A.value,this.set(A[0],A[1])}};L.prototype.set=function(C,A){if(!y(C))throw Error("Invalid WeakMap key");
u(C);if(!$jscomp.owns(C,I))throw Error("WeakMap key fail: "+C);C[I][this.id_]=A;return this};L.prototype.get=function(C){return y(C)&&$jscomp.owns(C,I)?C[I][this.id_]:void 0};L.prototype.has=function(C){return y(C)&&$jscomp.owns(C,I)&&$jscomp.owns(C[I],this.id_)};L.prototype.delete=function(C){return y(C)&&$jscomp.owns(C,I)&&$jscomp.owns(C[I],this.id_)?delete C[I][this.id_]:!1};return L},"es6","es3");
$jscomp.polyfill("Array.from",function(wa){return wa?wa:function(ba,ja,y){ja=null!=ja?ja:function(F){return F};var u=[],R="undefined"!=typeof Symbol&&Symbol.iterator&&ba[Symbol.iterator];if("function"==typeof R){ba=R.call(ba);for(var I=0;!(R=ba.next()).done;)u.push(ja.call(y,R.value,I++))}else for(R=ba.length,I=0;I<R;I++)u.push(ja.call(y,ba[I],I));return u}},"es6","es3");
(function(wa,ba){"object"===typeof exports&&"undefined"!==typeof module?module.exports=ba():"function"===typeof define&&define.amd?define(ba):(wa=wa||self,wa.CodeMirror=ba())})(this,function(){function wa(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function ba(a){for(var d=a.childNodes.length;0<d;--d)a.removeChild(a.firstChild);return a}function ja(a,d){return ba(a).appendChild(d)}function y(a,d,f,e){a=document.createElement(a);f&&(a.className=f);e&&(a.style.cssText=e);if("string"==typeof d)a.appendChild(document.createTextNode(d));
else if(d)for(f=0;f<d.length;++f)a.appendChild(d[f]);return a}function u(a,d,f,e){a=y(a,d,f,e);a.setAttribute("role","presentation");return a}function R(a,d){3==d.nodeType&&(d=d.parentNode);if(a.contains)return a.contains(d);do if(11==d.nodeType&&(d=d.host),d==a)return!0;while(d=d.parentNode)}function I(){try{var a=document.activeElement}catch(d){a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function F(a,d){var f=a.className;wa(d).test(f)||
(a.className+=(f?" ":"")+d)}function L(a,d){a=a.split(" ");for(var f=0;f<a.length;f++)a[f]&&!wa(a[f]).test(d)&&(d+=" "+a[f]);return d}function C(a){var d=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,d)}}function A(a,d,f){d||(d={});for(var e in a)!a.hasOwnProperty(e)||!1===f&&d.hasOwnProperty(e)||(d[e]=a[e]);return d}function G(a,d,f,e,h){null==d&&(d=a.search(/[^\s\u00a0]/),-1==d&&(d=a.length));e=e||0;for(h=h||0;;){var n=a.indexOf("\t",e);if(0>n||n>=d)return h+(d-e);
h+=n-e;h+=f-h%f;e=n+1}}function D(a,d){for(var f=0;f<a.length;++f)if(a[f]==d)return f;return-1}function H(a,d,f){for(var e=0,h=0;;){var n=a.indexOf("\t",e);-1==n&&(n=a.length);var q=n-e;if(n==a.length||h+q>=d)return e+Math.min(q,d-h);h+=n-e;h+=f-h%f;e=n+1;if(h>=d)return e}}function N(a){for(;Ee.length<=a;)Ee.push(K(Ee)+" ");return Ee[a]}function K(a){return a[a.length-1]}function S(a,d){for(var f=[],e=0;e<a.length;e++)f[e]=d(a[e],e);return f}function W(a,d,f){for(var e=0,h=f(d);e<a.length&&f(a[e])<=
h;)e++;a.splice(e,0,d)}function T(){}function ka(a,d){Object.create?a=Object.create(a):(T.prototype=a,a=new T);d&&A(d,a);return a}function ca(a){return/\w/.test(a)||"\u0080"<a&&(a.toUpperCase()!=a.toLowerCase()||Ug.test(a))}function oa(a,d){return d?-1<d.source.indexOf("\\w")&&ca(a)?!0:d.test(a):ca(a)}function na(a){for(var d in a)if(a.hasOwnProperty(d)&&a[d])return!1;return!0}function Y(a){return 768<=a.charCodeAt(0)&&Vg.test(a)}function Z(a,d,f){for(;(0>f?0<d:d<a.length)&&Y(a.charAt(d));)d+=f;return d}
function fa(a,d,f){for(var e=d>f?-1:1;;){if(d==f)return d;var h=(d+f)/2;h=0>e?Math.ceil(h):Math.floor(h);if(h==d)return a(h)?d:f;a(h)?f=h:d=h+e}}function Ea(a,d,f,e){if(!a)return e(d,f,"ltr",0);for(var h=!1,n=0;n<a.length;++n){var q=a[n];if(q.from<f&&q.to>d||d==f&&q.to==d)e(Math.max(q.from,d),Math.min(q.to,f),1==q.level?"rtl":"ltr",n),h=!0}h||e(d,f,"ltr")}function La(a,d,f){var e;ae=null;for(var h=0;h<a.length;++h){var n=a[h];if(n.from<d&&n.to>d)return h;n.to==d&&(n.from!=n.to&&"before"==f?e=h:ae=
h);n.from==d&&(n.from!=n.to&&"before"!=f?e=h:ae=h)}return null!=e?e:ae}function Wa(a,d){var f=a.order;null==f&&(f=a.order=Wg(a.text,d));return f}function Ya(a,d,f){if(a.removeEventListener)a.removeEventListener(d,f,!1);else if(a.detachEvent)a.detachEvent("on"+d,f);else{var e=(a=a._handlers)&&a[d];e&&(f=D(e,f),-1<f&&(a[d]=e.slice(0,f).concat(e.slice(f+1))))}}function ta(a,d){var f=a._handlers&&a._handlers[d]||Fe;if(f.length)for(var e=Array.prototype.slice.call(arguments,2),h=0;h<f.length;++h)f[h].apply(null,
e)}function za(a,d,f){"string"==typeof d&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}});ta(a,f||d.type,a,d);return X(d)||d.codemirrorIgnore}function Ha(a){var d=a._handlers&&a._handlers.cursorActivity;if(d){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var f=0;f<d.length;++f)-1==D(a,d[f])&&a.push(d[f])}}function ya(a,d){return 0<(a._handlers&&a._handlers[d]||Fe).length}function da(a){a.prototype.on=function(d,f){Za(this,d,f)};a.prototype.off=function(d,
f){Ya(this,d,f)}}function t(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function P(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function X(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function sa(a){t(a);P(a)}function Da(a){var d=a.which;null==d&&(a.button&1?d=1:a.button&2?d=3:a.button&4&&(d=2));uc&&a.ctrlKey&&1==d&&(d=3);return d}function Aa(a){if(null==lf){var d=y("span","\u200b");ja(a,y("span",[d,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&
(lf=1>=d.offsetWidth&&2<d.offsetHeight&&!(jb&&8>ub))}a=lf?y("span","\u200b"):y("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");a.setAttribute("cm-text","");return a}function Ba(a,d){2<arguments.length&&(d.dependencies=Array.prototype.slice.call(arguments,2));ad[a]=d}function Qa(a){if("string"==typeof a&&bd.hasOwnProperty(a))a=bd[a];else if(a&&"string"==typeof a.name&&bd.hasOwnProperty(a.name)){var d=bd[a.name];"string"==typeof d&&(d={name:d});a=ka(d,a);a.name=d.name}else{if("string"==
typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Qa("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Qa("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function ha(a,d){d=Qa(d);var f=ad[d.name];if(!f)return ha(a,"text/plain");a=f(a,d);if(cd.hasOwnProperty(d.name)){f=cd[d.name];for(var e in f)f.hasOwnProperty(e)&&(a.hasOwnProperty(e)&&(a["_"+e]=a[e]),a[e]=f[e])}a.name=d.name;d.helperType&&(a.helperType=d.helperType);if(d.modeProps)for(var h in d.modeProps)a[h]=
d.modeProps[h];return a}function ra(a,d){a=cd.hasOwnProperty(a)?cd[a]:cd[a]={};A(d,a)}function qa(a,d){if(!0===d)return d;if(a.copyState)return a.copyState(d);a={};for(var f in d){var e=d[f];e instanceof Array&&(e=e.concat([]));a[f]=e}return a}function va(a,d){for(var f;a.innerMode;){f=a.innerMode(d);if(!f||f.mode==a)break;d=f.state;a=f.mode}return f||{mode:a,state:d}}function Ma(a,d,f){return a.startState?a.startState(d,f):!0}function Ga(a,d){d-=a.first;if(0>d||d>=a.size)throw Error("There is no line "+
(d+a.first)+" in the document.");for(;!a.lines;)for(var f=0;;++f){var e=a.children[f],h=e.chunkSize();if(d<h){a=e;break}d-=h}return a.lines[d]}function ob(a,d,f){var e=[],h=d.line;a.iter(d.line,f.line+1,function(n){n=n.text;h==f.line&&(n=n.slice(0,f.ch));h==d.line&&(n=n.slice(d.ch));e.push(n);++h});return e}function Rb(a,d,f){var e=[];a.iter(d,f,function(h){e.push(h.text)});return e}function Kb(a,d){if(d-=a.height)for(;a;a=a.parent)a.height+=d}function gb(a){if(null==a.parent)return null;var d=a.parent;
a=D(d.lines,a);for(var f=d.parent;f;d=f,f=f.parent)for(var e=0;f.children[e]!=d;++e)a+=f.children[e].chunkSize();return a+d.first}function fc(a,d){var f=a.first;a:do{for(var e=0;e<a.children.length;++e){var h=a.children[e],n=h.height;if(d<n){a=h;continue a}d-=n;f+=h.chunkSize()}return f}while(!a.lines);for(e=0;e<a.lines.length;++e){h=a.lines[e].height;if(d<h)break;d-=h}return f+e}function nc(a,d){return d>=a.first&&d<a.first+a.size}function dd(a,d){return String(a.lineNumberFormatter(d+a.firstLineNumber))}
function Fa(a,d,f){void 0===f&&(f=null);if(!(this instanceof Fa))return new Fa(a,d,f);this.line=a;this.ch=d;this.sticky=f}function ab(a,d){return a.line-d.line||a.ch-d.ch}function Hb(a,d){return a.sticky==d.sticky&&0==ab(a,d)}function md(a){return Fa(a.line,a.ch)}function ed(a,d){return 0>ab(a,d)?d:a}function Ed(a,d){return 0>ab(a,d)?a:d}function Ta(a,d){if(d.line<a.first)return Fa(a.first,0);var f=a.first+a.size-1;if(d.line>f)return Fa(f,Ga(a,f).text.length);a=Ga(a,d.line).text.length;f=d.ch;d=null==
f||f>a?Fa(d.line,a):0>f?Fa(d.line,0):d;return d}function nd(a,d){for(var f=[],e=0;e<d.length;e++)f[e]=Ta(a,d[e]);return f}function oc(a,d,f,e){var h=[a.state.modeGen],n={};be(a,d.text,a.doc.mode,f,function(B,O){return h.push(B,O)},n,e);var q=f.state;e=function(B){f.baseTokens=h;var O=a.state.overlays[B],aa=1,pa=0;f.state=!0;be(a,d.text,O.mode,f,function(ea,ia){for(var xa=aa;pa<ea;){var Ka=h[aa];Ka>ea&&h.splice(aa,1,ea,h[aa+1],Ka);aa+=2;pa=Math.min(ea,Ka)}if(ia)if(O.opaque)h.splice(xa,aa-xa,ea,"overlay "+
ia),aa=xa+2;else for(;xa<aa;xa+=2)ea=h[xa+1],h[xa+1]=(ea?ea+" ":"")+"overlay "+ia},n);f.state=q;f.baseTokens=null;f.baseTokenPos=1};for(var r=0;r<a.state.overlays.length;++r)e(r);return{styles:h,classes:n.bgClass||n.textClass?n:null}}function vb(a,d,f){if(!d.styles||d.styles[0]!=a.state.modeGen){var e=Mc(a,gb(d)),h=d.text.length>a.options.maxHighlightLength&&qa(a.doc.mode,e.state),n=oc(a,d,e);h&&(e.state=h);d.stateAfter=e.save(!h);d.styles=n.styles;n.classes?d.styleClasses=n.classes:d.styleClasses&&
(d.styleClasses=null);f===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return d.styles}function Mc(a,d,f){var e=a.doc,h=a.display;if(!e.mode.startState)return new gc(e,!0,d);var n=ce(a,d,f),q=n>e.first&&Ga(e,n-1).stateAfter,r=q?gc.fromSaved(e,q,n):new gc(e,Ma(e.mode),n);e.iter(n,d,function(B){de(a,B.text,r);var O=r.line;B.stateAfter=O==d-1||0==O%5||O>=h.viewFrom&&O<h.viewTo?r.save():null;r.nextLine()});f&&(e.modeFrontier=r.line);return r}function de(a,
d,f,e){var h=a.doc.mode;a=new Cb(d,a.options.tabSize,f);a.start=a.pos=e||0;for(""==d&&Ge(h,f.state);!a.eol();)od(h,a,f.state),a.start=a.pos}function Ge(a,d){if(a.blankLine)return a.blankLine(d);if(a.innerMode&&(a=va(a,d),a.mode.blankLine))return a.mode.blankLine(a.state)}function od(a,d,f,e){for(var h=0;10>h;h++){e&&(e[0]=va(a,f).mode);var n=a.token(d,f);if(d.pos>d.start)return n}throw Error("Mode "+a.name+" failed to advance stream.");}function hc(a,d,f,e){var h=a.doc,n=h.mode;d=Ta(h,d);var q=Ga(h,
d.line);f=Mc(a,d.line,f);a=new Cb(q.text,a.options.tabSize,f);var r;for(e&&(r=[]);(e||a.pos<d.ch)&&!a.eol();){a.start=a.pos;var B=od(n,a,f.state);e&&r.push(new He(a,B,qa(h.mode,f.state)))}return e?r:new He(a,B,f.state)}function fd(a,d){if(a)for(;;){var f=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f)break;a=a.slice(0,f.index)+a.slice(f.index+f[0].length);var e=f[1]?"bgClass":"textClass";null==d[e]?d[e]=f[2]:(new RegExp("(?:^|\\s)"+f[2]+"(?:$|\\s)")).test(d[e])||(d[e]+=" "+f[2])}return a}function be(a,
d,f,e,h,n,q){var r=f.flattenSpans;null==r&&(r=a.options.flattenSpans);var B=0,O=null,aa=new Cb(d,a.options.tabSize,e),pa=a.options.addModeClass&&[null];for(""==d&&fd(Ge(f,e.state),n);!aa.eol();){if(aa.pos>a.options.maxHighlightLength){r=!1;q&&de(a,d,e,aa.pos);aa.pos=d.length;var ea=null}else ea=fd(od(f,aa,e.state,pa),n);if(pa){var ia=pa[0].name;ia&&(ea="m-"+(ea?ia+" "+ea:ia))}if(!r||O!=ea){for(;B<aa.start;)B=Math.min(aa.start,B+5E3),h(B,O);O=ea}aa.start=aa.pos}for(;B<aa.pos;)a=Math.min(aa.pos,B+5E3),
h(a,O),B=a}function ce(a,d,f){for(var e,h,n=a.doc,q=f?-1:d-(a.doc.mode.innerMode?1E3:100);d>q;--d){if(d<=n.first)return n.first;var r=Ga(n,d-1),B=r.stateAfter;if(B&&(!f||d+(B instanceof ee?B.lookAhead:0)<=n.modeFrontier))return d;r=G(r.text,null,a.options.tabSize);if(null==h||e>r)h=d-1,e=r}return h}function pd(a,d){a.modeFrontier=Math.min(a.modeFrontier,d);if(!(a.highlightFrontier<d-10)){for(var f=a.first,e=d-1;e>f;e--){var h=Ga(a,e).stateAfter;if(h&&(!(h instanceof ee)||e+h.lookAhead<d)){f=e+1;break}}a.highlightFrontier=
Math.min(a.highlightFrontier,f)}}function Gc(a,d,f){this.marker=a;this.from=d;this.to=f}function Hc(a,d){if(a)for(var f=0;f<a.length;++f){var e=a[f];if(e.marker==d)return e}}function $b(a,d){if(d.full)return null;var f=nc(a,d.from.line)&&Ga(a,d.from.line).markedSpans,e=nc(a,d.to.line)&&Ga(a,d.to.line).markedSpans;if(!f&&!e)return null;a=d.from.ch;var h=d.to.ch,n=0==ab(d.from,d.to),q;if(f)for(var r=0;r<f.length;++r){var B=f[r],O=B.marker;if(null==B.from||(O.inclusiveLeft?B.from<=a:B.from<a)||!(B.from!=
a||"bookmark"!=O.type||n&&B.marker.insertLeft)){var aa=null==B.to||(O.inclusiveRight?B.to>=a:B.to>a);(q||(q=[])).push(new Gc(O,B.from,aa?null:B.to))}}f=q;var pa;if(e)for(q=0;q<e.length;++q)if(r=e[q],B=r.marker,null==r.to||(B.inclusiveRight?r.to>=h:r.to>h)||r.from==h&&"bookmark"==B.type&&(!n||r.marker.insertLeft))O=null==r.from||(B.inclusiveLeft?r.from<=h:r.from<h),(pa||(pa=[])).push(new Gc(B,O?null:r.from-h,null==r.to?null:r.to-h));e=1==d.text.length;h=K(d.text).length+(e?a:0);if(f)for(n=0;n<f.length;++n)if(q=
f[n],null==q.to)(r=Hc(pa,q.marker),r)?e&&(q.to=null==r.to?null:r.to+h):q.to=a;if(pa)for(a=0;a<pa.length;++a)n=pa[a],null!=n.to&&(n.to+=h),null==n.from?Hc(f,n.marker)||(n.from=h,e&&(f||(f=[])).push(n)):(n.from+=h,e&&(f||(f=[])).push(n));f&&(f=qd(f));pa&&pa!=f&&(pa=qd(pa));a=[f];if(!e){d=d.text.length-2;var ea;if(0<d&&f)for(e=0;e<f.length;++e)null==f[e].to&&(ea||(ea=[])).push(new Gc(f[e].marker,null,null));for(f=0;f<d;++f)a.push(ea);a.push(pa)}return a}function qd(a){for(var d=0;d<a.length;++d){var f=
a[d];null!=f.from&&f.from==f.to&&!1!==f.marker.clearWhenEmpty&&a.splice(d--,1)}return a.length?a:null}function Ic(a,d,f){var e=null;a.iter(d.line,f.line+1,function(aa){if(aa.markedSpans)for(var pa=0;pa<aa.markedSpans.length;++pa){var ea=aa.markedSpans[pa].marker;!ea.readOnly||e&&-1!=D(e,ea)||(e||(e=[])).push(ea)}});if(!e)return null;a=[{from:d,to:f}];for(d=0;d<e.length;++d){f=e[d];for(var h=f.find(0),n=0;n<a.length;++n){var q=a[n];if(!(0>ab(q.to,h.from)||0<ab(q.from,h.to))){var r=[n,1],B=ab(q.from,
h.from),O=ab(q.to,h.to);(0>B||!f.inclusiveLeft&&!B)&&r.push({from:q.from,to:h.from});(0<O||!f.inclusiveRight&&!O)&&r.push({from:h.to,to:q.to});a.splice.apply(a,r);n+=r.length-3}}}return a}function fe(a){var d=a.markedSpans;if(d){for(var f=0;f<d.length;++f)d[f].marker.detachLine(a);a.markedSpans=null}}function pc(a,d){if(d){for(var f=0;f<d.length;++f)d[f].marker.attachLine(a);a.markedSpans=d}}function Sb(a,d){var f=a.lines.length-d.lines.length;if(0!=f)return f;f=a.find();var e=d.find(),h=ab(f.from,
e.from)||(a.inclusiveLeft?-1:0)-(d.inclusiveLeft?-1:0);return h?-h:(f=ab(f.to,e.to)||(a.inclusiveRight?1:0)-(d.inclusiveRight?1:0))?f:d.id-a.id}function Tb(a,d){a=Ub&&a.markedSpans;if(a)for(var f,e=0;e<a.length;++e)if(f=a[e],f.marker.collapsed&&null==(d?f.from:f.to)&&(!h||0>Sb(h,f.marker)))var h=f.marker;return h}function Xb(a,d,f,e,h){a=Ga(a,d);if(a=Ub&&a.markedSpans)for(d=0;d<a.length;++d){var n=a[d];if(n.marker.collapsed){var q=n.marker.find(0),r=ab(q.from,f)||(n.marker.inclusiveLeft?-1:0)-(h.inclusiveLeft?
-1:0),B=ab(q.to,e)||(n.marker.inclusiveRight?1:0)-(h.inclusiveRight?1:0);if(!(0<=r&&0>=B||0>=r&&0<=B)&&(0>=r&&(n.marker.inclusiveRight&&h.inclusiveLeft?0<=ab(q.to,f):0<ab(q.to,f))||0<=r&&(n.marker.inclusiveRight&&h.inclusiveLeft?0>=ab(q.from,e):0>ab(q.from,e))))return!0}}}function Ib(a){for(var d;d=Tb(a,!0);)a=d.find(-1,!0).line;return a}function ic(a,d){a=Ga(a,d);var f=Ib(a);return a==f?d:gb(f)}function Nc(a,d){if(d>a.lastLine())return d;var f=Ga(a,d);if(!qc(a,f))return d;for(;a=Tb(f,!1);)f=a.find(1,
!0).line;return gb(f)+1}function qc(a,d){var f=Ub&&d.markedSpans;if(f)for(var e,h=0;h<f.length;++h)if(e=f[h],e.marker.collapsed&&(null==e.from||!e.marker.widgetNode&&0==e.from&&e.marker.inclusiveLeft&&Oc(a,d,e)))return!0}function Oc(a,d,f){if(null==f.to)return d=f.marker.find(1,!0),Oc(a,d.line,Hc(d.line.markedSpans,f.marker));if(f.marker.inclusiveRight&&f.to==d.text.length)return!0;for(var e,h=0;h<d.markedSpans.length;++h)if(e=d.markedSpans[h],e.marker.collapsed&&!e.marker.widgetNode&&e.from==f.to&&
(null==e.to||e.to!=f.from)&&(e.marker.inclusiveLeft||f.marker.inclusiveRight)&&Oc(a,d,e))return!0}function vc(a){a=Ib(a);for(var d=0,f=a.parent,e=0;e<f.lines.length;++e){var h=f.lines[e];if(h==a)break;else d+=h.height}for(a=f.parent;a;f=a,a=f.parent)for(e=0;e<a.children.length&&(h=a.children[e],h!=f);++e)d+=h.height;return d}function rd(a){if(0==a.height)return 0;for(var d=a.text.length,f,e=a;f=Tb(e,!0);)f=f.find(0,!0),e=f.from.line,d+=f.from.ch-f.to.ch;for(e=a;f=Tb(e,!1);)a=f.find(0,!0),d-=e.text.length-
a.from.ch,e=a.to.line,d+=e.text.length-a.to.ch;return d}function wc(a){var d=a.display;a=a.doc;d.maxLine=Ga(a,a.first);d.maxLineLength=rd(d.maxLine);d.maxLineChanged=!0;a.iter(function(f){var e=rd(f);e>d.maxLineLength&&(d.maxLineLength=e,d.maxLine=f)})}function Pc(a,d){if(!a||/^\s*$/.test(a))return null;d=d.addModeClass?b:k;return d[a]||(d[a]=a.replace(/\S+/g,"cm-$&"))}function gd(a,d){var f=u("span",null,null,Yb?"padding-right: .1px":null);f={pre:u("pre",[f],"CodeMirror-line"),content:f,col:0,pos:0,
cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};d.measure={};for(var e=0;e<=(d.rest?d.rest.length:0);e++){var h=e?d.rest[e-1]:d.line,n=void 0;f.pos=0;f.addToken=mf;var q=a.display.measure;if(null!=nf)q=nf;else{var r=ja(q,document.createTextNode("A\u062eA")),B=ge(r,0,1).getBoundingClientRect();r=ge(r,1,2).getBoundingClientRect();ba(q);q=B&&B.left!=B.right?nf=3>r.right-B.right:!1}q&&(n=Wa(h,a.doc.direction))&&(f.addToken=Ie(f.addToken,n));f.map=[];var O=d!=a.display.externalMeasured&&
gb(h);a:{var aa=r=B=q=void 0,pa=void 0,ea=void 0,ia=void 0;n=f;O=vb(a,h,O);var xa=h.markedSpans,Ka=h.text,bb=0;if(xa)for(var mb=Ka.length,Ua=0,tb=1,pb="",wb=0;;){if(wb==Ua){pa=aa=r=ea="";B=q=null;wb=Infinity;for(var zb=[],fb=void 0,xb=0;xb<xa.length;++xb){var nb=xa[xb],qb=nb.marker;if("bookmark"==qb.type&&nb.from==Ua&&qb.widgetNode)zb.push(qb);else if(nb.from<=Ua&&(null==nb.to||nb.to>Ua||qb.collapsed&&nb.to==Ua&&nb.from==Ua)){null!=nb.to&&nb.to!=Ua&&wb>nb.to&&(wb=nb.to,aa="");qb.className&&(pa+=" "+
qb.className);qb.css&&(ea=(ea?ea+";":"")+qb.css);qb.startStyle&&nb.from==Ua&&(r+=" "+qb.startStyle);qb.endStyle&&nb.to==wb&&(fb||(fb=[])).push(qb.endStyle,nb.to);qb.title&&((q||(q={})).title=qb.title);if(qb.attributes)for(var jc in qb.attributes)(q||(q={}))[jc]=qb.attributes[jc];qb.collapsed&&(!B||0>Sb(B.marker,qb))&&(B=nb)}else nb.from>Ua&&wb>nb.from&&(wb=nb.from)}if(fb)for(xb=0;xb<fb.length;xb+=2)fb[xb+1]==wb&&(aa+=" "+fb[xb]);if(!B||B.from==Ua)for(fb=0;fb<zb.length;++fb)Qc(n,0,zb[fb]);if(B&&(B.from||
0)==Ua){Qc(n,(null==B.to?mb+1:B.to)-Ua,B.marker,null==B.from);if(null==B.to)break a;B.to==Ua&&(B=!1)}}if(Ua>=mb)break;for(zb=Math.min(mb,wb);;){if(pb){fb=Ua+pb.length;B||(xb=fb>zb?pb.slice(0,zb-Ua):pb,n.addToken(n,xb,ia?ia+pa:pa,r,Ua+xb.length==wb?aa:"",ea,q));if(fb>=zb){pb=pb.slice(zb-Ua);Ua=zb;break}Ua=fb;r=""}pb=Ka.slice(bb,bb=O[tb++]);ia=Pc(O[tb++],n.cm.options)}}else for(q=1;q<O.length;q+=2)n.addToken(n,Ka.slice(bb,bb=O[q]),Pc(O[q+1],n.cm.options))}h.styleClasses&&(h.styleClasses.bgClass&&(f.bgClass=
L(h.styleClasses.bgClass,f.bgClass||"")),h.styleClasses.textClass&&(f.textClass=L(h.styleClasses.textClass,f.textClass||"")));0==f.map.length&&f.map.push(0,0,f.content.appendChild(Aa(a.display.measure)));0==e?(d.measure.map=f.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(f.map),(d.measure.caches||(d.measure.caches=[])).push({}))}Yb&&(jc=f.content.lastChild,/\bcm-tab\b/.test(jc.className)||jc.querySelector&&jc.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack");
ta(a,"renderLine",a,d.line,f.pre);f.pre.className&&(f.textClass=L(f.pre.className,f.textClass||""));return f}function Jb(a){var d=y("span","\u2022","cm-invalidchar");d.title="\\u"+a.charCodeAt(0).toString(16);d.setAttribute("aria-label",d.title);return d}function mf(a,d,f,e,h,n,q){if(d){if(a.splitSpaces){var r=a.trailingSpace;if(1<d.length&&!/  /.test(d))r=d;else{for(var B="",O=0;O<d.length;O++){var aa=d.charAt(O);" "!=aa||!r||O!=d.length-1&&32!=d.charCodeAt(O+1)||(aa="\u00a0");B+=aa;r=" "==aa}r=
B}}else r=d;B=r;O=a.cm.state.specialChars;aa=!1;if(O.test(d)){r=document.createDocumentFragment();for(var pa=0;;){O.lastIndex=pa;var ea=O.exec(d),ia=ea?ea.index-pa:d.length-pa;if(ia){var xa=document.createTextNode(B.slice(pa,pa+ia));jb&&9>ub?r.appendChild(y("span",[xa])):r.appendChild(xa);a.map.push(a.pos,a.pos+ia,xa);a.col+=ia;a.pos+=ia}if(!ea)break;pa+=ia+1;"\t"==ea[0]?(ea=a.cm.options.tabSize,ea-=a.col%ea,ia=r.appendChild(y("span",N(ea),"cm-tab")),ia.setAttribute("role","presentation"),ia.setAttribute("cm-text",
"\t"),a.col+=ea):("\r"==ea[0]||"\n"==ea[0]?(ia=r.appendChild(y("span","\r"==ea[0]?"\u240d":"\u2424","cm-invalidchar")),ia.setAttribute("cm-text",ea[0])):(ia=a.cm.options.specialCharPlaceholder(ea[0]),ia.setAttribute("cm-text",ea[0]),jb&&9>ub?r.appendChild(y("span",[ia])):r.appendChild(ia)),a.col+=1);a.map.push(a.pos,a.pos+1,ia);a.pos++}}else a.col+=d.length,r=document.createTextNode(B),a.map.push(a.pos,a.pos+d.length,r),jb&&9>ub&&(aa=!0),a.pos+=d.length;a.trailingSpace=32==B.charCodeAt(d.length-1);
if(f||e||h||aa||n||q){d=f||"";e&&(d+=e);h&&(d+=h);e=y("span",[r],d,n);if(q)for(var Ka in q)q.hasOwnProperty(Ka)&&"style"!=Ka&&"class"!=Ka&&e.setAttribute(Ka,q[Ka]);return a.content.appendChild(e)}a.content.appendChild(r)}}function Ie(a,d){return function(f,e,h,n,q,r,B){h=h?h+" cm-force-border":"cm-force-border";for(var O=f.pos,aa=O+e.length;;){for(var pa=void 0,ea=0;ea<d.length&&!(pa=d[ea],pa.to>O&&pa.from<=O);ea++);if(pa.to>=aa)return a(f,e,h,n,q,r,B);a(f,e.slice(0,pa.to-O),h,n,null,r,B);n=null;
e=e.slice(pa.to-O);O=pa.to}}}function Qc(a,d,f,e){var h=!e&&f.widgetNode;h&&a.map.push(a.pos,a.pos+d,h);!e&&a.cm.display.input.needsContentAttribute&&(h||(h=a.content.appendChild(document.createElement("span"))),h.setAttribute("cm-marker",f.id));h&&(a.cm.display.input.setUneditable(h),a.content.appendChild(h));a.pos+=d;a.trailingSpace=!1}function he(a,d,f){for(var e=this.line=d,h;e=Tb(e,!1);)e=e.find(1,!0).line,(h||(h=[])).push(e);this.size=(this.rest=h)?gb(K(this.rest))-f+1:1;this.node=this.text=
null;this.hidden=qc(a,d)}function Fd(a,d,f){var e=[],h;for(h=d;h<f;)d=new he(a.doc,Ga(a.doc,h),h),h+=d.size,e.push(d);return e}function of(a,d){if(a=a.ownsGroup)try{var f=a.delayedCallbacks,e=0;do{for(;e<f.length;e++)f[e].call(null);for(var h=0;h<a.ops.length;h++){var n=a.ops[h];if(n.cursorActivityHandlers)for(;n.cursorActivityCalled<n.cursorActivityHandlers.length;)n.cursorActivityHandlers[n.cursorActivityCalled++].call(null,n.cm)}}while(e<f.length)}finally{c=null,d(a)}}function Db(a,d){var f=a._handlers&&
a._handlers[d]||Fe;if(f.length){var e=Array.prototype.slice.call(arguments,2);if(c)var h=c.delayedCallbacks;else g?h=g:(h=g=[],setTimeout(sd,0));for(var n=function(r){h.push(function(){return f[r].apply(null,e)})},q=0;q<f.length;++q)n(q)}}function sd(){var a=g;g=null;for(var d=0;d<a.length;++d)a[d]()}function kc(a,d,f,e){for(var h=0;h<d.changes.length;h++){var n=d.changes[h];if("text"==n){n=a;var q=d,r=q.text.className,B=td(n,q);q.text==q.node&&(q.node=B.pre);q.text.parentNode.replaceChild(B.pre,
q.text);q.text=B.pre;B.bgClass!=q.bgClass||B.textClass!=q.textClass?(q.bgClass=B.bgClass,q.textClass=B.textClass,Gd(n,q)):r&&(q.text.className=r)}else if("gutter"==n)hd(a,d,f,e);else if("class"==n)Gd(a,d);else if("widget"==n){n=a;q=d;r=e;q.alignable&&(q.alignable=null);B=wa("CodeMirror-linewidget");for(var O=q.node.firstChild,aa;O;O=aa)aa=O.nextSibling,B.test(O.className)&&q.node.removeChild(O);Qb(n,q,r)}}d.changes=null}function id(a){a.node==a.text&&(a.node=y("div",null,null,"position: relative"),
a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),jb&&8>ub&&(a.node.style.zIndex=2));return a.node}function td(a,d){var f=a.display.externalMeasured;return f&&f.line==d.line?(a.display.externalMeasured=null,d.measure=f.measure,f.built):gd(a,d)}function Gd(a,d){var f=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;f&&(f+=" CodeMirror-linebackground");if(d.background)f?d.background.className=f:(d.background.parentNode.removeChild(d.background),d.background=
null);else if(f){var e=id(d);d.background=e.insertBefore(y("div",null,f),e.firstChild);a.display.input.setUneditable(d.background)}d.line.wrapClass?id(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className="");d.text.className=(d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass)||""}function hd(a,d,f,e){d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null);d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null);if(d.line.gutterClass){var h=id(d);
d.gutterBackground=y("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px; width: "+e.gutterTotalWidth+"px");a.display.input.setUneditable(d.gutterBackground);h.insertBefore(d.gutterBackground,d.text)}h=d.line.gutterMarkers;if(a.options.lineNumbers||h){var n=id(d),q=d.gutter=y("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px");a.display.input.setUneditable(q);n.insertBefore(q,
d.text);d.line.gutterClass&&(q.className+=" "+d.line.gutterClass);!a.options.lineNumbers||h&&h["CodeMirror-linenumbers"]||(d.lineNumber=q.appendChild(y("div",dd(a.options,f),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+e.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(h)for(d=0;d<a.display.gutterSpecs.length;++d)f=a.display.gutterSpecs[d].className,(n=h.hasOwnProperty(f)&&h[f])&&q.appendChild(y("div",[n],"CodeMirror-gutter-elt","left: "+e.gutterLeft[f]+
"px; width: "+e.gutterWidth[f]+"px"))}}function Je(a,d,f,e){var h=td(a,d);d.text=d.node=h.pre;h.bgClass&&(d.bgClass=h.bgClass);h.textClass&&(d.textClass=h.textClass);Gd(a,d);hd(a,d,f,e);Qb(a,d,e);return d.node}function Qb(a,d,f){Ke(a,d.line,d,f,!0);if(d.rest)for(var e=0;e<d.rest.length;e++)Ke(a,d.rest[e],d,f,!1)}function Ke(a,d,f,e,h){if(d.widgets){var n=id(f),q=0;for(d=d.widgets;q<d.length;++q){var r=d[q],B=y("div",[r.node],"CodeMirror-linewidget"+(r.className?" "+r.className:""));r.handleMouseEvents||
B.setAttribute("cm-ignore-events","true");var O=r,aa=B,pa=e;if(O.noHScroll){(f.alignable||(f.alignable=[])).push(aa);var ea=pa.wrapperWidth;aa.style.left=pa.fixedPos+"px";O.coverGutter||(ea-=pa.gutterTotalWidth,aa.style.paddingLeft=pa.gutterTotalWidth+"px");aa.style.width=ea+"px"}O.coverGutter&&(aa.style.zIndex=5,aa.style.position="relative",O.noHScroll||(aa.style.marginLeft=-pa.gutterTotalWidth+"px"));a.display.input.setUneditable(B);h&&r.above?n.insertBefore(B,f.gutter||f.text):n.appendChild(B);
Db(r,"redraw")}}}function Va(a){if(null!=a.height)return a.height;var d=a.doc.cm;if(!d)return 0;if(!R(document.body,a.node)){var f="position: relative;";a.coverGutter&&(f+="margin-left: -"+d.display.gutters.offsetWidth+"px;");a.noHScroll&&(f+="width: "+d.display.wrapper.clientWidth+"px;");ja(d.display.measure,y("div",[a.node],null,f))}return a.height=a.node.parentNode.offsetHeight}function yc(a,d){for(d=d.target||d.srcElement;d!=a.wrapper;d=d.parentNode)if(!d||1==d.nodeType&&"true"==d.getAttribute("cm-ignore-events")||
d.parentNode==a.sizer&&d!=a.mover)return!0}function Ca(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Le(a){if(a.cachedPaddingH)return a.cachedPaddingH;var d=ja(a.measure,y("pre","x","CodeMirror-line-like"));d=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle;d={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};isNaN(d.left)||isNaN(d.right)||(a.cachedPaddingH=d);return d}function db(a){return 50-a.display.nativeBarWidth}function rc(a){return a.display.scroller.clientWidth-
db(a)-a.display.barWidth}function ie(a){return a.display.scroller.clientHeight-db(a)-a.display.barHeight}function ud(a,d,f){if(a.line==d)return{map:a.measure.map,cache:a.measure.cache};for(var e=0;e<a.rest.length;e++)if(a.rest[e]==d)return{map:a.measure.maps[e],cache:a.measure.caches[e]};for(d=0;d<a.rest.length;d++)if(gb(a.rest[d])>f)return{map:a.measure.maps[d],cache:a.measure.caches[d],before:!0}}function Hd(a,d){if(d>=a.display.viewFrom&&d<a.display.viewTo)return a.display.view[hb(a,d)];if((a=
a.display.externalMeasured)&&d>=a.lineN&&d<a.lineN+a.size)return a}function Rc(a,d){var f=gb(d),e=Hd(a,f);e&&!e.text?e=null:e&&e.changes&&(kc(a,e,f,Vb(a)),a.curOp.forceUpdate=!0);if(!e){var h=Ib(d);e=gb(h);h=a.display.externalMeasured=new he(a.doc,h,e);h.lineN=e;e=h.built=gd(a,h);h.text=e.pre;ja(a.display.lineMeasure,e.pre);e=h}a=ud(e,d,f);return{line:d,view:e,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function lc(a,d,f,e,h){d.before&&(f=-1);var n=f+(e||"");if(d.cache.hasOwnProperty(n))a=
d.cache[n];else{d.rect||(d.rect=d.view.text.getBoundingClientRect());if(!d.hasHeights){var q=d.view,r=d.rect,B=a.options.lineWrapping,O=B&&rc(a);if(!q.measure.heights||B&&q.measure.width!=O){var aa=q.measure.heights=[];if(B)for(q.measure.width=O,q=q.text.firstChild.getClientRects(),B=0;B<q.length-1;B++){O=q[B];var pa=q[B+1];2<Math.abs(O.bottom-pa.bottom)&&aa.push((O.bottom+pa.top)/2-r.top)}aa.push(r.bottom-r.top)}d.hasHeights=!0}aa=e;q=Eb(d.map,f,aa);e=q.node;r=q.start;B=q.end;f=q.collapse;if(3==
e.nodeType){for(var ea=0;4>ea;ea++){for(;r&&Y(d.line.text.charAt(q.coverStart+r));)--r;for(;q.coverStart+B<q.coverEnd&&Y(d.line.text.charAt(q.coverStart+B));)++B;if(jb&&9>ub&&0==r&&B==q.coverEnd-q.coverStart)var ia=e.parentNode.getBoundingClientRect();else{ia=ge(e,r,B).getClientRects();B=m;if("left"==aa)for(O=0;O<ia.length&&(B=ia[O]).left==B.right;O++);else for(O=ia.length-1;0<=O&&(B=ia[O]).left==B.right;O--);ia=B}if(ia.left||ia.right||0==r)break;B=r;--r;f="right"}jb&&11>ub&&((ea=!window.screen||
null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=ac?ea=ac:(aa=ja(a.display.measure,y("span","x")),ea=aa.getBoundingClientRect(),aa=ge(aa,0,1).getBoundingClientRect(),ea=ac=1<Math.abs(ea.left-aa.left)),ea=!ea),ea||(ea=screen.logicalXDPI/screen.deviceXDPI,aa=screen.logicalYDPI/screen.deviceYDPI,ia={left:ia.left*ea,right:ia.right*ea,top:ia.top*aa,bottom:ia.bottom*aa}))}else 0<r&&(f=aa="right"),ia=a.options.lineWrapping&&1<(ea=e.getClientRects()).length?ea["right"==aa?ea.length-
1:0]:e.getBoundingClientRect();!(jb&&9>ub)||r||ia&&(ia.left||ia.right)||(ia=(ia=e.parentNode.getClientRects()[0])?{left:ia.left,right:ia.left+Sa(a.display),top:ia.top,bottom:ia.bottom}:m);e=ia.top-d.rect.top;r=ia.bottom-d.rect.top;ea=(e+r)/2;aa=d.view.measure.heights;for(q=0;q<aa.length-1&&!(ea<aa[q]);q++);f={left:("right"==f?ia.right:ia.left)-d.rect.left,right:("left"==f?ia.left:ia.right)-d.rect.left,top:q?aa[q-1]:0,bottom:aa[q]};ia.left||ia.right||(f.bogus=!0);a.options.singleCursorHeightPerLine||
(f.rtop=e,f.rbottom=r);a=f;a.bogus||(d.cache[n]=a)}return{left:a.left,right:a.right,top:h?a.rtop:a.top,bottom:h?a.rbottom:a.bottom}}function Eb(a,d,f){for(var e,h,n,q,r,B,O=0;O<a.length;O+=3){r=a[O];B=a[O+1];if(d<r)h=0,n=1,q="left";else if(d<B)h=d-r,n=h+1;else if(O==a.length-3||d==B&&a[O+3]>d)n=B-r,h=n-1,d>=B&&(q="right");if(null!=h){e=a[O+2];r==B&&f==(e.insertLeft?"left":"right")&&(q=f);if("left"==f&&0==h)for(;O&&a[O-2]==a[O-3]&&a[O-1].insertLeft;)e=a[(O-=3)+2],q="left";if("right"==f&&h==B-r)for(;O<
a.length-3&&a[O+3]==a[O+4]&&!a[O+5].insertLeft;)e=a[(O+=3)+2],q="right";break}}return{node:e,start:h,end:n,collapse:q,coverStart:r,coverEnd:B}}function Jc(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var d=0;d<a.rest.length;d++)a.measure.caches[d]={}}function Sc(a){a.display.externalMeasure=null;ba(a.display.lineMeasure);for(var d=0;d<a.display.view.length;d++)Jc(a.display.view[d])}function Fb(a){Sc(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=
null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function Me(){return Ne&&Oe?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function je(){return Ne&&Oe?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function z(a){var d=
0;if(a.widgets)for(var f=0;f<a.widgets.length;++f)a.widgets[f].above&&(d+=Va(a.widgets[f]));return d}function Q(a,d,f,e,h){h||(h=z(d),f.top+=h,f.bottom+=h);if("line"==e)return f;e||(e="local");d=vc(d);d="local"==e?d+a.display.lineSpace.offsetTop:d-a.display.viewOffset;if("page"==e||"window"==e)a=a.display.lineSpace.getBoundingClientRect(),d+=a.top+("window"==e?0:je()),e=a.left+("window"==e?0:Me()),f.left+=e,f.right+=e;f.top+=d;f.bottom+=d;return f}function p(a,d,f){if("div"==f)return d;var e=d.left;
d=d.top;"page"==f?(e-=Me(),d-=je()):"local"!=f&&f||(f=a.display.sizer.getBoundingClientRect(),e+=f.left,d+=f.top);a=a.display.lineSpace.getBoundingClientRect();return{left:e-a.left,top:d-a.top}}function v(a,d,f,e,h){e||(e=Ga(a.doc,d.line));var n=e;d=d.ch;e=lc(a,Rc(a,e),d,h);return Q(a,n,e,f)}function w(a,d,f,e,h,n){function q(ea,ia){ea=lc(a,h,ea,ia?"right":"left",n);ia?ea.left=ea.right:ea.right=ea.left;return Q(a,e,ea,f)}function r(ea,ia,xa){return q(xa?ea-1:ea,1==B[ia].level!=xa)}e=e||Ga(a.doc,d.line);
h||(h=Rc(a,e));var B=Wa(e,a.doc.direction),O=d.ch;d=d.sticky;O>=e.text.length?(O=e.text.length,d="before"):0>=O&&(O=0,d="after");if(!B)return q("before"==d?O-1:O,"before"==d);var aa=La(B,O,d),pa=ae;aa=r(O,aa,"before"==d);null!=pa&&(aa.other=r(O,pa,"before"!=d));return aa}function J(a,d){var f=0;d=Ta(a.doc,d);a.options.lineWrapping||(f=Sa(a.display)*d.ch);d=Ga(a.doc,d.line);a=vc(d)+a.display.lineSpace.offsetTop;return{left:f,right:f,top:a,bottom:a+d.height}}function U(a,d,f,e,h){a=Fa(a,d,f);a.xRel=
h;e&&(a.outside=e);return a}function V(a,d,f){var e=a.doc;f+=a.display.viewOffset;if(0>f)return U(e.first,0,null,-1,-1);var h=fc(e,f),n=e.first+e.size-1;if(h>n)return U(e.first+e.size-1,Ga(e,n).text.length,null,1,1);0>d&&(d=0);for(var q=Ga(e,h);;){n=$a(a,q,h,d,f);var r=void 0;var B=n.ch+(0<n.xRel||0<n.outside?1:0);if(q=Ub&&q.markedSpans)for(var O=0;O<q.length;++O){var aa=q[O];aa.marker.collapsed&&(null==aa.from||aa.from<B)&&(null==aa.to||aa.to>B)&&(!r||0>Sb(r,aa.marker))&&(r=aa.marker)}if(!r)return n;
n=r.find(1);if(n.line==h)return n;q=Ga(e,h=n.line)}}function ma(a,d,f,e){e-=z(d);d=d.text.length;var h=fa(function(n){return lc(a,f,n-1).bottom<=e},d,0);d=fa(function(n){return lc(a,f,n).top>e},h,d);return{begin:h,end:d}}function Ia(a,d,f,e){f||(f=Rc(a,d));e=Q(a,d,lc(a,f,e),"line").top;return ma(a,d,f,e)}function Na(a,d,f,e){return a.bottom<=f?!1:a.top>f?!0:(e?a.left:a.right)>d}function $a(a,d,f,e,h){h-=vc(d);var n=Rc(a,d),q=z(d),r=0,B=d.text.length,O=!0,aa=Wa(d,a.doc.direction);aa&&(aa=(a.options.lineWrapping?
lb:Xa)(a,d,f,n,aa,e,h),r=(O=1!=aa.level)?aa.from:aa.to-1,B=O?aa.to:aa.from-1);var pa=null,ea=null;aa=fa(function(xa){var Ka=lc(a,n,xa);Ka.top+=q;Ka.bottom+=q;if(!Na(Ka,e,h,!1))return!1;Ka.top<=h&&Ka.left<=e&&(pa=xa,ea=Ka);return!0},r,B);var ia=!1;ea?(r=e-ea.left<ea.right-e,O=r==O,aa=pa+(O?0:1),O=O?"after":"before",r=r?ea.left:ea.right):(O||aa!=B&&aa!=r||aa++,O=0==aa?"after":aa==d.text.length?"before":lc(a,n,aa-(O?1:0)).bottom+q<=h==O?"after":"before",ia=w(a,Fa(f,aa,O),"line",d,n),r=ia.left,ia=h<ia.top?
-1:h>=ia.bottom?1:0);aa=Z(d.text,aa,1);return U(f,aa,O,ia,e-r)}function Xa(a,d,f,e,h,n,q){var r=fa(function(aa){aa=h[aa];var pa=1!=aa.level;return Na(w(a,Fa(f,pa?aa.to:aa.from,pa?"before":"after"),"line",d,e),n,q,!0)},0,h.length-1),B=h[r];if(0<r){var O=1!=B.level;O=w(a,Fa(f,O?B.from:B.to,O?"after":"before"),"line",d,e);Na(O,n,q,!0)&&O.top>q&&(B=h[r-1])}return B}function lb(a,d,f,e,h,n,q){q=ma(a,d,e,q);f=q.begin;q=q.end;/\s/.test(d.text.charAt(q-1))&&q--;for(var r=d=null,B=0;B<h.length;B++){var O=
h[B];if(!(O.from>=q||O.to<=f)){var aa=lc(a,e,1!=O.level?Math.min(q,O.to)-1:Math.max(f,O.from)).right;aa=aa<n?n-aa+1E9:aa-n;if(!d||r>aa)d=O,r=aa}}d||(d=h[h.length-1]);d.from<f&&(d={from:f,to:d.to,level:d.level});d.to>q&&(d={from:d.from,to:q,level:d.level});return d}function rb(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==x){x=y("pre",null,"CodeMirror-line-like");for(var d=0;49>d;++d)x.appendChild(document.createTextNode("x")),x.appendChild(y("br"));x.appendChild(document.createTextNode("x"))}ja(a.measure,
x);d=x.offsetHeight/50;3<d&&(a.cachedTextHeight=d);ba(a.measure);return d||1}function Sa(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var d=y("span","xxxxxxxxxx"),f=y("pre",[d],"CodeMirror-line-like");ja(a.measure,f);d=d.getBoundingClientRect();d=(d.right-d.left)/10;2<d&&(a.cachedCharWidth=d);return d||10}function Vb(a){for(var d=a.display,f={},e={},h=d.gutters.clientLeft,n=d.gutters.firstChild,q=0;n;n=n.nextSibling,++q){var r=a.display.gutterSpecs[q].className;f[r]=n.offsetLeft+n.clientLeft+
h;e[r]=n.clientWidth}return{fixedPos:bc(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:f,gutterWidth:e,wrapperWidth:d.wrapper.clientWidth}}function bc(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Ja(a){var d=rb(a.display),f=a.options.lineWrapping,e=f&&Math.max(5,a.display.scroller.clientWidth/Sa(a.display)-3);return function(h){if(qc(a.doc,h))return 0;var n=0;if(h.widgets)for(var q=0;q<h.widgets.length;q++)h.widgets[q].height&&(n+=h.widgets[q].height);
return f?n+(Math.ceil(h.text.length/e)||1)*d:n+d}}function cc(a){var d=a.doc,f=Ja(a);d.iter(function(e){var h=f(e);h!=e.height&&Kb(e,h)})}function zc(a,d,f,e){var h=a.display;if(!f&&"true"==(d.target||d.srcElement).getAttribute("cm-not-content"))return null;f=h.lineSpace.getBoundingClientRect();try{var n=d.clientX-f.left;var q=d.clientY-f.top}catch(B){return null}d=V(a,n,q);var r;e&&0<d.xRel&&(r=Ga(a.doc,d.line).text).length==d.ch&&(e=G(r,r.length,a.options.tabSize)-r.length,d=Fa(d.line,Math.max(0,
Math.round((n-Le(a.display).left)/Sa(a.display))-e)));return d}function hb(a,d){if(d>=a.display.viewTo)return null;d-=a.display.viewFrom;if(0>d)return null;a=a.display.view;for(var f=0;f<a.length;f++)if(d-=a[f].size,0>d)return f}function Mb(a,d,f,e){null==d&&(d=a.doc.first);null==f&&(f=a.doc.first+a.doc.size);e||(e=0);var h=a.display;e&&f<h.viewTo&&(null==h.updateLineNumbers||h.updateLineNumbers>d)&&(h.updateLineNumbers=d);a.curOp.viewChanged=!0;if(d>=h.viewTo)Ub&&ic(a.doc,d)<h.viewTo&&Tc(a);else if(f<=
h.viewFrom)Ub&&Nc(a.doc,f+e)>h.viewFrom?Tc(a):(h.viewFrom+=e,h.viewTo+=e);else if(d<=h.viewFrom&&f>=h.viewTo)Tc(a);else if(d<=h.viewFrom){var n=Pe(a,f,f+e,1);n?(h.view=h.view.slice(n.index),h.viewFrom=n.lineN,h.viewTo+=e):Tc(a)}else if(f>=h.viewTo)(n=Pe(a,d,d,-1))?(h.view=h.view.slice(0,n.index),h.viewTo=n.lineN):Tc(a);else{n=Pe(a,d,d,-1);var q=Pe(a,f,f+e,1);n&&q?(h.view=h.view.slice(0,n.index).concat(Fd(a,n.lineN,q.lineN)).concat(h.view.slice(q.index)),h.viewTo+=e):Tc(a)}if(a=h.externalMeasured)f<
a.lineN?a.lineN+=e:d<a.lineN+a.size&&(h.externalMeasured=null)}function Ac(a,d,f){a.curOp.viewChanged=!0;var e=a.display,h=a.display.externalMeasured;h&&d>=h.lineN&&d<h.lineN+h.size&&(e.externalMeasured=null);d<e.viewFrom||d>=e.viewTo||(a=e.view[hb(a,d)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==D(a,f)&&a.push(f)))}function Tc(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function Pe(a,d,f,e){var h=hb(a,d),n=a.display.view;if(!Ub||f==a.doc.first+
a.doc.size)return{index:h,lineN:f};for(var q=a.display.viewFrom,r=0;r<h;r++)q+=n[r].size;if(q!=d){if(0<e){if(h==n.length-1)return null;d=q+n[h].size-d;h++}else d=q-d;f+=d}for(;ic(a.doc,f)!=f;){if(h==(0>e?0:n.length-1))return null;f+=e*n[h-(0>e?1:0)].size;h+=e}return{index:h,lineN:f}}function pf(a){a=a.display.view;for(var d=0,f=0;f<a.length;f++){var e=a[f];e.hidden||e.node&&!e.changes||++d}return d}function ke(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Yf(a,d){void 0===
d&&(d=!0);for(var f=a.doc,e={},h=e.cursors=document.createDocumentFragment(),n=e.selection=document.createDocumentFragment(),q=0;q<f.sel.ranges.length;q++)if(d||q!=f.sel.primIndex){var r=f.sel.ranges[q];if(!(r.from().line>=a.display.viewTo||r.to().line<a.display.viewFrom)){var B=r.empty();(B||a.options.showCursorWhenSelecting)&&Zf(a,r.head,h);B||ib(a,r,n)}}return e}function Zf(a,d,f){d=w(a,d,"div",null,null,!a.options.singleCursorHeightPerLine);var e=f.appendChild(y("div","\u00a0","CodeMirror-cursor"));
e.style.left=d.left+"px";e.style.top=d.top+"px";e.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px";d.other&&(a=f.appendChild(y("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=d.other.left+"px",a.style.top=d.other.top+"px",a.style.height=.85*(d.other.bottom-d.other.top)+"px")}function Qe(a,d){return a.top-d.top||a.left-d.left}function ib(a,d,f){function e(ia,xa,Ka,bb){0>xa&&(xa=0);xa=Math.round(xa);bb=Math.round(bb);r.appendChild(y("div",
null,"CodeMirror-selected","position: absolute; left: "+ia+"px;\n                             top: "+xa+"px; width: "+(null==Ka?aa-ia:Ka)+"px;\n                             height: "+(bb-xa)+"px"))}function h(ia,xa,Ka){function bb(fb,xb){return v(a,Fa(ia,fb),"div",Ua,xb)}function mb(fb,xb,nb){fb=Ia(a,Ua,null,fb);xb="ltr"==xb==("after"==nb)?"left":"right";nb="after"==nb?fb.begin:fb.end-(/\s/.test(Ua.text.charAt(fb.end-1))?2:1);return bb(nb,xb)[xb]}var Ua=Ga(q,ia),tb=Ua.text.length,pb,wb,zb=Wa(Ua,q.direction);
Ea(zb,xa||0,null==Ka?tb:Ka,function(fb,xb,nb,qb){var jc="ltr"==nb,sc=bb(fb,jc?"left":"right"),Bc=bb(xb-1,jc?"right":"left"),le=null==xa&&0==fb,me=null==Ka&&xb==tb,Xg=0==qb;qb=!zb||qb==zb.length-1;3>=Bc.top-sc.top?(xb=(pa?le:me)&&Xg?O:(jc?sc:Bc).left,e(xb,sc.top,((pa?me:le)&&qb?aa:(jc?Bc:sc).right)-xb,sc.bottom)):(jc?(jc=pa&&le&&Xg?O:sc.left,le=pa?aa:mb(fb,nb,"before"),fb=pa?O:mb(xb,nb,"after"),me=pa&&me&&qb?aa:Bc.right):(jc=pa?mb(fb,nb,"before"):O,le=!pa&&le&&Xg?aa:sc.right,fb=!pa&&me&&qb?O:Bc.left,
me=pa?mb(xb,nb,"after"):aa),e(jc,sc.top,le-jc,sc.bottom),sc.bottom<Bc.top&&e(O,sc.bottom,null,Bc.top),e(fb,Bc.top,me-fb,Bc.bottom));if(!pb||0>Qe(sc,pb))pb=sc;0>Qe(Bc,pb)&&(pb=Bc);if(!wb||0>Qe(sc,wb))wb=sc;0>Qe(Bc,wb)&&(wb=Bc)});return{start:pb,end:wb}}var n=a.display,q=a.doc,r=document.createDocumentFragment(),B=Le(a.display),O=B.left,aa=Math.max(n.sizerWidth,rc(a)-n.sizer.offsetLeft)-B.right,pa="ltr"==q.direction;n=d.from();d=d.to();if(n.line==d.line)h(n.line,n.ch,d.ch);else{var ea=Ga(q,n.line);
B=Ga(q,d.line);B=Ib(ea)==Ib(B);n=h(n.line,n.ch,B?ea.text.length+1:null).end;d=h(d.line,B?0:null,d.ch).start;B&&(n.top<d.top-2?(e(n.right,n.top,null,n.bottom),e(O,d.top,d.left,d.bottom)):e(n.right,n.top,d.left-n.right,n.bottom));n.bottom<d.top&&e(O,n.bottom,null,d.top)}f.appendChild(r)}function qf(a){if(a.state.focused){var d=a.display;clearInterval(d.blinker);var f=!0;d.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?d.blinker=setInterval(function(){a.hasFocus()||Id(a);d.cursorDiv.style.visibility=
(f=!f)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(d.cursorDiv.style.visibility="hidden")}}function ne(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||oe(a))}function rf(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Id(a))},100)}function oe(a,d){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&(a.state.focused||(ta(a,
"focus",a,d),a.state.focused=!0,F(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),Yb&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),qf(a))}function Id(a,d){a.state.delayingBlurEvent||(a.state.focused&&(ta(a,"blur",a,d),a.state.focused=!1,vd(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Re(a){for(var d=
a.display,f=d.lineDiv.offsetTop,e=0;e<d.view.length;e++){var h=d.view[e],n=a.options.lineWrapping,q=0;if(!h.hidden){if(jb&&8>ub){n=h.node.offsetTop+h.node.offsetHeight;var r=n-f;f=n}else{var B=h.node.getBoundingClientRect();r=B.bottom-B.top;!n&&h.text.firstChild&&(q=h.text.firstChild.getBoundingClientRect().right-B.left-1)}n=h.line.height-r;if(.005<n||-.005>n)if(Kb(h.line,r),$f(h.line),h.rest)for(r=0;r<h.rest.length;r++)$f(h.rest[r]);q>a.display.sizerWidth&&(q=Math.ceil(q/Sa(a.display)),q>a.display.maxLineLength&&
(a.display.maxLineLength=q,a.display.maxLine=h.line,a.display.maxLineChanged=!0))}}}function $f(a){if(a.widgets)for(var d=0;d<a.widgets.length;++d){var f=a.widgets[d],e=f.node.parentNode;e&&(f.height=e.offsetHeight)}}function yb(a,d,f){var e=f&&null!=f.top?Math.max(0,f.top):a.scroller.scrollTop;e=Math.floor(e-a.lineSpace.offsetTop);var h=f&&null!=f.bottom?f.bottom:e+a.wrapper.clientHeight;e=fc(d,e);h=fc(d,h);if(f&&f.ensure){var n=f.ensure.from.line;f=f.ensure.to.line;n<e?(e=n,h=fc(d,vc(Ga(d,n))+a.wrapper.clientHeight)):
Math.min(f,d.lastLine())>=h&&(e=fc(d,vc(Ga(d,f))-a.wrapper.clientHeight),h=f)}return{from:e,to:Math.max(h,e+1)}}function sf(a,d){var f=a.display,e=rb(a.display);0>d.top&&(d.top=0);var h=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,n=ie(a),q={};d.bottom-d.top>n&&(d.bottom=d.top+n);var r=a.doc.height+Ca(f),B=d.top<e;e=d.bottom>r-e;d.top<h?q.scrollTop=B?0:d.top:d.bottom>h+n&&(n=Math.min(d.top,(e?r:d.bottom)-n),n!=h&&(q.scrollTop=n));h=a.options.fixedGutter?0:f.gutters.offsetWidth;
n=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft-h;a=rc(a)-f.gutters.offsetWidth;if(f=d.right-d.left>a)d.right=d.left+a;10>d.left?q.scrollLeft=0:d.left<n?q.scrollLeft=Math.max(0,d.left+h-(f?0:10)):d.right>a+n-3&&(q.scrollLeft=d.right+(f?0:10)-a);return q}function wd(a,d){null!=d&&(Se(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+d)}function Jd(a){Se(a);var d=a.getCursor();a.curOp.scrollToPos={from:d,to:d,margin:a.options.cursorScrollMargin}}
function Kc(a,d,f){null==d&&null==f||Se(a);null!=d&&(a.curOp.scrollLeft=d);null!=f&&(a.curOp.scrollTop=f)}function Se(a){var d=a.curOp.scrollToPos;if(d){a.curOp.scrollToPos=null;var f=J(a,d.from),e=J(a,d.to);xd(a,f,e,d.margin)}}function xd(a,d,f,e){d=sf(a,{left:Math.min(d.left,f.left),top:Math.min(d.top,f.top)-e,right:Math.max(d.right,f.right),bottom:Math.max(d.bottom,f.bottom)+e});Kc(a,d.scrollLeft,d.scrollTop)}function E(a,d){2>Math.abs(a.doc.scrollTop-d)||(Uc||tf(a,{top:d}),ag(a,d,!0),Uc&&tf(a),
dc(a,100))}function ag(a,d,f){d=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,d));if(a.display.scroller.scrollTop!=d||f)a.doc.scrollTop=d,a.display.scrollbars.setScrollTop(d),a.display.scroller.scrollTop!=d&&(a.display.scroller.scrollTop=d)}function Vc(a,d,f,e){d=Math.max(0,Math.min(d,a.display.scroller.scrollWidth-a.display.scroller.clientWidth));(f?d==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-d))&&!e||(a.doc.scrollLeft=d,bg(a),a.display.scroller.scrollLeft!=
d&&(a.display.scroller.scrollLeft=d),a.display.scrollbars.setScrollLeft(d))}function Kd(a){var d=a.display,f=d.gutters.offsetWidth,e=Math.round(a.doc.height+Ca(a.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:a.options.fixedGutter?f:0,docHeight:e,scrollHeight:e+db(a)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:f}}function Ld(a,d){d||(d=
Kd(a));var f=a.display.barWidth,e=a.display.barHeight;cg(a,d);for(d=0;4>d&&f!=a.display.barWidth||e!=a.display.barHeight;d++)f!=a.display.barWidth&&a.options.lineWrapping&&Re(a),cg(a,Kd(a)),f=a.display.barWidth,e=a.display.barHeight}function cg(a,d){var f=a.display,e=f.scrollbars.update(d);f.sizer.style.paddingRight=(f.barWidth=e.right)+"px";f.sizer.style.paddingBottom=(f.barHeight=e.bottom)+"px";f.heightForcer.style.borderBottom=e.bottom+"px solid transparent";e.right&&e.bottom?(f.scrollbarFiller.style.display=
"block",f.scrollbarFiller.style.height=e.bottom+"px",f.scrollbarFiller.style.width=e.right+"px"):f.scrollbarFiller.style.display="";e.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(f.gutterFiller.style.display="block",f.gutterFiller.style.height=e.bottom+"px",f.gutterFiller.style.width=d.gutterWidth+"px"):f.gutterFiller.style.display=""}function dg(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&vd(a.display.wrapper,a.display.scrollbars.addClass));
a.display.scrollbars=new ua[a.options.scrollbarStyle](function(d){a.display.wrapper.insertBefore(d,a.display.scrollbarFiller);Za(d,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)});d.setAttribute("cm-not-content","true")},function(d,f){"horizontal"==f?Vc(a,d):E(a,d)},a);a.display.scrollbars.addClass&&F(a.display.wrapper,a.display.scrollbars.addClass)}function Wb(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,
changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Oa};a=a.curOp;c?c.ops.push(a):a.ownsGroup=c={ops:[a],delayedCallbacks:[]}}function Cc(a){(a=a.curOp)&&of(a,function(d){for(var f=0;f<d.ops.length;f++)d.ops[f].cm.curOp=null;d=d.ops;for(f=0;f<d.length;f++){var e=d[f],h=e.cm,n=h.display,q=h.display;!q.scrollbarsClipped&&q.scroller.offsetWidth&&(q.nativeBarWidth=q.scroller.offsetWidth-q.scroller.clientWidth,
q.heightForcer.style.height=db(h)+"px",q.sizer.style.marginBottom=-q.nativeBarWidth+"px",q.sizer.style.borderRightWidth=db(h)+"px",q.scrollbarsClipped=!0);e.updateMaxLine&&wc(h);e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&h.options.lineWrapping;e.update=e.mustUpdate&&new cb(h,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}for(f=0;f<d.length;f++)e=d[f],e.updatedDisplay=
e.mustUpdate&&uf(e.cm,e.update);for(f=0;f<d.length;f++)if(e=d[f],h=e.cm,n=h.display,e.updatedDisplay&&Re(h),e.barMeasure=Kd(h),n.maxLineChanged&&!h.options.lineWrapping&&(q=n.maxLine.text.length,q=lc(h,Rc(h,n.maxLine),q,void 0),e.adjustWidthTo=q.left+3,h.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+db(h)+h.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-rc(h))),e.updatedDisplay||e.selectionChanged)e.preparedSelection=
n.input.prepareSelection();for(f=0;f<d.length;f++)e=d[f],h=e.cm,null!=e.adjustWidthTo&&(h.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<h.doc.scrollLeft&&Vc(h,Math.min(h.display.scroller.scrollLeft,e.maxScrollLeft),!0),h.display.maxLineChanged=!1),n=e.focus&&e.focus==I(),e.preparedSelection&&h.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=h.doc.height)&&Ld(h,e.barMeasure),e.updatedDisplay&&Md(h,e.barMeasure),e.selectionChanged&&qf(h),h.state.focused&&
e.updateInput&&h.display.input.reset(e.typing),n&&ne(e.cm);for(f=0;f<d.length;f++){var r=void 0;e=d[f];h=e.cm;n=h.display;q=h.doc;e.updatedDisplay&&eg(h,e.update);null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null);null!=e.scrollTop&&ag(h,e.scrollTop,e.forceScroll);null!=e.scrollLeft&&Vc(h,e.scrollLeft,!0,!0);if(e.scrollToPos){var B=Ta(q,e.scrollToPos.from);var O=Ta(q,e.scrollToPos.to);var aa=e.scrollToPos.margin;null==aa&&(aa=0);h.options.lineWrapping||
B!=O||(B=B.ch?Fa(B.line,"before"==B.sticky?B.ch-1:B.ch,"after"):B,O="before"==B.sticky?Fa(B.line,B.ch+1,"before"):B);for(var pa=0;5>pa;pa++){var ea=!1;r=w(h,B);var ia=O&&O!=B?w(h,O):r;r={left:Math.min(r.left,ia.left),top:Math.min(r.top,ia.top)-aa,right:Math.max(r.left,ia.left),bottom:Math.max(r.bottom,ia.bottom)+aa};ia=sf(h,r);var xa=h.doc.scrollTop,Ka=h.doc.scrollLeft;null!=ia.scrollTop&&(E(h,ia.scrollTop),1<Math.abs(h.doc.scrollTop-xa)&&(ea=!0));null!=ia.scrollLeft&&(Vc(h,ia.scrollLeft),1<Math.abs(h.doc.scrollLeft-
Ka)&&(ea=!0));if(!ea)break}O=r;za(h,"scrollCursorIntoView")||(aa=h.display,pa=aa.sizer.getBoundingClientRect(),B=null,0>O.top+pa.top?B=!0:O.bottom+pa.top>(window.innerHeight||document.documentElement.clientHeight)&&(B=!1),null==B||Yg||(O=y("div","\u200b",null,"position: absolute;\n                         top: "+(O.top-aa.viewOffset-h.display.lineSpace.offsetTop)+"px;\n                         height: "+(O.bottom-O.top+db(h)+aa.barHeight)+"px;\n                         left: "+O.left+"px; width: "+
Math.max(2,O.right-O.left)+"px;"),h.display.lineSpace.appendChild(O),O.scrollIntoView(B),h.display.lineSpace.removeChild(O)))}O=e.maybeHiddenMarkers;B=e.maybeUnhiddenMarkers;if(O)for(aa=0;aa<O.length;++aa)O[aa].lines.length||ta(O[aa],"hide");if(B)for(O=0;O<B.length;++O)B[O].lines.length&&ta(B[O],"unhide");n.wrapper.offsetHeight&&(q.scrollTop=h.display.scroller.scrollTop);e.changeObjs&&ta(h,"changes",h,e.changeObjs);e.update&&e.update.finish()}})}function mc(a,d){if(a.curOp)return d();Wb(a);try{return d()}finally{Cc(a)}}
function Nb(a,d){return function(){if(a.curOp)return d.apply(a,arguments);Wb(a);try{return d.apply(a,arguments)}finally{Cc(a)}}}function Zb(a){return function(){if(this.curOp)return a.apply(this,arguments);Wb(this);try{return a.apply(this,arguments)}finally{Cc(this)}}}function Ob(a){return function(){var d=this.cm;if(!d||d.curOp)return a.apply(this,arguments);Wb(d);try{return a.apply(this,arguments)}finally{Cc(d)}}}function dc(a,d){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(d,
C(Zg,a))}function Zg(a){var d=a.doc;if(!(d.highlightFrontier>=a.display.viewTo)){var f=+new Date+a.options.workTime,e=Mc(a,d.highlightFrontier),h=[];d.iter(e.line,Math.min(d.first+d.size,a.display.viewTo+500),function(n){if(e.line>=a.display.viewFrom){var q=n.styles,r=n.text.length>a.options.maxHighlightLength?qa(d.mode,e.state):null,B=oc(a,n,e,!0);r&&(e.state=r);n.styles=B.styles;r=n.styleClasses;(B=B.classes)?n.styleClasses=B:r&&(n.styleClasses=null);B=!q||q.length!=n.styles.length||r!=B&&(!r||
!B||r.bgClass!=B.bgClass||r.textClass!=B.textClass);for(r=0;!B&&r<q.length;++r)B=q[r]!=n.styles[r];B&&h.push(e.line);n.stateAfter=e.save()}else n.text.length<=a.options.maxHighlightLength&&de(a,n.text,e),n.stateAfter=0==e.line%5?e.save():null;e.nextLine();if(+new Date>f)return dc(a,a.options.workDelay),!0});d.highlightFrontier=e.line;d.modeFrontier=Math.max(d.modeFrontier,e.line);h.length&&mc(a,function(){for(var n=0;n<h.length;n++)Ac(a,h[n],"text")})}}function uf(a,d){var f=a.display,e=a.doc;if(d.editorIsHidden)return Tc(a),
!1;if(!d.force&&d.visible.from>=f.viewFrom&&d.visible.to<=f.viewTo&&(null==f.updateLineNumbers||f.updateLineNumbers>=f.viewTo)&&f.renderedView==f.view&&0==pf(a))return!1;fg(a)&&(Tc(a),d.dims=Vb(a));var h=e.first+e.size,n=Math.max(d.visible.from-a.options.viewportMargin,e.first),q=Math.min(h,d.visible.to+a.options.viewportMargin);f.viewFrom<n&&20>n-f.viewFrom&&(n=Math.max(e.first,f.viewFrom));f.viewTo>q&&20>f.viewTo-q&&(q=Math.min(h,f.viewTo));Ub&&(n=ic(a.doc,n),q=Nc(a.doc,q));e=n!=f.viewFrom||q!=
f.viewTo||f.lastWrapHeight!=d.wrapperHeight||f.lastWrapWidth!=d.wrapperWidth;h=a.display;0==h.view.length||n>=h.viewTo||q<=h.viewFrom?(h.view=Fd(a,n,q),h.viewFrom=n):(h.viewFrom>n?h.view=Fd(a,n,h.viewFrom).concat(h.view):h.viewFrom<n&&(h.view=h.view.slice(hb(a,n))),h.viewFrom=n,h.viewTo<q?h.view=h.view.concat(Fd(a,h.viewTo,q)):h.viewTo>q&&(h.view=h.view.slice(0,hb(a,q))));h.viewTo=q;f.viewOffset=vc(Ga(a.doc,f.viewFrom));a.display.mover.style.top=f.viewOffset+"px";q=pf(a);if(!e&&0==q&&!d.force&&f.renderedView==
f.view&&(null==f.updateLineNumbers||f.updateLineNumbers>=f.viewTo))return!1;a.hasFocus()?n=null:(n=I())&&R(a.display.lineDiv,n)?(n={activeElt:n},window.getSelection&&(h=window.getSelection(),h.anchorNode&&h.extend&&R(a.display.lineDiv,h.anchorNode)&&(n.anchorNode=h.anchorNode,n.anchorOffset=h.anchorOffset,n.focusNode=h.focusNode,n.focusOffset=h.focusOffset))):n=null;4<q&&(f.lineDiv.style.display="none");$g(a,f.updateLineNumbers,d.dims);4<q&&(f.lineDiv.style.display="");f.renderedView=f.view;(q=n)&&
q.activeElt&&q.activeElt!=I()&&(q.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(q.activeElt.nodeName)&&q.anchorNode&&R(document.body,q.anchorNode)&&R(document.body,q.focusNode)&&(n=window.getSelection(),h=document.createRange(),h.setEnd(q.anchorNode,q.anchorOffset),h.collapse(!1),n.removeAllRanges(),n.addRange(h),n.extend(q.focusNode,q.focusOffset)));ba(f.cursorDiv);ba(f.selectionDiv);f.gutters.style.height=f.sizer.style.minHeight=0;e&&(f.lastWrapHeight=d.wrapperHeight,f.lastWrapWidth=d.wrapperWidth,
dc(a,400));f.updateLineNumbers=null;return!0}function eg(a,d){for(var f=d.viewport,e=!0;;e=!1){if(e&&a.options.lineWrapping&&d.oldDisplayWidth!=rc(a))e&&(d.visible=yb(a.display,a.doc,f));else if(f&&null!=f.top&&(f={top:Math.min(a.doc.height+Ca(a.display)-ie(a),f.top)}),d.visible=yb(a.display,a.doc,f),d.visible.from>=a.display.viewFrom&&d.visible.to<=a.display.viewTo)break;if(!uf(a,d))break;Re(a);e=Kd(a);ke(a);Ld(a,e);Md(a,e);d.force=!1}d.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||
a.display.viewTo!=a.display.reportedViewTo)d.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}function tf(a,d){d=new cb(a,d);if(uf(a,d)){Re(a);eg(a,d);var f=Kd(a);ke(a);Ld(a,f);Md(a,f);d.finish()}}function $g(a,d,f){function e(ea){var ia=ea.nextSibling;Yb&&uc&&a.display.currentWheelTarget==ea?ea.style.display="none":ea.parentNode.removeChild(ea);return ia}var h=a.display,n=a.options.lineNumbers,
q=h.lineDiv,r=q.firstChild,B=h.view;h=h.viewFrom;for(var O=0;O<B.length;O++){var aa=B[O];if(!aa.hidden)if(aa.node&&aa.node.parentNode==q){for(;r!=aa.node;)r=e(r);r=n&&null!=d&&d<=h&&aa.lineNumber;aa.changes&&(-1<D(aa.changes,"gutter")&&(r=!1),kc(a,aa,h,f));r&&(ba(aa.lineNumber),aa.lineNumber.appendChild(document.createTextNode(dd(a.options,h))));r=aa.node.nextSibling}else{var pa=Je(a,aa,h,f);q.insertBefore(pa,r)}h+=aa.size}for(;r;)r=e(r)}function vf(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+
"px"}function Md(a,d){a.display.sizer.style.minHeight=d.docHeight+"px";a.display.heightForcer.style.top=d.docHeight+"px";a.display.gutters.style.height=d.docHeight+a.display.barHeight+db(a)+"px"}function bg(a){var d=a.display,f=d.view;if(d.alignWidgets||d.gutters.firstChild&&a.options.fixedGutter){for(var e=bc(d)-d.scroller.scrollLeft+a.doc.scrollLeft,h=d.gutters.offsetWidth,n=e+"px",q=0;q<f.length;q++)if(!f[q].hidden){a.options.fixedGutter&&(f[q].gutter&&(f[q].gutter.style.left=n),f[q].gutterBackground&&
(f[q].gutterBackground.style.left=n));var r=f[q].alignable;if(r)for(var B=0;B<r.length;B++)r[B].style.left=n}a.options.fixedGutter&&(d.gutters.style.left=e+h+"px")}}function fg(a){if(!a.options.lineNumbers)return!1;var d=a.doc;d=dd(a.options,d.first+d.size-1);var f=a.display;if(d.length!=f.lineNumChars){var e=f.measure.appendChild(y("div",[y("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),h=e.firstChild.offsetWidth;e=e.offsetWidth-h;f.lineGutter.style.width="";f.lineNumInnerWidth=Math.max(h,
f.lineGutter.offsetWidth-e)+1;f.lineNumWidth=f.lineNumInnerWidth+e;f.lineNumChars=f.lineNumInnerWidth?d.length:-1;f.lineGutter.style.width=f.lineNumWidth+"px";vf(a.display);return!0}return!1}function Te(a,d){for(var f=[],e=!1,h=0;h<a.length;h++){var n=a[h],q=null;"string"!=typeof n&&(q=n.style,n=n.className);if("CodeMirror-linenumbers"==n)if(d)e=!0;else continue;f.push({className:n,style:q})}d&&!e&&f.push({className:"CodeMirror-linenumbers",style:null});return f}function wf(a){var d=a.gutters,f=a.gutterSpecs;
ba(d);a.lineGutter=null;for(var e=0;e<f.length;++e){var h=f[e],n=h.className;h=h.style;var q=d.appendChild(y("div",null,"CodeMirror-gutter "+n));h&&(q.style.cssText=h);"CodeMirror-linenumbers"==n&&(a.lineGutter=q,q.style.width=(a.lineNumWidth||1)+"px")}d.style.display=f.length?"":"none";vf(a)}function pe(a){wf(a.display);Mb(a);bg(a)}function ah(a,d,f,e){this.input=f;this.scrollbarFiller=y("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=
y("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=u("div",null,"CodeMirror-code");this.selectionDiv=y("div",null,null,"position: relative; z-index: 1");this.cursorDiv=y("div",null,"CodeMirror-cursors");this.measure=y("div",null,"CodeMirror-measure");this.lineMeasure=y("div",null,"CodeMirror-measure");this.lineSpace=u("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");
var h=u("div",[this.lineSpace],"CodeMirror-lines");this.mover=y("div",[h],null,"position: relative");this.sizer=y("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=y("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=y("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=y("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=y("div",[this.scrollbarFiller,
this.gutterFiller,this.scroller],"CodeMirror");jb&&8>ub&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Yb||Uc&&qe||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=d.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=
!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=Te(e.gutters,e.lineNumbers);wf(this);f.init(this)}function re(a){var d=a.wheelDeltaX,f=a.wheelDeltaY;null==d&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&
(d=a.detail);null==f&&a.detail&&a.axis==a.VERTICAL_AXIS?f=a.detail:null==f&&(f=a.wheelDelta);return{x:d,y:f}}function bh(a){a=re(a);a.x*=Gb;a.y*=Gb;return a}function gg(a,d){var f=re(d),e=f.x;f=f.y;var h=a.display,n=h.scroller,q=n.scrollWidth>n.clientWidth,r=n.scrollHeight>n.clientHeight;if(e&&q||f&&r){if(f&&uc&&Yb){q=d.target;var B=h.view;a:for(;q!=n;q=q.parentNode)for(var O=0;O<B.length;O++)if(B[O].node==q){a.display.currentWheelTarget=q;break a}}!e||Uc||Dc||null==Gb?(f&&null!=Gb&&(d=f*Gb,r=a.doc.scrollTop,
q=r+h.wrapper.clientHeight,0>d?r=Math.max(0,r+d-50):q=Math.min(a.doc.height,q+d+50),tf(a,{top:r,bottom:q})),20>kb&&(null==h.wheelStartX?(h.wheelStartX=n.scrollLeft,h.wheelStartY=n.scrollTop,h.wheelDX=e,h.wheelDY=f,setTimeout(function(){if(null!=h.wheelStartX){var aa=n.scrollLeft-h.wheelStartX,pa=n.scrollTop-h.wheelStartY;aa=pa&&h.wheelDY&&pa/h.wheelDY||aa&&h.wheelDX&&aa/h.wheelDX;h.wheelStartX=h.wheelStartY=null;aa&&(Gb=(Gb*kb+aa)/(kb+1),++kb)}},200)):(h.wheelDX+=e,h.wheelDY+=f))):(f&&r&&E(a,Math.max(0,
n.scrollTop+f*Gb)),Vc(a,Math.max(0,n.scrollLeft+e*Gb)),(!f||f&&r)&&t(d),h.wheelStartX=null)}}function Ec(a,d,f){a=a&&a.options.selectionsMayTouch;f=d[f];d.sort(function(B,O){return ab(B.from(),O.from())});f=D(d,f);for(var e=1;e<d.length;e++){var h=d[e],n=d[e-1],q=ab(n.to(),h.from());if(a&&!h.empty()?0<q:0<=q){q=Ed(n.from(),h.from());var r=ed(n.to(),h.to());h=n.empty()?h.from()==h.head:n.from()==n.head;e<=f&&--f;d.splice(--e,2,new eb(h?r:q,h?q:r))}}return new Pb(d,f)}function Wc(a,d){return new Pb([new eb(a,
d||a)],0)}function Xc(a){return a.text?Fa(a.from.line+a.text.length-1,K(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function xf(a,d){if(0>ab(a,d.from))return a;if(0>=ab(a,d.to))return Xc(d);var f=a.line+d.text.length-(d.to.line-d.from.line)-1,e=a.ch;a.line==d.to.line&&(e+=Xc(d).ch-d.to.ch);return Fa(f,e)}function yf(a,d){for(var f=[],e=0;e<a.sel.ranges.length;e++){var h=a.sel.ranges[e];f.push(new eb(xf(h.anchor,d),xf(h.head,d)))}return Ec(a.cm,f,a.sel.primIndex)}function hg(a,d,f){return a.line==
d.line?Fa(f.line,a.ch-d.ch+f.ch):Fa(f.line+(a.line-d.line),a.ch)}function Ue(a){a.doc.mode=ha(a.options,a.doc.modeOption);se(a)}function se(a){a.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null);d.styles&&(d.styles=null)});a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first;dc(a,100);a.state.modeGen++;a.curOp&&Mb(a)}function zf(a,d){return 0==d.from.ch&&0==d.to.ch&&""==K(d.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Af(a,d,f,e){function h(xa,Ka,bb){xa.text=Ka;xa.stateAfter&&
(xa.stateAfter=null);xa.styles&&(xa.styles=null);null!=xa.order&&(xa.order=null);fe(xa);pc(xa,bb);Ka=e?e(xa):1;Ka!=xa.height&&Kb(xa,Ka);Db(xa,"change",xa,d)}function n(xa,Ka){for(var bb=[];xa<Ka;++xa)bb.push(new l(B[xa],f?f[xa]:null,e));return bb}var q=d.from,r=d.to,B=d.text,O=Ga(a,q.line),aa=Ga(a,r.line),pa=K(B),ea=f?f[B.length-1]:null,ia=r.line-q.line;d.full?(a.insert(0,n(0,B.length)),a.remove(B.length,a.size-B.length)):zf(a,d)?(r=n(0,B.length-1),h(aa,aa.text,ea),ia&&a.remove(q.line,ia),r.length&&
a.insert(q.line,r)):O==aa?1==B.length?h(O,O.text.slice(0,q.ch)+pa+O.text.slice(r.ch),ea):(ia=n(1,B.length-1),ia.push(new l(pa+O.text.slice(r.ch),ea,e)),h(O,O.text.slice(0,q.ch)+B[0],f?f[0]:null),a.insert(q.line+1,ia)):1==B.length?(h(O,O.text.slice(0,q.ch)+B[0]+aa.text.slice(r.ch),f?f[0]:null),a.remove(q.line+1,ia)):(h(O,O.text.slice(0,q.ch)+B[0],f?f[0]:null),h(aa,pa+aa.text.slice(r.ch),ea),ea=n(1,B.length-1),1<ia&&a.remove(q.line+1,ia-1),a.insert(q.line+1,ea));Db(a,"change",a,d)}function Yc(a,d,f){function e(h,
n,q){if(h.linked)for(var r=0;r<h.linked.length;++r){var B=h.linked[r];if(B.doc!=n){var O=q&&B.sharedHist;if(!f||O)d(B.doc,O),e(B.doc,h,O)}}}e(a,null,!0)}function ig(a,d){if(d.cm)throw Error("This document is already in use.");a.doc=d;d.cm=a;cc(a);Ue(a);jg(a);a.options.lineWrapping||wc(a);a.options.mode=d.modeOption;Mb(a)}function jg(a){("rtl"==a.doc.direction?F:vd)(a.display.lineDiv,"CodeMirror-rtl")}function ch(a){mc(a,function(){jg(a);Mb(a)})}function Ve(a){this.done=[];this.undone=[];this.undoDepth=
Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a||1}function Bf(a,d){var f={from:md(d.from),to:Xc(d),text:ob(a,d.from,d.to)};kg(a,f,d.from.line,d.to.line+1);Yc(a,function(e){return kg(e,f,d.from.line,d.to.line+1)},!0);return f}function lg(a){for(;a.length;)if(K(a).ranges)a.pop();else break}function mg(a,d,f,e){var h=a.history;h.undone.length=0;var n=+new Date,q;if(q=h.lastOp==e||h.lastOrigin==d.origin&&
d.origin&&("+"==d.origin.charAt(0)&&h.lastModTime>n-(a.cm?a.cm.options.historyEventDelay:500)||"*"==d.origin.charAt(0))){if(h.lastOp==e){lg(h.done);var r=K(h.done)}else h.done.length&&!K(h.done).ranges?r=K(h.done):1<h.done.length&&!h.done[h.done.length-2].ranges?(h.done.pop(),r=K(h.done)):r=void 0;q=r}if(q){var B=K(r.changes);0==ab(d.from,d.to)&&0==ab(d.from,B.to)?B.to=Xc(d):r.changes.push(Bf(a,d))}else for((r=K(h.done))&&r.ranges||We(a.sel,h.done),r={changes:[Bf(a,d)],generation:h.generation},h.done.push(r);h.done.length>
h.undoDepth;)h.done.shift(),h.done[0].ranges||h.done.shift();h.done.push(f);h.generation=++h.maxGeneration;h.lastModTime=h.lastSelTime=n;h.lastOp=h.lastSelOp=e;h.lastOrigin=h.lastSelOrigin=d.origin;B||ta(a,"historyAdded")}function We(a,d){var f=K(d);f&&f.ranges&&f.equals(a)||d.push(a)}function kg(a,d,f,e){var h=d["spans_"+a.id],n=0;a.iter(Math.max(a.first,f),Math.min(a.first+a.size,e),function(q){q.markedSpans&&((h||(h=d["spans_"+a.id]={}))[n]=q.markedSpans);++n})}function dh(a){if(!a)return null;
for(var d,f=0;f<a.length;++f)a[f].marker.explicitlyCleared?d||(d=a.slice(0,f)):d&&d.push(a[f]);return d?d.length?d:null:a}function ng(a,d){var f;if(f=d["spans_"+a.id]){for(var e=[],h=0;h<d.text.length;++h)e.push(dh(f[h]));f=e}else f=null;a=$b(a,d);if(!f)return a;if(!a)return f;for(d=0;d<f.length;++d)if(e=f[d],h=a[d],e&&h){var n=0;a:for(;n<h.length;++n){for(var q=h[n],r=0;r<e.length;++r)if(e[r].marker==q.marker)continue a;e.push(q)}}else h&&(f[d]=h);return f}function Nd(a,d,f){for(var e=[],h=0;h<a.length;++h){var n=
a[h];if(n.ranges)e.push(f?Pb.prototype.deepCopy.call(n):n);else{n=n.changes;var q=[];e.push({changes:q});for(var r=0;r<n.length;++r){var B=n[r],O;q.push({from:B.from,to:B.to,text:B.text});if(d)for(var aa in B)(O=aa.match(/^spans_(\d+)$/))&&-1<D(d,Number(O[1]))&&(K(q)[aa]=B[aa],delete B[aa])}}}return e}function Cf(a,d,f,e){return e?(a=a.anchor,f&&(e=0>ab(d,a),e!=0>ab(f,a)?(a=d,d=f):e!=0>ab(d,f)&&(d=f)),new eb(a,d)):new eb(f||d,d)}function te(a,d,f,e,h){null==h&&(h=a.cm&&(a.cm.display.shift||a.extend));
Pa(a,new Pb([Cf(a.sel.primary(),d,f,h)],0),e)}function og(a,d,f){for(var e=[],h=a.cm&&(a.cm.display.shift||a.extend),n=0;n<a.sel.ranges.length;n++)e[n]=Cf(a.sel.ranges[n],d[n],null,h);d=Ec(a.cm,e,a.sel.primIndex);Pa(a,d,f)}function Df(a,d,f,e){var h=a.sel.ranges.slice(0);h[d]=f;Pa(a,Ec(a.cm,h,a.sel.primIndex),e)}function eh(a,d,f){f={ranges:d.ranges,update:function(e){this.ranges=[];for(var h=0;h<e.length;h++)this.ranges[h]=new eb(Ta(a,e[h].anchor),Ta(a,e[h].head))},origin:f&&f.origin};ta(a,"beforeSelectionChange",
a,f);a.cm&&ta(a.cm,"beforeSelectionChange",a.cm,f);return f.ranges!=d.ranges?Ec(a.cm,f.ranges,f.ranges.length-1):d}function pg(a,d,f){var e=a.history.done,h=K(e);h&&h.ranges?(e[e.length-1]=d,Xe(a,d,f)):Pa(a,d,f)}function Pa(a,d,f){Xe(a,d,f);d=a.sel;var e=a.cm?a.cm.curOp.id:NaN,h=a.history,n=f&&f.origin,q;if(!(q=e==h.lastSelOp)&&(q=n&&h.lastSelOrigin==n)&&!(q=h.lastModTime==h.lastSelTime&&h.lastOrigin==n)){q=K(h.done);var r=n.charAt(0);q="*"==r||"+"==r&&q.ranges.length==d.ranges.length&&q.somethingSelected()==
d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}q?h.done[h.done.length-1]=d:We(d,h.done);h.lastSelTime=+new Date;h.lastSelOrigin=n;h.lastSelOp=e;f&&!1!==f.clearRedo&&lg(h.undone)}function Xe(a,d,f){if(ya(a,"beforeSelectionChange")||a.cm&&ya(a.cm,"beforeSelectionChange"))d=eh(a,d,f);var e=f&&f.bias||(0>ab(d.primary().head,a.sel.primary().head)?-1:1);Zc(a,Fc(a,d,e,!0));f&&!1===f.scroll||!a.cm||"nocursor"==a.cm.getOption("readOnly")||Jd(a.cm)}function Zc(a,
d){d.equals(a.sel)||(a.sel=d,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,Ha(a.cm)),Db(a,"cursorActivity",a))}function Ef(a){Zc(a,Fc(a,a.sel,null,!1))}function Fc(a,d,f,e){for(var h,n=0;n<d.ranges.length;n++){var q=d.ranges[n],r=d.ranges.length==a.sel.ranges.length&&a.sel.ranges[n],B=Ye(a,q.anchor,r&&r.anchor,f,e);r=Ye(a,q.head,r&&r.head,f,e);if(h||B!=q.anchor||r!=q.head)h||(h=d.ranges.slice(0,n)),h[n]=new eb(B,r)}return h?Ec(a.cm,h,d.primIndex):d}function Od(a,d,f,e,h){var n=Ga(a,
d.line);if(n.markedSpans)for(var q=0;q<n.markedSpans.length;++q){var r=n.markedSpans[q],B=r.marker,O="selectLeft"in B?!B.selectLeft:B.inclusiveLeft,aa="selectRight"in B?!B.selectRight:B.inclusiveRight;if((null==r.from||(O?r.from<=d.ch:r.from<d.ch))&&(null==r.to||(aa?r.to>=d.ch:r.to>d.ch))){if(h&&(ta(B,"beforeCursorEnter"),B.explicitlyCleared))if(n.markedSpans){--q;continue}else break;if(B.atomic){if(f){q=B.find(0>e?1:-1);r=void 0;if(0>e?aa:O)q=qg(a,q,-e,q&&q.line==d.line?n:null);if(q&&q.line==d.line&&
(r=ab(q,f))&&(0>e?0>r:0<r))return Od(a,q,d,e,h)}f=B.find(0>e?-1:1);if(0>e?O:aa)f=qg(a,f,e,f.line==d.line?n:null);return f?Od(a,f,d,e,h):null}}}return d}function Ye(a,d,f,e,h){e=e||1;d=Od(a,d,f,e,h)||!h&&Od(a,d,f,e,!0)||Od(a,d,f,-e,h)||!h&&Od(a,d,f,-e,!0);return d?d:(a.cantEdit=!0,Fa(a.first,0))}function qg(a,d,f,e){return 0>f&&0==d.ch?d.line>a.first?Ta(a,Fa(d.line-1)):null:0<f&&d.ch==(e||Ga(a,d.line)).text.length?d.line<a.first+a.size-1?Fa(d.line+1,0):null:new Fa(d.line,d.ch+f)}function Ra(a){a.setSelection(Fa(a.firstLine(),
0),Fa(a.lastLine()),Lc)}function rg(a,d,f){var e={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return e.canceled=!0}};f&&(e.update=function(h,n,q,r){h&&(e.from=Ta(a,h));n&&(e.to=Ta(a,n));q&&(e.text=q);void 0!==r&&(e.origin=r)});ta(a,"beforeChange",a,e);a.cm&&ta(a.cm,"beforeChange",a.cm,e);return e.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:e.from,to:e.to,text:e.text,origin:e.origin}}function Pd(a,d,f){if(a.cm){if(!a.cm.curOp)return Nb(a.cm,Pd)(a,d,f);if(a.cm.state.suppressEdits)return}if(ya(a,
"beforeChange")||a.cm&&ya(a.cm,"beforeChange"))if(d=rg(a,d,!0),!d)return;if(f=Qd&&!f&&Ic(a,d.from,d.to))for(var e=f.length-1;0<=e;--e)ue(a,{from:f[e].from,to:f[e].to,text:e?[""]:d.text,origin:d.origin});else ue(a,d)}function ue(a,d){if(1!=d.text.length||""!=d.text[0]||0!=ab(d.from,d.to)){var f=yf(a,d);mg(a,d,f,a.cm?a.cm.curOp.id:NaN);ve(a,d,f,$b(a,d));var e=[];Yc(a,function(h,n){n||-1!=D(e,h.history)||(jd(h.history,d),e.push(h.history));ve(h,d,null,$b(h,d))})}}function Ze(a,d,f){var e=a.cm&&a.cm.state.suppressEdits;
if(!e||f){for(var h=a.history,n,q=a.sel,r="undo"==d?h.done:h.undone,B="undo"==d?h.undone:h.done,O=0;O<r.length&&(n=r[O],f?!n.ranges||n.equals(a.sel):n.ranges);O++);if(O!=r.length){for(h.lastOrigin=h.lastSelOrigin=null;;)if(n=r.pop(),n.ranges){We(n,B);if(f&&!n.equals(a.sel)){Pa(a,n,{clearRedo:!1});return}q=n}else{if(e){r.push(n);return}break}var aa=[];We(q,B);B.push({changes:aa,generation:h.generation});h.generation=n.generation||++h.maxGeneration;var pa=ya(a,"beforeChange")||a.cm&&ya(a.cm,"beforeChange");
f=function(ea){var ia=n.changes[ea];ia.origin=d;if(pa&&!rg(a,ia,!1))return r.length=0,{};aa.push(Bf(a,ia));var xa=ea?yf(a,ia):K(r);ve(a,ia,xa,ng(a,ia));!ea&&a.cm&&a.cm.scrollIntoView({from:ia.from,to:Xc(ia)});var Ka=[];Yc(a,function(bb,mb){mb||-1!=D(Ka,bb.history)||(jd(bb.history,ia),Ka.push(bb.history));ve(bb,ia,null,ng(bb,ia))})};for(e=n.changes.length-1;0<=e;--e)if(h=f(e))return h.v}}}function sg(a,d){if(0!=d&&(a.first+=d,a.sel=new Pb(S(a.sel.ranges,function(h){return new eb(Fa(h.anchor.line+d,
h.anchor.ch),Fa(h.head.line+d,h.head.ch))}),a.sel.primIndex),a.cm)){Mb(a.cm,a.first,a.first-d,d);for(var f=a.cm.display,e=f.viewFrom;e<f.viewTo;e++)Ac(a.cm,e,"gutter")}}function ve(a,d,f,e){if(a.cm&&!a.cm.curOp)return Nb(a.cm,ve)(a,d,f,e);if(d.to.line<a.first)sg(a,d.text.length-1-(d.to.line-d.from.line));else if(!(d.from.line>a.lastLine())){if(d.from.line<a.first){var h=d.text.length-1-(a.first-d.from.line);sg(a,h);d={from:Fa(a.first,0),to:Fa(d.to.line+h,d.to.ch),text:[K(d.text)],origin:d.origin}}h=
a.lastLine();d.to.line>h&&(d={from:d.from,to:Fa(h,Ga(a,h).text.length),text:[d.text[0]],origin:d.origin});d.removed=ob(a,d.from,d.to);f||(f=yf(a,d));a.cm?fh(a.cm,d,e):Af(a,d,e);Xe(a,f,Lc);a.cantEdit&&Ye(a,Fa(a.firstLine(),0))&&(a.cantEdit=!1)}}function fh(a,d,f){var e=a.doc,h=a.display,n=d.from,q=d.to,r=!1,B=n.line;a.options.lineWrapping||(B=gb(Ib(Ga(e,n.line))),e.iter(B,q.line+1,function(O){if(O==h.maxLine)return r=!0}));-1<e.sel.contains(d.from,d.to)&&Ha(a);Af(e,d,f,Ja(a));a.options.lineWrapping||
(e.iter(B,n.line+d.text.length,function(O){var aa=rd(O);aa>h.maxLineLength&&(h.maxLine=O,h.maxLineLength=aa,h.maxLineChanged=!0,r=!1)}),r&&(a.curOp.updateMaxLine=!0));pd(e,n.line);dc(a,400);f=d.text.length-(q.line-n.line)-1;d.full?Mb(a):n.line!=q.line||1!=d.text.length||zf(a.doc,d)?Mb(a,n.line,q.line+1,f):Ac(a,n.line,"text");f=ya(a,"changes");if((e=ya(a,"change"))||f)d={from:n,to:q,text:d.text,removed:d.removed,origin:d.origin},e&&Db(a,"change",a,d),f&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(d);
a.display.selForContextMenu=null}function yd(a,d,f,e,h){e||(e=f);0>ab(e,f)&&(e=[e,f],f=e[0],e=e[1]);"string"==typeof d&&(d=a.splitLines(d));Pd(a,{from:f,to:e,text:d,origin:h})}function tg(a,d,f,e){f<a.line?a.line+=e:d<a.line&&(a.line=d,a.ch=0)}function Rd(a,d,f,e){for(var h=0;h<a.length;++h){var n=a[h],q=!0;if(n.ranges)for(n.copied||(n=a[h]=n.deepCopy(),n.copied=!0),q=0;q<n.ranges.length;q++)tg(n.ranges[q].anchor,d,f,e),tg(n.ranges[q].head,d,f,e);else{for(var r=0;r<n.changes.length;++r){var B=n.changes[r];
if(f<B.from.line)B.from=Fa(B.from.line+e,B.from.ch),B.to=Fa(B.to.line+e,B.to.ch);else if(d<=B.to.line){q=!1;break}}q||(a.splice(0,h+1),h=0)}}}function jd(a,d){var f=d.from.line,e=d.to.line;d=d.text.length-(e-f)-1;Rd(a.done,f,e,d);Rd(a.undone,f,e,d)}function zd(a,d,f,e){var h=d,n=d;"number"==typeof d?n=Ga(a,Math.max(a.first,Math.min(d,a.first+a.size-1))):h=gb(d);if(null==h)return null;e(n,h)&&a.cm&&Ac(a.cm,h,f);return n}function Ab(a){this.lines=a;this.parent=null;for(var d=0,f=0;f<a.length;++f)a[f].parent=
this,d+=a[f].height;this.height=d}function Ad(a){this.children=a;for(var d=0,f=0,e=0;e<a.length;++e){var h=a[e];d+=h.chunkSize();f+=h.height;h.parent=this}this.size=d;this.height=f;this.parent=null}function Ff(a,d,f,e){var h=new Bd(a,f,e),n=a.cm;n&&h.noHScroll&&(n.display.alignWidgets=!0);zd(a,d,"widget",function(q){var r=q.widgets||(q.widgets=[]);null==h.insertAt?r.push(h):r.splice(Math.min(r.length,Math.max(0,h.insertAt)),0,h);h.line=q;n&&!qc(a,q)&&(r=vc(q)<a.scrollTop,Kb(q,q.height+Va(h)),r&&wd(n,
h.height),n.curOp.forceUpdate=!0);return!0});n&&Db(n,"lineWidgetAdded",n,h,"number"==typeof d?d:gb(d));return h}function Cd(a,d,f,e,h){if(e&&e.shared)return $c(a,d,f,e,h);if(a.cm&&!a.cm.curOp)return Nb(a.cm,Cd)(a,d,f,e,h);var n=new Sd(a,h);h=ab(d,f);e&&A(e,n,!1);if(0<h||0==h&&!1!==n.clearWhenEmpty)return n;n.replacedWith&&(n.collapsed=!0,n.widgetNode=u("span",[n.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||n.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(n.widgetNode.insertLeft=
!0));if(n.collapsed){if(Xb(a,d.line,d,f,n)||d.line!=f.line&&Xb(a,f.line,d,f,n))throw Error("Inserting collapsed marker partially overlapping an existing one");Ub=!0}n.addToHistory&&mg(a,{from:d,to:f,origin:"markText"},a.sel,NaN);var q=d.line,r=a.cm,B;a.iter(q,f.line+1,function(O){r&&n.collapsed&&!r.options.lineWrapping&&Ib(O)==r.display.maxLine&&(B=!0);n.collapsed&&q!=d.line&&Kb(O,0);var aa=new Gc(n,q==d.line?d.ch:null,q==f.line?f.ch:null);O.markedSpans=O.markedSpans?O.markedSpans.concat([aa]):[aa];
aa.marker.attachLine(O);++q});n.collapsed&&a.iter(d.line,f.line+1,function(O){qc(a,O)&&Kb(O,0)});n.clearOnEnter&&Za(n,"beforeCursorEnter",function(){return n.clear()});n.readOnly&&(Qd=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());n.collapsed&&(n.id=++Ch,n.atomic=!0);if(r){B&&(r.curOp.updateMaxLine=!0);if(n.collapsed)Mb(r,d.line,f.line+1);else if(n.className||n.startStyle||n.endStyle||n.css||n.attributes||n.title)for(e=d.line;e<=f.line;e++)Ac(r,e,"text");n.atomic&&Ef(r.doc);
Db(r,"markerAdded",r,n)}return n}function $c(a,d,f,e,h){e=A(e);e.shared=!1;var n=[Cd(a,d,f,e,h)],q=n[0],r=e.widgetNode;Yc(a,function(B){r&&(e.widgetNode=r.cloneNode(!0));n.push(Cd(B,Ta(B,d),Ta(B,f),e,h));for(var O=0;O<B.linked.length;++O)if(B.linked[O].isParent)return;q=K(n)});return new Gf(n,q)}function $e(a){return a.findMarks(Fa(a.first,0),a.clipPos(Fa(a.lastLine())),function(d){return d.parent})}function gh(a){for(var d=function(e){e=a[e];var h=[e.primary.doc];Yc(e.primary.doc,function(r){return h.push(r)});
for(var n=0;n<e.markers.length;n++){var q=e.markers[n];-1==D(h,q.doc)&&(q.parent=null,e.markers.splice(n--,1))}},f=0;f<a.length;f++)d(f)}function ug(a){var d=this;we(d);if(!za(d,a)&&!yc(d.display,a)){t(a);jb&&(Dh=+new Date);var f=zc(d,a,!0),e=a.dataTransfer.files;if(f&&!d.isReadOnly())if(e&&e.length&&window.FileReader&&window.File)for(var h=e.length,n=Array(h),q=0,r=function(){++q==h&&Nb(d,function(){f=Ta(d.doc,f);var aa={from:f,to:f,text:d.doc.splitLines(n.filter(function(pa){return null!=pa}).join(d.doc.lineSeparator())),
origin:"paste"};Pd(d.doc,aa);pg(d.doc,Wc(Ta(d.doc,f),Ta(d.doc,Xc(aa))))})()},B=function(aa,pa){if(d.options.allowDropFileTypes&&-1==D(d.options.allowDropFileTypes,aa.type))r();else{var ea=new FileReader;ea.onerror=function(){return r()};ea.onload=function(){var ia=ea.result;/[\x00-\x08\x0e-\x1f]{2}/.test(ia)||(n[pa]=ia);r()};ea.readAsText(aa)}},O=0;O<e.length;O++)B(e[O],O);else if(d.state.draggingText&&-1<d.doc.sel.contains(f))d.state.draggingText(a),setTimeout(function(){return d.display.input.focus()},
20);else try{if(B=a.dataTransfer.getData("Text")){d.state.draggingText&&!d.state.draggingText.copy&&(O=d.listSelections());Xe(d.doc,Wc(f,f));if(O)for(e=0;e<O.length;++e)yd(d.doc,"",O[e].anchor,O[e].head,"drag");d.replaceSelection(B,"around","paste");d.display.input.focus()}}catch(aa){}}}function we(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function vg(a){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),
f=[],e=0;e<d.length;e++){var h=d[e].CodeMirror;h&&f.push(h)}f.length&&f[0].operation(function(){for(var n=0;n<f.length;n++)a(f[n])})}}function hh(){var a;Za(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null;vg(ih)},100))});Za(window,"blur",function(){return vg(Id)})}function ih(a){var d=a.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=!1;a.setSize()}function wg(a){var d=a.split(/-(?!$)/);a=d[d.length-1];for(var f,e,h,n,q=0;q<d.length-1;q++){var r=
d[q];if(/^(cmd|meta|m)$/i.test(r))n=!0;else if(/^a(lt)?$/i.test(r))f=!0;else if(/^(c|ctrl|control)$/i.test(r))e=!0;else if(/^s(hift)?$/i.test(r))h=!0;else throw Error("Unrecognized modifier name: "+r);}f&&(a="Alt-"+a);e&&(a="Ctrl-"+a);n&&(a="Cmd-"+a);h&&(a="Shift-"+a);return a}function xe(a){var d={},f;for(f in a)if(a.hasOwnProperty(f)){var e=a[f];if(!/^(name|fallthrough|(de|at)tach)$/.test(f)){if("..."!=e)for(var h=S(f.split(" "),wg),n=0;n<h.length;n++){if(n==h.length-1){var q=h.join(" ");var r=
e}else q=h.slice(0,n+1).join(" "),r="...";var B=d[q];if(!B)d[q]=r;else if(B!=r)throw Error("Inconsistent bindings for "+q);}delete a[f]}}for(var O in d)a[O]=d[O];return a}function Td(a,d,f,e){d=af(d);var h=d.call?d.call(a,e):d[a];if(!1===h)return"nothing";if("..."===h)return"multi";if(null!=h&&f(h))return"handled";if(d.fallthrough){if("[object Array]"!=Object.prototype.toString.call(d.fallthrough))return Td(a,d.fallthrough,f,e);for(h=0;h<d.fallthrough.length;h++){var n=Td(a,d.fallthrough[h],f,e);
if(n)return n}}}function xg(a){a="string"==typeof a?a:Ud[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function yg(a,d,f){var e=a;d.altKey&&"Alt"!=e&&(a="Alt-"+a);(zg?d.metaKey:d.ctrlKey)&&"Ctrl"!=e&&(a="Ctrl-"+a);(zg?d.ctrlKey:d.metaKey)&&"Mod"!=e&&(a="Cmd-"+a);!f&&d.shiftKey&&"Shift"!=e&&(a="Shift-"+a);return a}function Ag(a,d){if(Dc&&34==a.keyCode&&a["char"])return!1;var f=Ud[a.keyCode];if(null==f||a.altGraphKey)return!1;3==a.keyCode&&a.code&&(f=a.code);return yg(f,a,d)}function af(a){return"string"==
typeof a?Hf[a]:a}function Vd(a,d){for(var f=a.doc.sel.ranges,e=[],h=0;h<f.length;h++){for(var n=d(f[h]);e.length&&0>=ab(n.from,K(e).to);){var q=e.pop();if(0>ab(q.from,n.from)){n.from=q.from;break}}e.push(n)}mc(a,function(){for(var r=e.length-1;0<=r;r--)yd(a.doc,"",e[r].from,e[r].to,"+delete");Jd(a)})}function If(a,d,f){d=Z(a.text,d+f,f);return 0>d||d>a.text.length?null:d}function Jf(a,d,f){a=If(a,d.ch,f);return null==a?null:new Fa(d.line,a,0>f?"after":"before")}function Kf(a,d,f,e,h){if(a&&("rtl"==
d.doc.direction&&(h=-h),a=Wa(f,d.doc.direction))){a=0>h?K(a):a[0];var n=0>h==(1==a.level)?"after":"before";if(0<a.level||"rtl"==d.doc.direction){var q=Rc(d,f);var r=0>h?f.text.length-1:0;var B=lc(d,q,r).top;r=fa(function(O){return lc(d,q,O).top==B},0>h==(1==a.level)?a.from:a.to-1,r);"before"==n&&(r=If(f,r,1))}else r=0>h?a.to:a.from;return new Fa(e,r,n)}return new Fa(e,0>h?f.text.length:0,0>h?"before":"after")}function jh(a,d,f,e){var h=Wa(d,a.doc.direction);if(!h)return Jf(d,f,e);f.ch>=d.text.length?
(f.ch=d.text.length,f.sticky="before"):0>=f.ch&&(f.ch=0,f.sticky="after");var n=La(h,f.ch,f.sticky),q=h[n];if("ltr"==a.doc.direction&&0==q.level%2&&(0<e?q.to>f.ch:q.from<f.ch))return Jf(d,f,e);var r=function(ia,xa){return If(d,ia instanceof Fa?ia.ch:ia,xa)},B,O=function(ia){if(!a.options.lineWrapping)return{begin:0,end:d.text.length};B=B||Rc(a,d);return Ia(a,d,B,ia)},aa=O("before"==f.sticky?r(f,-1):f.ch);if("rtl"==a.doc.direction||1==q.level){var pa=1==q.level==0>e,ea=r(f,pa?1:-1);if(null!=ea&&(pa?
ea<=q.to&&ea<=aa.end:ea>=q.from&&ea>=aa.begin))return new Fa(f.line,ea,pa?"before":"after")}q=function(ia,xa,Ka){for(var bb=function(pb,wb){return wb?new Fa(f.line,r(pb,1),"before"):new Fa(f.line,pb,"after")};0<=ia&&ia<h.length;ia+=xa){var mb=h[ia],Ua=0<xa==(1!=mb.level),tb=Ua?Ka.begin:r(Ka.end,-1);if(mb.from<=tb&&tb<mb.to)return bb(tb,Ua);tb=Ua?mb.from:r(mb.to,-1);if(Ka.begin<=tb&&tb<Ka.end)return bb(tb,Ua)}};if(n=q(n+e,e,aa))return n;aa=0<e?aa.end:r(aa.begin,-1);return null==aa||0<e&&aa==d.text.length||
!(n=q(0<e?0:h.length-1,e,O(aa)))?null:n}function Bg(a,d){var f=Ga(a.doc,d),e=Ib(f);e!=f&&(d=gb(e));return Kf(!0,a,e,d,1)}function Lf(a,d){var f=Bg(a,d.line),e=Ga(a.doc,f.line);a=Wa(e,a.doc.direction);return a&&0!=a[0].level?f:(e=Math.max(f.ch,e.text.search(/\S/)),Fa(f.line,d.line==f.line&&d.ch<=e&&d.ch?0:e,f.sticky))}function bf(a,d,f){if("string"==typeof d&&(d=Mf[d],!d))return!1;a.display.input.ensurePolled();var e=a.display.shift,h=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),f&&(a.display.shift=
!1),h=d(a)!=cf}finally{a.display.shift=e,a.state.suppressEdits=!1}return h}function Wd(a,d,f,e){var h=a.state.keySeq;if(h){if(xg(d))return"handled";/'$/.test(d)?a.state.keySeq=null:Gh.set(50,function(){a.state.keySeq==h&&(a.state.keySeq=null,a.display.input.reset())});if(kd(a,h+" "+d,f,e))return!0}return kd(a,d,f,e)}function kd(a,d,f,e){a:{for(var h=0;h<a.state.keyMaps.length;h++){var n=Td(d,a.state.keyMaps[h],e,a);if(n){e=n;break a}}e=a.options.extraKeys&&Td(d,a.options.extraKeys,e,a)||Td(d,a.options.keyMap,
e,a)}"multi"==e&&(a.state.keySeq=d);"handled"==e&&Db(a,"keyHandled",a,d,f);if("handled"==e||"multi"==e)t(f),qf(a);return!!e}function Xd(a,d){var f=Ag(d,!0);return f?d.shiftKey&&!a.state.keySeq?Wd(a,"Shift-"+f,d,function(e){return bf(a,e,!0)})||Wd(a,f,d,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return bf(a,e)}):Wd(a,f,d,function(e){return bf(a,e)}):!1}function ye(a,d,f){return Wd(a,"'"+f+"'",d,function(e){return bf(a,e,!0)})}function ze(a){if(!a.target||a.target==this.display.input.getField())if(this.curOp.focus=
I(),!za(this,a)){jb&&11>ub&&27==a.keyCode&&(a.returnValue=!1);var d=a.keyCode;this.display.shift=16==d||a.shiftKey;var f=Xd(this,a);Dc&&(kh=f?d:null,!f&&88==d&&!Cg&&(uc?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));Uc&&!uc&&!f&&46==d&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=d||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Dg(this)}}function Dg(a){function d(e){18!=e.keyCode&&e.altKey||(vd(f,"CodeMirror-crosshair"),Ya(document,
"keyup",d),Ya(document,"mouseover",d))}var f=a.display.lineDiv;F(f,"CodeMirror-crosshair");Za(document,"keyup",d);Za(document,"mouseover",d)}function Eg(a){16==a.keyCode&&(this.doc.sel.shift=!1);za(this,a)}function Fg(a){if(!(a.target&&a.target!=this.display.input.getField()||yc(this.display,a)||za(this,a)||a.ctrlKey&&!a.altKey||uc&&a.metaKey)){var d=a.keyCode,f=a.charCode;if(Dc&&d==kh)kh=null,t(a);else if(!Dc||a.which&&!(10>a.which)||!Xd(this,a))if(d=String.fromCharCode(null==f?d:f),"\b"!=d&&!ye(this,
a,d))this.display.input.onKeyPress(a)}}function lh(a,d){var f=+new Date;if(Nf&&Nf.compare(f,a,d))return Of=Nf=null,"triple";if(Of&&Of.compare(f,a,d))return Nf=new mh(f,a,d),Of=null,"double";Of=new mh(f,a,d);Nf=null;return"single"}function Gg(a){var d=this.display;if(!(za(this,a)||d.activeTouch&&d.input.supportsTouch()))if(d.input.ensurePolled(),d.shift=a.shiftKey,yc(d,a))Yb||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100));else if(!Yd(this,a,"gutterClick",!0)){var f=
zc(this,a),e=Da(a),h=f?lh(f,e):"single";window.focus();1==e&&this.state.selectingText&&this.state.selectingText(a);if(!f||!nh(this,e,f,h,a))if(1==e)f?oh(this,f,h,a):(a.target||a.srcElement)==d.scroller&&t(a);else if(2==e)f&&te(this.doc,f),setTimeout(function(){return d.input.focus()},20);else if(3==e)if(Pf)this.display.input.onContextMenu(a);else rf(this)}}function nh(a,d,f,e,h){var n="Click";"double"==e?n="Double"+n:"triple"==e&&(n="Triple"+n);return Wd(a,yg((1==d?"Left":2==d?"Middle":"Right")+n,
h),h,function(q){"string"==typeof q&&(q=Mf[q]);if(!q)return!1;var r=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),r=q(a,f)!=cf}finally{a.state.suppressEdits=!1}return r})}function oh(a,d,f,e){jb?setTimeout(C(ne,a),0):a.curOp.focus=I();var h=a.getOption("configureMouse");h=h?h(a,f,e):{};null==h.unit&&(h.unit=(ph?e.shiftKey&&e.metaKey:e.altKey)?"rectangle":"single"==f?"char":"double"==f?"word":"line");if(null==h.extend||a.doc.extend)h.extend=a.doc.extend||e.shiftKey;null==h.addNew&&(h.addNew=uc?
e.metaKey:e.ctrlKey);null==h.moveOnDrag&&(h.moveOnDrag=!(uc?e.altKey:e.ctrlKey));var n=a.doc.sel,q;a.options.dragDrop&&qh&&!a.isReadOnly()&&"single"==f&&-1<(q=n.contains(d))&&(0>ab((q=n.ranges[q]).from(),d)||0<d.xRel)&&(0<ab(q.to(),d)||0>d.xRel)?rh(a,e,d,h):df(a,e,d,h)}function rh(a,d,f,e){var h=a.display,n=!1,q=Nb(a,function(O){Yb&&(h.scroller.draggable=!1);a.state.draggingText=!1;a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:rf(a));Ya(h.wrapper.ownerDocument,"mouseup",q);
Ya(h.wrapper.ownerDocument,"mousemove",r);Ya(h.scroller,"dragstart",B);Ya(h.scroller,"drop",q);n||(t(O),e.addNew||te(a.doc,f,null,null,e.extend),Yb&&!ef||jb&&9==ub?setTimeout(function(){h.wrapper.ownerDocument.body.focus({preventScroll:!0});h.input.focus()},20):h.input.focus())}),r=function(O){n=n||10<=Math.abs(d.clientX-O.clientX)+Math.abs(d.clientY-O.clientY)},B=function(){return n=!0};Yb&&(h.scroller.draggable=!0);a.state.draggingText=q;q.copy=!e.moveOnDrag;Za(h.wrapper.ownerDocument,"mouseup",
q);Za(h.wrapper.ownerDocument,"mousemove",r);Za(h.scroller,"dragstart",B);Za(h.scroller,"drop",q);a.state.delayingBlurEvent=!0;setTimeout(function(){return h.input.focus()},20);h.scroller.dragDrop&&h.scroller.dragDrop()}function Ae(a,d,f){if("char"==f)return new eb(d,d);if("word"==f)return a.findWordAt(d);if("line"==f)return new eb(Fa(d.line,0),Ta(a.doc,Fa(d.line+1,0)));a=f(a,d);return new eb(a.from,a.to)}function df(a,d,f,e){function h(Ua){if(0!=ab(ia,Ua))if(ia=Ua,"rectangle"==e.unit){var tb=[],
pb=a.options.tabSize,wb=G(Ga(B,f.line).text,f.ch,pb),zb=G(Ga(B,Ua.line).text,Ua.ch,pb),fb=Math.min(wb,zb);wb=Math.max(wb,zb);zb=Math.min(f.line,Ua.line);for(var xb=Math.min(a.lastLine(),Math.max(f.line,Ua.line));zb<=xb;zb++){var nb=Ga(B,zb).text,qb=H(nb,fb,pb);fb==wb?tb.push(new eb(Fa(zb,qb),Fa(zb,qb))):nb.length>qb&&tb.push(new eb(Fa(zb,qb),Fa(zb,H(nb,wb,pb))))}tb.length||tb.push(new eb(f,f));Pa(B,Ec(a,O.ranges.slice(0,pa).concat(tb),pa),{origin:"*mouse",scroll:!1});a.scrollIntoView(Ua)}else tb=
ea,fb=Ae(a,Ua,e.unit),Ua=tb.anchor,0<ab(fb.anchor,Ua)?(pb=fb.head,Ua=Ed(tb.from(),fb.anchor)):(pb=fb.anchor,Ua=ed(tb.to(),fb.head)),tb=O.ranges.slice(0),tb[pa]=ff(a,new eb(Ta(B,Ua),pb)),Pa(B,Ec(a,tb,pa),Qf)}function n(Ua){var tb=++Ka,pb=zc(a,Ua,!0,"rectangle"==e.unit);if(pb)if(0!=ab(pb,ia)){a.curOp.focus=I();h(pb);var wb=yb(r,B);(pb.line>=wb.to||pb.line<wb.from)&&setTimeout(Nb(a,function(){Ka==tb&&n(Ua)}),150)}else{var zb=Ua.clientY<xa.top?-20:Ua.clientY>xa.bottom?20:0;zb&&setTimeout(Nb(a,function(){Ka==
tb&&(r.scroller.scrollTop+=zb,n(Ua))}),50)}}function q(Ua){a.state.selectingText=!1;Ka=Infinity;Ua&&(t(Ua),r.input.focus());Ya(r.wrapper.ownerDocument,"mousemove",bb);Ya(r.wrapper.ownerDocument,"mouseup",mb);B.history.lastSelOrigin=null}jb&&rf(a);var r=a.display,B=a.doc;t(d);var O=B.sel,aa=O.ranges;if(e.addNew&&!e.extend){var pa=B.sel.contains(f);var ea=-1<pa?aa[pa]:new eb(f,f)}else ea=B.sel.primary(),pa=B.sel.primIndex;"rectangle"==e.unit?(e.addNew||(ea=new eb(f,f)),f=zc(a,d,!0,!0),pa=-1):(d=Ae(a,
f,e.unit),ea=e.extend?Cf(ea,d.anchor,d.head,e.extend):d);e.addNew?-1==pa?(pa=aa.length,Pa(B,Ec(a,aa.concat([ea]),pa),{scroll:!1,origin:"*mouse"})):1<aa.length&&aa[pa].empty()&&"char"==e.unit&&!e.extend?(Pa(B,Ec(a,aa.slice(0,pa).concat(aa.slice(pa+1)),0),{scroll:!1,origin:"*mouse"}),O=B.sel):Df(B,pa,ea,Qf):(pa=0,Pa(B,new Pb([ea],0),Qf),O=B.sel);var ia=f,xa=r.wrapper.getBoundingClientRect(),Ka=0,bb=Nb(a,function(Ua){0!==Ua.buttons&&Da(Ua)?n(Ua):q(Ua)}),mb=Nb(a,q);a.state.selectingText=mb;Za(r.wrapper.ownerDocument,
"mousemove",bb);Za(r.wrapper.ownerDocument,"mouseup",mb)}function ff(a,d){var f=d.anchor,e=d.head,h=Ga(a.doc,f.line);if(0==ab(f,e)&&f.sticky==e.sticky)return d;h=Wa(h);if(!h)return d;var n=La(h,f.ch,f.sticky),q=h[n];if(q.from!=f.ch&&q.to!=f.ch)return d;var r=n+(q.from==f.ch==(1!=q.level)?0:1);if(0==r||r==h.length)return d;e.line!=f.line?a=0<(e.line-f.line)*("ltr"==a.doc.direction?1:-1):(a=La(h,e.ch,e.sticky),n=a-n||(e.ch-f.ch)*(1==q.level?-1:1),a=a==r-1||a==r?0>n:0<n);h=h[r+(a?-1:0)];h=(r=a==(1==
h.level))?h.from:h.to;r=r?"after":"before";return f.ch==h&&f.sticky==r?d:new eb(new Fa(f.line,h,r),e)}function Yd(a,d,f,e){if(d.touches){var h=d.touches[0].clientX;var n=d.touches[0].clientY}else try{h=d.clientX,n=d.clientY}catch(B){return!1}if(h>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;e&&t(d);e=a.display;var q=e.lineDiv.getBoundingClientRect();if(n>q.bottom||!ya(a,f))return X(d);n-=q.top-e.viewOffset;for(q=0;q<a.display.gutterSpecs.length;++q){var r=e.gutters.childNodes[q];
if(r&&r.getBoundingClientRect().right>=h)return h=fc(a.doc,n),ta(a,f,a,h,a.display.gutterSpecs[q].className,d),X(d)}}function Hg(a,d){var f;(f=yc(a.display,d))||(f=ya(a,"gutterContextMenu")?Yd(a,d,"gutterContextMenu",!1):!1);if(!f&&!za(a,d,"contextmenu")&&!Pf)a.display.input.onContextMenu(d)}function Ig(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Fb(a)}function sh(a,d,f){!d!=!(f&&f!=gf)&&(f=a.display.dragFunctions,
d=d?Za:Ya,d(a.display.scroller,"dragstart",f.start),d(a.display.scroller,"dragenter",f.enter),d(a.display.scroller,"dragover",f.over),d(a.display.scroller,"dragleave",f.leave),d(a.display.scroller,"drop",f.drop))}function th(a){a.options.lineWrapping?(F(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(vd(a.display.wrapper,"CodeMirror-wrap"),wc(a));cc(a);Mb(a);Fb(a);setTimeout(function(){return Ld(a)},100)}function Bb(a,d){var f=this;if(!(this instanceof
Bb))return new Bb(a,d);this.options=d=d?A(d):{};A(Eh,d,!1);var e=d.value;"string"==typeof e?e=new tc(e,d.mode,null,d.lineSeparator,d.direction):d.mode&&(e.modeOption=d.mode);this.doc=e;var h=new Bb.inputStyles[d.inputStyle](this);a=this.display=new ah(a,e,h,d);a.wrapper.CodeMirror=this;Ig(this);d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");dg(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,
selectingText:!1,draggingText:!1,highlight:new ld,keySeq:null,specialChars:null};d.autofocus&&!qe&&a.input.focus();jb&&11>ub&&setTimeout(function(){return f.display.input.reset(!0)},20);uh(this);Fh||(hh(),Fh=!0);Wb(this);this.curOp.forceUpdate=!0;ig(this,e);d.autofocus&&!qe||this.hasFocus()?setTimeout(function(){f.hasFocus()&&!f.state.focused&&oe(f)},20):Id(this);for(var n in Jg)if(Jg.hasOwnProperty(n))Jg[n](this,d[n],gf);fg(this);d.finishInit&&d.finishInit(this);for(e=0;e<vh.length;++e)vh[e](this);
Cc(this);Yb&&d.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function uh(a){function d(){e.activeTouch&&(h=setTimeout(function(){return e.activeTouch=null},1E3),n=e.activeTouch,n.end=+new Date)}function f(r,B){if(null==B.left)return!0;var O=B.left-r.left;r=B.top-r.top;return 400<O*O+r*r}var e=a.display;Za(e.scroller,"mousedown",Nb(a,Gg));jb&&11>ub?Za(e.scroller,"dblclick",Nb(a,function(r){if(!za(a,r)){var B=zc(a,r);!B||Yd(a,r,
"gutterClick",!0)||yc(a.display,r)||(t(r),r=a.findWordAt(B),te(a.doc,r.anchor,r.head))}})):Za(e.scroller,"dblclick",function(r){return za(a,r)||t(r)});Za(e.scroller,"contextmenu",function(r){return Hg(a,r)});Za(e.input.getField(),"contextmenu",function(r){e.scroller.contains(r.target)||Hg(a,r)});var h,n={end:0};Za(e.scroller,"touchstart",function(r){var B;if(B=!za(a,r))1!=r.touches.length?B=!1:(B=r.touches[0],B=1>=B.radiusX&&1>=B.radiusY),B=!B;B&&!Yd(a,r,"gutterClick",!0)&&(e.input.ensurePolled(),
clearTimeout(h),B=+new Date,e.activeTouch={start:B,moved:!1,prev:300>=B-n.end?n:null},1==r.touches.length&&(e.activeTouch.left=r.touches[0].pageX,e.activeTouch.top=r.touches[0].pageY))});Za(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)});Za(e.scroller,"touchend",function(r){var B=e.activeTouch;if(B&&!yc(e,r)&&null!=B.left&&!B.moved&&300>new Date-B.start){var O=a.coordsChar(e.activeTouch,"page");B=!B.prev||f(B,B.prev)?new eb(O,O):!B.prev.prev||f(B,B.prev.prev)?a.findWordAt(O):
new eb(Fa(O.line,0),Ta(a.doc,Fa(O.line+1,0)));a.setSelection(B.anchor,B.head);a.focus();t(r)}d()});Za(e.scroller,"touchcancel",d);Za(e.scroller,"scroll",function(){e.scroller.clientHeight&&(E(a,e.scroller.scrollTop),Vc(a,e.scroller.scrollLeft,!0),ta(a,"scroll",a))});Za(e.scroller,"mousewheel",function(r){return gg(a,r)});Za(e.scroller,"DOMMouseScroll",function(r){return gg(a,r)});Za(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0});e.dragFunctions={enter:function(r){za(a,
r)||sa(r)},over:function(r){if(!za(a,r)){var B=zc(a,r);if(B){var O=document.createDocumentFragment();Zf(a,B,O);a.display.dragCursor||(a.display.dragCursor=y("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));ja(a.display.dragCursor,O)}sa(r)}},start:function(r){if(jb&&(!a.state.draggingText||100>+new Date-Dh))sa(r);else if(!za(a,r)&&!yc(a.display,r)&&(r.dataTransfer.setData("Text",a.getSelection()),r.dataTransfer.effectAllowed=
"copyMove",r.dataTransfer.setDragImage&&!ef)){var B=y("img",null,null,"position: fixed; left: 0; top: 0;");B.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";Dc&&(B.width=B.height=1,a.display.wrapper.appendChild(B),B._top=B.offsetTop);r.dataTransfer.setDragImage(B,0,0);Dc&&B.parentNode.removeChild(B)}},drop:Nb(a,ug),leave:function(r){za(a,r)||we(a)}};var q=e.input.getField();Za(q,"keyup",function(r){return Eg.call(a,r)});Za(q,"keydown",Nb(a,ze));Za(q,"keypress",Nb(a,
Fg));Za(q,"focus",function(r){return oe(a,r)});Za(q,"blur",function(r){return Id(a,r)})}function Zd(a,d,f,e){var h=a.doc,n;null==f&&(f="add");"smart"==f&&(h.mode.indent?n=Mc(a,d).state:f="prev");var q=a.options.tabSize,r=Ga(h,d),B=G(r.text,null,q);r.stateAfter&&(r.stateAfter=null);var O=r.text.match(/^\s*/)[0];if(!e&&!/\S/.test(r.text)){var aa=0;f="not"}else if("smart"==f&&(aa=h.mode.indent(n,r.text.slice(O.length),r.text),aa==cf||150<aa)){if(!e)return;f="prev"}"prev"==f?aa=d>h.first?G(Ga(h,d-1).text,
null,q):0:"add"==f?aa=B+a.options.indentUnit:"subtract"==f?aa=B-a.options.indentUnit:"number"==typeof f&&(aa=B+f);aa=Math.max(0,aa);f="";e=0;if(a.options.indentWithTabs)for(a=Math.floor(aa/q);a;--a)e+=q,f+="\t";e<aa&&(f+=N(aa-e));if(f!=O)return yd(h,f,Fa(d,0),Fa(d,O.length),"+input"),r.stateAfter=null,!0;for(q=0;q<h.sel.ranges.length;q++)if(r=h.sel.ranges[q],r.head.line==d&&r.head.ch<O.length){d=Fa(d,O.length);Df(h,q,new eb(d,d));break}}function Rf(a,d,f,e,h){var n=a.doc;a.display.shift=!1;e||(e=
n.sel);var q=+new Date-200,r="paste"==h||a.state.pasteIncoming>q,B=Sf(d),O=null;if(r&&1<e.ranges.length)if(xc&&xc.text.join("\n")==d){if(0==e.ranges.length%xc.text.length){O=[];for(var aa=0;aa<xc.text.length;aa++)O.push(n.splitLines(xc.text[aa]))}}else B.length==e.ranges.length&&a.options.pasteLinesPerSelection&&(O=S(B,function(Ka){return[Ka]}));aa=a.curOp.updateInput;for(var pa=e.ranges.length-1;0<=pa;pa--){var ea=e.ranges[pa],ia=ea.from(),xa=ea.to();ea.empty()&&(f&&0<f?ia=Fa(ia.line,ia.ch-f):a.state.overwrite&&
!r?xa=Fa(xa.line,Math.min(Ga(n,xa.line).text.length,xa.ch+K(B).length)):r&&xc&&xc.lineWise&&xc.text.join("\n")==B.join("\n")&&(ia=xa=Fa(ia.line,0)));ea={from:ia,to:xa,text:O?O[pa%O.length]:B,origin:h||(r?"paste":a.state.cutIncoming>q?"cut":"+input")};Pd(a.doc,ea);Db(a,"inputRead",a,ea)}d&&!r&&Kg(a,d);Jd(a);2>a.curOp.updateInput&&(a.curOp.updateInput=aa);a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=-1}function Lg(a,d){var f=a.clipboardData&&a.clipboardData.getData("Text");if(f)return a.preventDefault(),
d.isReadOnly()||d.options.disableInput||mc(d,function(){return Rf(d,f,0,null,"paste")}),!0}function Kg(a,d){if(a.options.electricChars&&a.options.smartIndent)for(var f=a.doc.sel,e=f.ranges.length-1;0<=e;e--){var h=f.ranges[e];if(!(100<h.head.ch||e&&f.ranges[e-1].head.line==h.head.line)){var n=a.getModeAt(h.head),q=!1;if(n.electricChars)for(var r=0;r<n.electricChars.length;r++){if(-1<d.indexOf(n.electricChars.charAt(r))){q=Zd(a,h.head.line,"smart");break}}else n.electricInput&&n.electricInput.test(Ga(a.doc,
h.head.line).text.slice(0,h.head.ch))&&(q=Zd(a,h.head.line,"smart"));q&&Db(a,"electricInput",a,h.head.line)}}}function Mg(a){for(var d=[],f=[],e=0;e<a.doc.sel.ranges.length;e++){var h=a.doc.sel.ranges[e].head.line;h={anchor:Fa(h,0),head:Fa(h+1,0)};f.push(h);d.push(a.getRange(h.anchor,h.head))}return{text:d,ranges:f}}function Ng(a,d,f,e){a.setAttribute("autocorrect",f?"":"off");a.setAttribute("autocapitalize",e?"":"off");a.setAttribute("spellcheck",!!d)}function Og(){var a=y("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),
d=y("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Yb?a.style.width="1000px":a.setAttribute("wrap","off");Be&&(a.style.border="1px solid black");Ng(a);return d}function Tf(a,d,f,e,h){function n(Ka){if("codepoint"==e){var bb=B.text.charCodeAt(d.ch+(0<f?0:-1));bb=isNaN(bb)?null:new Fa(d.line,Math.max(0,Math.min(B.text.length,d.ch+f*((0<f?55296<=bb&&56320>bb:56320<=bb&&57343>bb)?2:1))),-f)}else bb=h?jh(a.cm,B,d,f):Jf(B,d,f);if(null==bb){if(Ka=!Ka)Ka=d.line+O,Ka<a.first||
Ka>=a.first+a.size?Ka=!1:(d=new Fa(Ka,d.ch,d.sticky),Ka=B=Ga(a,Ka));if(Ka)d=Kf(h,a.cm,B,d.line,O);else return!1}else d=bb;return!0}var q=d,r=f,B=Ga(a,d.line),O=h&&"rtl"==a.direction?-f:f;if("char"==e||"codepoint"==e)n();else if("column"==e)n(!0);else if("word"==e||"group"==e)for(var aa=null,pa="group"==e,ea=a.cm&&a.cm.getHelper(d,"wordChars"),ia=!0;!(0>f)||n(!ia);ia=!1){var xa=B.text.charAt(d.ch)||"\n";xa=oa(xa,ea)?"w":pa&&"\n"==xa?"n":!pa||/\s/.test(xa)?null:"p";!pa||ia||xa||(xa="s");if(aa&&aa!=
xa){0>f&&(f=1,n(),d.sticky="after");break}xa&&(aa=xa);if(0<f&&!n(!ia))break}r=Ye(a,d,q,r,!0);Hb(q,r)&&(r.hitSide=!0);return r}function Uf(a,d,f,e){var h=a.doc,n=d.left;if("page"==e){var q=Math.max(Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*rb(a.display),3);q=(0<f?d.bottom:d.top)+f*q}else"line"==e&&(q=0<f?d.bottom+3:d.top-3);for(;;){d=V(a,n,q);if(!d.outside)break;if(0>f?0>=q:q>=h.height){d.hitSide=!0;break}q+=5*f}return d}function Pg(a,d){var f=
Hd(a,d.line);if(!f||f.hidden)return null;var e=Ga(a.doc,d.line);f=ud(f,e,d.line);a=Wa(e,a.doc.direction);e="left";a&&(e=La(a,d.ch)%2?"right":"left");d=Eb(f.map,d.ch,e);d.offset="right"==d.collapse?d.end:d.start;return d}function wh(a){for(;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function $d(a,d){d&&(a.bad=!0);return a}function xh(a,d,f,e,h){function n(ia){return function(xa){return xa.id==ia}}function q(){aa&&(O+=pa,ea&&(O+=pa),aa=ea=!1)}function r(ia){ia&&
(q(),O+=ia)}function B(ia){if(1==ia.nodeType){var xa=ia.getAttribute("cm-text");if(xa)r(xa);else{xa=ia.getAttribute("cm-marker");var Ka;if(xa)ia=a.findMarks(Fa(e,0),Fa(h+1,0),n(+xa)),ia.length&&(Ka=ia[0].find(0))&&r(ob(a.doc,Ka.from,Ka.to).join(pa));else if("false"!=ia.getAttribute("contenteditable")&&(Ka=/^(pre|div|p|li|table|br)$/i.test(ia.nodeName),/^br$/i.test(ia.nodeName)||0!=ia.textContent.length)){Ka&&q();for(xa=0;xa<ia.childNodes.length;xa++)B(ia.childNodes[xa]);/^(pre|p)$/i.test(ia.nodeName)&&
(ea=!0);Ka&&(aa=!0)}}}else 3==ia.nodeType&&r(ia.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var O="",aa=!1,pa=a.doc.lineSeparator(),ea=!1;;){B(d);if(d==f)break;d=d.nextSibling;ea=!1}return O}function hf(a,d,f){if(d==a.display.lineDiv){var e=a.display.lineDiv.childNodes[f];if(!e)return $d(a.clipPos(Fa(a.display.viewTo-1)),!0);d=null;f=0}else for(e=d;;e=e.parentNode){if(!e||e==a.display.lineDiv)return null;if(e.parentNode&&e.parentNode==a.display.lineDiv)break}for(var h=0;h<a.display.view.length;h++){var n=
a.display.view[h];if(n.node==e)return yh(n,d,f)}}function yh(a,d,f){function e(aa,pa,ea){for(var ia=-1;ia<(O?O.length:0);ia++)for(var xa=0>ia?B.map:O[ia],Ka=0;Ka<xa.length;Ka+=3){var bb=xa[Ka+2];if(bb==aa||bb==pa){pa=gb(0>ia?a.line:a.rest[ia]);ia=xa[Ka]+ea;if(0>ea||bb!=aa)ia=xa[Ka+(ea?1:0)];return Fa(pa,ia)}}}var h=a.text.firstChild,n=!1;if(!d||!R(h,d))return $d(Fa(gb(a.line),0),!0);if(d==h&&(n=!0,d=h.childNodes[f],f=0,!d))return f=a.rest?K(a.rest):a.line,$d(Fa(gb(f),f.text.length),n);var q=3==d.nodeType?
d:null,r=d;q||1!=d.childNodes.length||3!=d.firstChild.nodeType||(q=d.firstChild,f&&(f=q.nodeValue.length));for(;r.parentNode!=h;)r=r.parentNode;var B=a.measure,O=B.maps;if(d=e(q,r,f))return $d(d,n);h=r.nextSibling;for(q=q?q.nodeValue.length-f:0;h;h=h.nextSibling){if(d=e(h,h.firstChild,0))return $d(Fa(d.line,d.ch-q),n);q+=h.textContent.length}for(r=r.previousSibling;r;r=r.previousSibling){if(d=e(r,r.firstChild,-1))return $d(Fa(d.line,d.ch+f),n);f+=r.textContent.length}}var ec=navigator.userAgent,Qg=
navigator.platform,Uc=/gecko\/\d/i.test(ec),Rg=/MSIE \d/.test(ec),Sg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ec),jf=/Edge\/(\d+)/.exec(ec),jb=Rg||Sg||jf,ub=jb&&(Rg?document.documentMode||6:+(jf||Sg)[1]),Yb=!jf&&/WebKit\//.test(ec),zh=Yb&&/Qt\/\d+\.\d+/.test(ec),Ne=!jf&&/Chrome\//.test(ec),Dc=/Opera\//.test(ec),ef=/Apple Computer/.test(navigator.vendor),Ah=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ec),Yg=/PhantomJS/.test(ec),Be=ef&&(/Mobile\/\w+/.test(ec)||2<navigator.maxTouchPoints),Oe=/Android/.test(ec),
qe=Be||Oe||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ec),uc=Be||/Mac/.test(Qg),ph=/\bCrOS\b/.test(ec),Bh=/win/i.test(Qg),Dd=Dc&&ec.match(/Version\/(\d*\.\d*)/);Dd&&(Dd=Number(Dd[1]));Dd&&15<=Dd&&(Dc=!1,Yb=!0);var zg=uc&&(zh||Dc&&(null==Dd||12.11>Dd)),Pf=Uc||jb&&9<=ub,vd=function(a,d){var f=a.className;if(d=wa(d).exec(f)){var e=f.slice(d.index+d[0].length);a.className=f.slice(0,d.index)+(e?d[1]+e:"")}};var ge=document.createRange?function(a,d,f,e){var h=document.createRange();h.setEnd(e||
a,f);h.setStart(a,d);return h}:function(a,d,f){var e=document.body.createTextRange();try{e.moveToElementText(a.parentNode)}catch(h){return e}e.collapse(!0);e.moveEnd("character",f);e.moveStart("character",d);return e};var Ce=function(a){a.select()};Be?Ce=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:jb&&(Ce=function(a){try{a.select()}catch(d){}});var ld=function(){this.f=this.id=null;this.time=0;this.handler=C(this.onTimeout,this)};ld.prototype.onTimeout=function(a){a.id=0;a.time<=
+new Date?a.f():setTimeout(a.handler,a.time-+new Date)};ld.prototype.set=function(a,d){this.f=d;d=+new Date+a;if(!this.id||d<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=d};var cf={toString:function(){return"CodeMirror.Pass"}},Lc={scroll:!1},Qf={origin:"*mouse"},De={origin:"+move"},Ee=[""],Ug=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Vg=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
ae=null,Wg=function(){function a(r){return 247>=r?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(r):1424<=r&&1524>=r?"R":1536<=r&&1785>=r?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(r-
1536):1774<=r&&2220>=r?"r":8192<=r&&8203>=r?"w":8204==r?"b":"L"}function d(r,B,O){this.level=r;this.from=B;this.to=O}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,h=/[LRr]/,n=/[Lb1n]/,q=/[1n]/;return function(r,B){var O="ltr"==B?"L":"R";if(0==r.length||"ltr"==B&&!f.test(r))return!1;for(var aa=r.length,pa=[],ea=0;ea<aa;++ea)pa.push(a(r.charCodeAt(ea)));ea=0;for(var ia=O;ea<aa;++ea){var xa=pa[ea];"m"==xa?pa[ea]=ia:ia=xa}ea=0;for(ia=O;ea<aa;++ea)xa=pa[ea],"1"==xa&&"r"==ia?pa[ea]="n":h.test(xa)&&
(ia=xa,"r"==xa&&(pa[ea]="R"));ea=1;for(ia=pa[0];ea<aa-1;++ea)xa=pa[ea],"+"==xa&&"1"==ia&&"1"==pa[ea+1]?pa[ea]="1":","!=xa||ia!=pa[ea+1]||"1"!=ia&&"n"!=ia||(pa[ea]=ia),ia=xa;for(ea=0;ea<aa;++ea)if(ia=pa[ea],","==ia)pa[ea]="N";else if("%"==ia){for(ia=ea+1;ia<aa&&"%"==pa[ia];++ia);for(xa=ea&&"!"==pa[ea-1]||ia<aa&&"1"==pa[ia]?"1":"N";ea<ia;++ea)pa[ea]=xa;ea=ia-1}ea=0;for(ia=O;ea<aa;++ea)xa=pa[ea],"L"==ia&&"1"==xa?pa[ea]="L":h.test(xa)&&(ia=xa);for(ia=0;ia<aa;++ia)if(e.test(pa[ia])){for(ea=ia+1;ea<aa&&
e.test(pa[ea]);++ea);xa="L"==(ia?pa[ia-1]:O);for(xa=xa==("L"==(ea<aa?pa[ea]:O))?xa?"L":"R":O;ia<ea;++ia)pa[ia]=xa;ia=ea-1}O=[];var Ka;for(ea=0;ea<aa;)if(n.test(pa[ea])){ia=ea;for(++ea;ea<aa&&n.test(pa[ea]);++ea);O.push(new d(0,ia,ea))}else{var bb=ea;ia=O.length;xa="rtl"==B?1:0;for(++ea;ea<aa&&"L"!=pa[ea];++ea);for(var mb=bb;mb<ea;)if(q.test(pa[mb])){bb<mb&&(O.splice(ia,0,new d(1,bb,mb)),ia+=xa);bb=mb;for(++mb;mb<ea&&q.test(pa[mb]);++mb);O.splice(ia,0,new d(2,bb,mb));ia+=xa;bb=mb}else++mb;bb<ea&&O.splice(ia,
0,new d(1,bb,ea))}"ltr"==B&&(1==O[0].level&&(Ka=r.match(/^\s+/))&&(O[0].from=Ka[0].length,O.unshift(new d(0,0,Ka[0].length))),1==K(O).level&&(Ka=r.match(/\s+$/))&&(K(O).to-=Ka[0].length,O.push(new d(0,aa-Ka[0].length,aa))));return"rtl"==B?O.reverse():O}}(),Fe=[],Za=function(a,d,f){a.addEventListener?a.addEventListener(d,f,!1):a.attachEvent?a.attachEvent("on"+d,f):(a=a._handlers||(a._handlers={}),a[d]=(a[d]||Fe).concat(f))},qh=function(){if(jb&&9>ub)return!1;var a=y("div");return"draggable"in a||"dragDrop"in
a}(),lf,nf,Sf=3!="\n\nb".split(/\n/).length?function(a){for(var d=0,f=[],e=a.length;d<=e;){var h=a.indexOf("\n",d);-1==h&&(h=a.length);var n=a.slice(d,"\r"==a.charAt(h-1)?h-1:h),q=n.indexOf("\r");-1!=q?(f.push(n.slice(0,q)),d+=q+1):(f.push(n),d=h+1)}return f}:function(a){return a.split(/\r\n?|\n/)},kf=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(d){return!1}}:function(a){try{var d=a.ownerDocument.selection.createRange()}catch(f){}return d&&d.parentElement()==a?
0!=d.compareEndPoints("StartToEnd",d):!1},Cg=function(){var a=y("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),ac=null,ad={},bd={},cd={},Cb=function(a,d,f){this.pos=this.start=0;this.string=a;this.tabSize=d||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=f};Cb.prototype.eol=function(){return this.pos>=this.string.length};Cb.prototype.sol=function(){return this.pos==this.lineStart};Cb.prototype.peek=function(){return this.string.charAt(this.pos)||
void 0};Cb.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};Cb.prototype.eat=function(a){var d=this.string.charAt(this.pos);if("string"==typeof a?d==a:d&&(a.test?a.test(d):a(d)))return++this.pos,d};Cb.prototype.eatWhile=function(a){for(var d=this.pos;this.eat(a););return this.pos>d};Cb.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a};Cb.prototype.skipToEnd=function(){this.pos=
this.string.length};Cb.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};Cb.prototype.backUp=function(a){this.pos-=a};Cb.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=G(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?G(this.string,this.lineStart,this.tabSize):0)};Cb.prototype.indentation=function(){return G(this.string,
null,this.tabSize)-(this.lineStart?G(this.string,this.lineStart,this.tabSize):0)};Cb.prototype.match=function(a,d,f){if("string"==typeof a){var e=function(n){return f?n.toLowerCase():n},h=this.string.substr(this.pos,a.length);if(e(h)==e(a))return!1!==d&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==d&&(this.pos+=a[0].length);return a}};Cb.prototype.current=function(){return this.string.slice(this.start,this.pos)};Cb.prototype.hideFirstChars=
function(a,d){this.lineStart+=a;try{return d()}finally{this.lineStart-=a}};Cb.prototype.lookAhead=function(a){var d=this.lineOracle;return d&&d.lookAhead(a)};Cb.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var ee=function(a,d){this.state=a;this.lookAhead=d},gc=function(a,d,f,e){this.state=d;this.doc=a;this.line=f;this.maxLookAhead=e||0;this.baseTokens=null;this.baseTokenPos=1};gc.prototype.lookAhead=function(a){var d=this.doc.getLine(this.line+a);null!=d&&
a>this.maxLookAhead&&(this.maxLookAhead=a);return d};gc.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}};gc.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};gc.fromSaved=function(a,d,f){return d instanceof ee?new gc(a,qa(a.mode,d.state),f,d.lookAhead):
new gc(a,qa(a.mode,d),f)};gc.prototype.save=function(a){a=!1!==a?qa(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new ee(a,this.maxLookAhead):a};var He=function(a,d,f){this.start=a.start;this.end=a.pos;this.string=a.current();this.type=d||null;this.state=f},Qd=!1,Ub=!1,l=function(a,d,f){this.text=a;pc(this,d);this.height=f?f(this):1};l.prototype.lineNo=function(){return gb(this)};da(l);var k={},b={},c=null,g=null,m={left:0,right:0,top:0,bottom:0},x,M=function(a,d,f){this.cm=f;var e=
this.vert=y("div",[y("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),h=this.horiz=y("div",[y("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e.tabIndex=h.tabIndex=-1;a(e);a(h);Za(e,"scroll",function(){e.clientHeight&&d(e.scrollTop,"vertical")});Za(h,"scroll",function(){h.clientWidth&&d(h.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;jb&&8>ub&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};M.prototype.update=function(a){var d=a.scrollWidth>
a.clientWidth+1,f=a.scrollHeight>a.clientHeight+1,e=a.nativeBarWidth;f?(this.vert.style.display="block",this.vert.style.bottom=d?e+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(d?e:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");d?(this.horiz.style.display="block",this.horiz.style.right=f?e+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-
a.barLeft-(f?e:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==e&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:f?e:0,bottom:d?e:0}};M.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};M.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a);this.disableVert&&this.enableZeroWidthBar(this.vert,
this.disableVert,"vert")};M.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=uc&&!Ah?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new ld;this.disableVert=new ld};M.prototype.enableZeroWidthBar=function(a,d,f){function e(){var h=a.getBoundingClientRect();("vert"==f?document.elementFromPoint(h.right-1,(h.top+h.bottom)/2):document.elementFromPoint((h.right+h.left)/2,h.bottom-1))!=a?a.style.pointerEvents="none":d.set(1E3,
e)}a.style.pointerEvents="auto";d.set(1E3,e)};M.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var la=function(){};la.prototype.update=function(){return{bottom:0,right:0}};la.prototype.setScrollLeft=function(){};la.prototype.setScrollTop=function(){};la.prototype.clear=function(){};var ua={"native":M,"null":la},Oa=0,cb=function(a,d,f){var e=a.display;this.viewport=d;this.visible=yb(e,a.doc,d);this.editorIsHidden=!e.wrapper.offsetWidth;this.wrapperHeight=
e.wrapper.clientHeight;this.wrapperWidth=e.wrapper.clientWidth;this.oldDisplayWidth=rc(a);this.force=f;this.dims=Vb(a);this.events=[]};cb.prototype.signal=function(a,d){ya(a,d)&&this.events.push(arguments)};cb.prototype.finish=function(){for(var a=0;a<this.events.length;a++)ta.apply(null,this.events[a])};var kb=0,Gb=null;jb?Gb=-.53:Uc?Gb=15:Ne?Gb=-.7:ef&&(Gb=-1/3);var Pb=function(a,d){this.ranges=a;this.primIndex=d};Pb.prototype.primary=function(){return this.ranges[this.primIndex]};Pb.prototype.equals=
function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var f=this.ranges[d],e=a.ranges[d];if(!Hb(f.anchor,e.anchor)||!Hb(f.head,e.head))return!1}return!0};Pb.prototype.deepCopy=function(){for(var a=[],d=0;d<this.ranges.length;d++)a[d]=new eb(md(this.ranges[d].anchor),md(this.ranges[d].head));return new Pb(a,this.primIndex)};Pb.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;
return!1};Pb.prototype.contains=function(a,d){d||(d=a);for(var f=0;f<this.ranges.length;f++){var e=this.ranges[f];if(0<=ab(d,e.from())&&0>=ab(a,e.to()))return f}return-1};var eb=function(a,d){this.anchor=a;this.head=d};eb.prototype.from=function(){return Ed(this.anchor,this.head)};eb.prototype.to=function(){return ed(this.anchor,this.head)};eb.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};Ab.prototype={chunkSize:function(){return this.lines.length},
removeInner:function(a,d){for(var f=a,e=a+d;f<e;++f){var h=this.lines[f];this.height-=h.height;var n=h;n.parent=null;fe(n);Db(h,"delete")}this.lines.splice(a,d)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,d,f){this.height+=f;this.lines=this.lines.slice(0,a).concat(d).concat(this.lines.slice(a));for(a=0;a<d.length;++a)d[a].parent=this},iterN:function(a,d,f){for(d=a+d;a<d;++a)if(f(this.lines[a]))return!0}};Ad.prototype={chunkSize:function(){return this.size},removeInner:function(a,
d){this.size-=d;for(var f=0;f<this.children.length;++f){var e=this.children[f],h=e.chunkSize();if(a<h){var n=Math.min(d,h-a),q=e.height;e.removeInner(a,n);this.height-=q-e.height;h==n&&(this.children.splice(f--,1),e.parent=null);if(0==(d-=n))break;a=0}else a-=h}25>this.size-d&&(1<this.children.length||!(this.children[0]instanceof Ab))&&(a=[],this.collapse(a),this.children=[new Ab(a)],this.children[0].parent=this)},collapse:function(a){for(var d=0;d<this.children.length;++d)this.children[d].collapse(a)},
insertInner:function(a,d,f){this.size+=d.length;this.height+=f;for(var e=0;e<this.children.length;++e){var h=this.children[e],n=h.chunkSize();if(a<=n){h.insertInner(a,d,f);if(h.lines&&50<h.lines.length){for(d=a=h.lines.length%25+25;d<h.lines.length;)f=new Ab(h.lines.slice(d,d+=25)),h.height-=f.height,this.children.splice(++e,0,f),f.parent=this;h.lines=h.lines.slice(0,a);this.maybeSpill()}break}a-=n}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var d=a.children.splice(a.children.length-
5,5);d=new Ad(d);if(a.parent){a.size-=d.size;a.height-=d.height;var f=D(a.parent.children,a);a.parent.children.splice(f+1,0,d)}else f=new Ad(a.children),f.parent=a,a.children=[f,d],a=f;d.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,d,f){for(var e=0;e<this.children.length;++e){var h=this.children[e],n=h.chunkSize();if(a<n){n=Math.min(d,n-a);if(h.iterN(a,n,f))return!0;if(0==(d-=n))break;a=0}else a-=n}}};var Bd=function(a,d,f){if(f)for(var e in f)f.hasOwnProperty(e)&&
(this[e]=f[e]);this.doc=a;this.node=d};Bd.prototype.clear=function(){var a=this.doc.cm,d=this.line.widgets,f=this.line,e=gb(f);if(null!=e&&d){for(var h=0;h<d.length;++h)d[h]==this&&d.splice(h--,1);d.length||(f.widgets=null);var n=Va(this);Kb(f,Math.max(0,f.height-n));a&&(mc(a,function(){var q=-n;vc(f)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&wd(a,q);Ac(a,e,"widget")}),Db(a,"lineWidgetCleared",a,this,e))}};Bd.prototype.changed=function(){var a=this,d=this.height,f=this.doc.cm,e=this.line;this.height=
null;var h=Va(this)-d;h&&(qc(this.doc,e)||Kb(e,e.height+h),f&&mc(f,function(){f.curOp.forceUpdate=!0;vc(e)<(f.curOp&&f.curOp.scrollTop||f.doc.scrollTop)&&wd(f,h);Db(f,"lineWidgetChanged",f,a,gb(e))}))};da(Bd);var Ch=0,Sd=function(a,d){this.lines=[];this.type=d;this.doc=a;this.id=++Ch};Sd.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,d=a&&!a.curOp;d&&Wb(a);if(ya(this,"clear")){var f=this.find();f&&Db(this,"clear",f.from,f.to)}for(var e=f=null,h=0;h<this.lines.length;++h){var n=
this.lines[h],q=Hc(n.markedSpans,this);a&&!this.collapsed?Ac(a,gb(n),"text"):a&&(null!=q.to&&(e=gb(n)),null!=q.from&&(f=gb(n)));for(var r=n,B=void 0,O=n.markedSpans,aa=q,pa=0;pa<O.length;++pa)O[pa]!=aa&&(B||(B=[])).push(O[pa]);r.markedSpans=B;null==q.from&&this.collapsed&&!qc(this.doc,n)&&a&&Kb(n,rb(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(h=0;h<this.lines.length;++h)n=Ib(this.lines[h]),q=rd(n),q>a.display.maxLineLength&&(a.display.maxLine=n,a.display.maxLineLength=q,a.display.maxLineChanged=
!0);null!=f&&a&&this.collapsed&&Mb(a,f,e+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Ef(a.doc));a&&Db(a,"markerCleared",a,this,f,e);d&&Cc(a);this.parent&&this.parent.clear()}};Sd.prototype.find=function(a,d){null==a&&"bookmark"==this.type&&(a=1);for(var f,e,h=0;h<this.lines.length;++h){var n=this.lines[h],q=Hc(n.markedSpans,this);if(null!=q.from&&(f=Fa(d?n:gb(n),q.from),-1==a))return f;if(null!=q.to&&(e=Fa(d?n:gb(n),q.to),1==a))return e}return f&&
{from:f,to:e}};Sd.prototype.changed=function(){var a=this,d=this.find(-1,!0),f=this,e=this.doc.cm;d&&e&&mc(e,function(){var h=d.line,n=gb(d.line);if(n=Hd(e,n))Jc(n),e.curOp.selectionChanged=e.curOp.forceUpdate=!0;e.curOp.updateMaxLine=!0;qc(f.doc,h)||null==f.height||(n=f.height,f.height=null,(n=Va(f)-n)&&Kb(h,h.height+n));Db(e,"markerChanged",e,a)})};Sd.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;d.maybeHiddenMarkers&&-1!=D(d.maybeHiddenMarkers,this)||
(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Sd.prototype.detachLine=function(a){this.lines.splice(D(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};da(Sd);var Gf=function(a,d){this.markers=a;this.primary=d;for(d=0;d<a.length;++d)a[d].parent=this};Gf.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();
Db(this,"clear")}};Gf.prototype.find=function(a,d){return this.primary.find(a,d)};da(Gf);var Hh=0,tc=function(a,d,f,e,h){if(!(this instanceof tc))return new tc(a,d,f,e,h);null==f&&(f=0);Ad.call(this,[new Ab([new l("",null)])]);this.first=f;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=f;f=Fa(f,0);this.sel=Wc(f);this.history=new Ve(null);this.id=++Hh;this.modeOption=d;this.lineSep=e;this.direction="rtl"==h?"rtl":"ltr";this.extend=
!1;"string"==typeof a&&(a=this.splitLines(a));Af(this,{from:f,to:f,text:a});Pa(this,Wc(f),Lc)};tc.prototype=ka(Ad.prototype,{constructor:tc,iter:function(a,d,f){f?this.iterN(a-this.first,d-a,f):this.iterN(this.first,this.first+this.size,a)},insert:function(a,d){for(var f=0,e=0;e<d.length;++e)f+=d[e].height;this.insertInner(a-this.first,d,f)},remove:function(a,d){this.removeInner(a-this.first,d)},getValue:function(a){var d=Rb(this,this.first,this.first+this.size);return!1===a?d:d.join(a||this.lineSeparator())},
setValue:Ob(function(a){var d=Fa(this.first,0),f=this.first+this.size-1;Pd(this,{from:d,to:Fa(f,Ga(this,f).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);this.cm&&Kc(this.cm,0,0);Pa(this,Wc(d),Lc)}),replaceRange:function(a,d,f,e){d=Ta(this,d);f=f?Ta(this,f):d;yd(this,a,d,f,e)},getRange:function(a,d,f){a=ob(this,Ta(this,a),Ta(this,d));return!1===f?a:a.join(f||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(nc(this,
a))return Ga(this,a)},getLineNumber:function(a){return gb(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=Ga(this,a));return Ib(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Ta(this,a)},getCursor:function(a){var d=this.sel.primary();return null==a||"head"==a?d.head:"anchor"==a?d.anchor:"end"==a||"to"==a||!1===a?d.to():d.from()},listSelections:function(){return this.sel.ranges},
somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ob(function(a,d,f){a=Ta(this,"number"==typeof a?Fa(a,d||0):a);Pa(this,Wc(a,null),f)}),setSelection:Ob(function(a,d,f){var e=Ta(this,a);a=Ta(this,d||a);Pa(this,Wc(e,a),f)}),extendSelection:Ob(function(a,d,f){te(this,Ta(this,a),d&&Ta(this,d),f)}),extendSelections:Ob(function(a,d){og(this,nd(this,a),d)}),extendSelectionsBy:Ob(function(a,d){a=S(this.sel.ranges,a);og(this,nd(this,a),d)}),setSelections:Ob(function(a,d,f){if(a.length){for(var e=
[],h=0;h<a.length;h++)e[h]=new eb(Ta(this,a[h].anchor),Ta(this,a[h].head));null==d&&(d=Math.min(a.length-1,this.sel.primIndex));Pa(this,Ec(this.cm,e,d),f)}}),addSelection:Ob(function(a,d,f){var e=this.sel.ranges.slice(0);e.push(new eb(Ta(this,a),Ta(this,d||a)));Pa(this,Ec(this.cm,e,e.length-1),f)}),getSelection:function(a){for(var d=this.sel.ranges,f,e=0;e<d.length;e++){var h=ob(this,d[e].from(),d[e].to());f=f?f.concat(h):h}return!1===a?f:f.join(a||this.lineSeparator())},getSelections:function(a){for(var d=
[],f=this.sel.ranges,e=0;e<f.length;e++){var h=ob(this,f[e].from(),f[e].to());!1!==a&&(h=h.join(a||this.lineSeparator()));d[e]=h}return d},replaceSelection:function(a,d,f){for(var e=[],h=0;h<this.sel.ranges.length;h++)e[h]=a;this.replaceSelections(e,d,f||"+input")},replaceSelections:Ob(function(a,d,f){for(var e=[],h=this.sel,n=0;n<h.ranges.length;n++){var q=h.ranges[n];e[n]={from:q.from(),to:q.to(),text:this.splitLines(a[n]),origin:f}}if(a=d&&"end"!=d){a=[];h=f=Fa(this.first,0);for(n=0;n<e.length;n++){var r=
e[n];q=hg(r.from,f,h);var B=hg(Xc(r),f,h);f=r.to;h=B;"around"==d?(r=this.sel.ranges[n],r=0>ab(r.head,r.anchor),a[n]=new eb(r?B:q,r?q:B)):a[n]=new eb(q,q)}a=new Pb(a,this.sel.primIndex)}d=a;for(a=e.length-1;0<=a;a--)Pd(this,e[a]);d?pg(this,d):this.cm&&Jd(this.cm)}),undo:Ob(function(){Ze(this,"undo")}),redo:Ob(function(){Ze(this,"redo")}),undoSelection:Ob(function(){Ze(this,"undo",!0)}),redoSelection:Ob(function(){Ze(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},
historySize:function(){for(var a=this.history,d=0,f=0,e=0;e<a.done.length;e++)a.done[e].ranges||++d;for(e=0;e<a.undone.length;e++)a.undone[e].ranges||++f;return{undo:d,redo:f}},clearHistory:function(){var a=this;this.history=new Ve(this.history.maxGeneration);Yc(this,function(d){return d.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},
isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Nd(this.history.done),undone:Nd(this.history.undone)}},setHistory:function(a){var d=this.history=new Ve(this.history.maxGeneration);d.done=Nd(a.done.slice(0),null,!0);d.undone=Nd(a.undone.slice(0),null,!0)},setGutterMarker:Ob(function(a,d,f){return zd(this,a,"gutter",function(e){var h=e.gutterMarkers||(e.gutterMarkers={});h[d]=f;!f&&na(h)&&(e.gutterMarkers=null);return!0})}),clearGutter:Ob(function(a){var d=
this;this.iter(function(f){f.gutterMarkers&&f.gutterMarkers[a]&&zd(d,f,"gutter",function(){f.gutterMarkers[a]=null;na(f.gutterMarkers)&&(f.gutterMarkers=null);return!0})})}),lineInfo:function(a){if("number"==typeof a){if(!nc(this,a))return null;var d=a;a=Ga(this,a);if(!a)return null}else if(d=gb(a),null==d)return null;return{line:d,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Ob(function(a,d,f){return zd(this,
a,"gutter"==d?"gutter":"class",function(e){var h="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass";if(e[h]){if(wa(f).test(e[h]))return!1;e[h]+=" "+f}else e[h]=f;return!0})}),removeLineClass:Ob(function(a,d,f){return zd(this,a,"gutter"==d?"gutter":"class",function(e){var h="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass",n=e[h];if(n)if(null==f)e[h]=null;else{var q=n.match(wa(f));if(!q)return!1;var r=q.index+q[0].length;e[h]=n.slice(0,
q.index)+(q.index&&r!=n.length?" ":"")+n.slice(r)||null}else return!1;return!0})}),addLineWidget:Ob(function(a,d,f){return Ff(this,a,d,f)}),removeLineWidget:function(a){a.clear()},markText:function(a,d,f){return Cd(this,Ta(this,a),Ta(this,d),f,f&&f.type||"range")},setBookmark:function(a,d){d={replacedWith:d&&(null==d.nodeType?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};a=Ta(this,a);return Cd(this,a,a,d,"bookmark")},findMarksAt:function(a){a=
Ta(this,a);var d=[],f=Ga(this,a.line).markedSpans;if(f)for(var e=0;e<f.length;++e){var h=f[e];(null==h.from||h.from<=a.ch)&&(null==h.to||h.to>=a.ch)&&d.push(h.marker.parent||h.marker)}return d},findMarks:function(a,d,f){a=Ta(this,a);d=Ta(this,d);var e=[],h=a.line;this.iter(a.line,d.line+1,function(n){if(n=n.markedSpans)for(var q=0;q<n.length;q++){var r=n[q];null!=r.to&&h==a.line&&a.ch>=r.to||null==r.from&&h!=a.line||null!=r.from&&h==d.line&&r.from>=d.ch||f&&!f(r.marker)||e.push(r.marker.parent||r.marker)}++h});
return e},getAllMarks:function(){var a=[];this.iter(function(d){if(d=d.markedSpans)for(var f=0;f<d.length;++f)null!=d[f].from&&a.push(d[f].marker)});return a},posFromIndex:function(a){var d,f=this.first,e=this.lineSeparator().length;this.iter(function(h){h=h.text.length+e;if(h>a)return d=a,!0;a-=h;++f});return Ta(this,Fa(f,d))},indexFromPos:function(a){a=Ta(this,a);var d=a.ch;if(a.line<this.first||0>a.ch)return 0;var f=this.lineSeparator().length;this.iter(this.first,a.line,function(e){d+=e.text.length+
f});return d},copy:function(a){var d=new tc(Rb(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);d.scrollTop=this.scrollTop;d.scrollLeft=this.scrollLeft;d.sel=this.sel;d.extend=!1;a&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory()));return d},linkedDoc:function(a){a||(a={});var d=this.first,f=this.first+this.size;null!=a.from&&a.from>d&&(d=a.from);null!=a.to&&a.to<f&&(f=a.to);d=new tc(Rb(this,d,f),a.mode||this.modeOption,d,this.lineSep,
this.direction);a.sharedHist&&(d.history=this.history);(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist});d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=$e(this);for(f=0;f<a.length;f++){var e=a[f],h=e.find(),n=d.clipPos(h.from);h=d.clipPos(h.to);ab(n,h)&&(n=Cd(d,n,h,e.primary,e.primary.type),e.markers.push(n),n.parent=e)}return d},unlinkDoc:function(a){a instanceof Bb&&(a=a.doc);if(this.linked)for(var d=0;d<this.linked.length;++d)if(this.linked[d].doc==a){this.linked.splice(d,
1);a.unlinkDoc(this);gh($e(this));break}if(a.history==this.history){var f=[a.id];Yc(a,function(e){return f.push(e.id)},!0);a.history=new Ve(null);a.history.done=Nd(this.history.done,f);a.history.undone=Nd(this.history.undone,f)}},iterLinkedDocs:function(a){Yc(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Sf(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ob(function(a){"rtl"!=
a&&(a="ltr");a!=this.direction&&(this.direction=a,this.iter(function(d){return d.order=null}),this.cm&&ch(this.cm))})});tc.prototype.eachLine=tc.prototype.iter;for(var Dh=0,Fh=!1,Ud={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",
145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vf=0;10>Vf;Vf++)Ud[Vf+48]=Ud[Vf+96]=String(Vf);for(var Tg=65;90>=Tg;Tg++)Ud[Tg]=String.fromCharCode(Tg);for(var Wf=1;12>=Wf;Wf++)Ud[Wf+111]=Ud[Wf+63235]="F"+Wf;var Hf={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",
End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft",
"Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown",
"Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft",
"Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",
fallthrough:["basic","emacsy"]}};Hf["default"]=uc?Hf.macDefault:Hf.pcDefault;var Mf={selectAll:Ra,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Lc)},killLine:function(a){return Vd(a,function(d){if(d.empty()){var f=Ga(a.doc,d.head.line).text.length;return d.head.ch==f&&d.head.line<a.lastLine()?{from:d.head,to:Fa(d.head.line+1,0)}:{from:d.head,to:Fa(d.head.line,f)}}return{from:d.from(),to:d.to()}})},deleteLine:function(a){return Vd(a,function(d){return{from:Fa(d.from().line,
0),to:Ta(a.doc,Fa(d.to().line+1,0))}})},delLineLeft:function(a){return Vd(a,function(d){return{from:Fa(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(a){return Vd(a,function(d){var f=a.charCoords(d.head,"div").top+5;return{from:a.coordsChar({left:0,top:f},"div"),to:d.from()}})},delWrappedLineRight:function(a){return Vd(a,function(d){var f=a.charCoords(d.head,"div").top+5;f=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:f},"div");return{from:d.from(),to:f}})},undo:function(a){return a.undo()},
redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Fa(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Fa(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(d){return Bg(a,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(d){return Lf(a,d.head)},{origin:"+move",bias:1})},
goLineEnd:function(a){return a.extendSelectionsBy(function(d){d=d.head.line;var f=Ga(a.doc,d);var e=f;for(var h;h=Tb(e,!1);)e=h.find(1,!0).line;e!=f&&(d=gb(e));return Kf(!0,a,f,d,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(d){d=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:d},"div")},De)},goLineLeft:function(a){return a.extendSelectionsBy(function(d){d=a.cursorCoords(d.head,"div").top+5;return a.coordsChar({left:0,
top:d},"div")},De)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(d){var f=a.cursorCoords(d.head,"div").top+5;f=a.coordsChar({left:0,top:f},"div");return f.ch<a.getLine(f.line).search(/\S/)?Lf(a,d.head):f},De)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,
"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,
"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var d=[],f=a.listSelections(),e=a.options.tabSize,h=0;h<f.length;h++){var n=f[h].from();n=G(a.getLine(n.line),n.ch,e);d.push(N(e-
n%e))}a.replaceSelections(d)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return mc(a,function(){for(var d=a.listSelections(),f=[],e=0;e<d.length;e++)if(d[e].empty()){var h=d[e].head,n=Ga(a.doc,h.line).text;if(n)if(h.ch==n.length&&(h=new Fa(h.line,h.ch-1)),0<h.ch)h=new Fa(h.line,h.ch+1),a.replaceRange(n.charAt(h.ch-1)+n.charAt(h.ch-2),Fa(h.line,h.ch-2),h,"+transpose");else if(h.line>a.doc.first){var q=Ga(a.doc,h.line-
1).text;q&&(h=new Fa(h.line,1),a.replaceRange(n.charAt(0)+a.doc.lineSeparator()+q.charAt(q.length-1),Fa(h.line-1,q.length-1),h,"+transpose"))}f.push(new eb(h,h))}a.setSelections(f)})},newlineAndIndent:function(a){return mc(a,function(){for(var d=a.listSelections(),f=d.length-1;0<=f;f--)a.replaceRange(a.doc.lineSeparator(),d[f].anchor,d[f].head,"+input");d=a.listSelections();for(f=0;f<d.length;f++)a.indentLine(d[f].from().line,null,!0);Jd(a)})},openLine:function(a){return a.replaceSelection("\n","start")},
toggleOverwrite:function(a){return a.toggleOverwrite()}},Gh=new ld,kh=null,mh=function(a,d,f){this.time=a;this.pos=d;this.button=f};mh.prototype.compare=function(a,d,f){return this.time+400>a&&0==ab(d,this.pos)&&f==this.button};var Of,Nf,gf={toString:function(){return"CodeMirror.Init"}},Eh={},Jg={};Bb.defaults=Eh;Bb.optionHandlers=Jg;var vh=[];Bb.defineInitHook=function(a){return vh.push(a)};var xc=null,sb=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=
null;this.polling=new ld;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};sb.prototype.init=function(a){function d(r){for(r=r.target;r;r=r.parentNode){if(r==q)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(r.className))break}return!1}function f(r){if(d(r)&&!za(n,r)){if(n.somethingSelected())xc={lineWise:!1,text:n.getSelections()},"cut"==r.type&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var B=Mg(n);xc={lineWise:!0,text:B.text};"cut"==r.type&&n.operation(function(){n.setSelections(B.ranges,
0,Lc);n.replaceSelection("",null,"cut")})}else return;if(r.clipboardData){r.clipboardData.clearData();var O=xc.text.join("\n");r.clipboardData.setData("Text",O);if(r.clipboardData.getData("Text")==O){r.preventDefault();return}}var aa=Og();r=aa.firstChild;n.display.lineSpace.insertBefore(aa,n.display.lineSpace.firstChild);r.value=xc.text.join("\n");var pa=document.activeElement;Ce(r);setTimeout(function(){n.display.lineSpace.removeChild(aa);pa.focus();pa==q&&h.showPrimarySelection()},50)}}var e=this,
h=this,n=h.cm,q=h.div=a.lineDiv;Ng(q,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);Za(q,"paste",function(r){!d(r)||za(n,r)||Lg(r,n)||11>=ub&&setTimeout(Nb(n,function(){return e.updateFromDOM()}),20)});Za(q,"compositionstart",function(r){e.composing={data:r.data,done:!1}});Za(q,"compositionupdate",function(r){e.composing||(e.composing={data:r.data,done:!1})});Za(q,"compositionend",function(r){e.composing&&(r.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)});
Za(q,"touchstart",function(){return h.forceCompositionEnd()});Za(q,"input",function(){e.composing||e.readFromDOMSoon()});Za(q,"copy",f);Za(q,"cut",f)};sb.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")};sb.prototype.prepareSelection=function(){var a=Yf(this.cm,!1);a.focus=document.activeElement==this.div;return a};sb.prototype.showSelection=function(a,d){a&&this.cm.display.view.length&&((a.focus||d)&&this.showPrimarySelection(),
this.showMultipleSelections(a))};sb.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};sb.prototype.showPrimarySelection=function(){var a=this.getSelection(),d=this.cm,f=d.doc.sel.primary(),e=f.from();f=f.to();if(d.display.viewTo==d.display.viewFrom||e.line>=d.display.viewTo||f.line<d.display.viewFrom)a.removeAllRanges();else{var h=hf(d,a.anchorNode,a.anchorOffset),n=hf(d,a.focusNode,a.focusOffset);if(!h||h.bad||!n||n.bad||0!=ab(Ed(h,n),e)||0!=ab(ed(h,n),
f))if(h=d.display.view,e=e.line>=d.display.viewFrom&&Pg(d,e)||{node:h[0].measure.map[2],offset:0},f=f.line<d.display.viewTo&&Pg(d,f),f||(f=h[h.length-1].measure,f=f.maps?f.maps[f.maps.length-1]:f.map,f={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}),e&&f){h=a.rangeCount&&a.getRangeAt(0);try{var q=ge(e.node,e.offset,f.offset,f.node)}catch(r){}q&&(!Uc&&d.state.focused?(a.collapse(e.node,e.offset),q.collapsed||(a.removeAllRanges(),a.addRange(q))):(a.removeAllRanges(),a.addRange(q)),h&&null==
a.anchorNode?a.addRange(h):Uc&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};sb.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)};sb.prototype.showMultipleSelections=function(a){ja(this.cm.display.cursorDiv,a.cursors);ja(this.cm.display.selectionDiv,a.selection)};sb.prototype.rememberSelection=
function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset};sb.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return R(this.div,a)};sb.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),
!0),this.div.focus())};sb.prototype.blur=function(){this.div.blur()};sb.prototype.getField=function(){return this.div};sb.prototype.supportsTouch=function(){return!0};sb.prototype.receivedFocus=function(){function a(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,a))}var d=this;this.selectionInEditor()?this.pollSelection():mc(this.cm,function(){return d.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)};sb.prototype.selectionChanged=function(){var a=
this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};sb.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),d=this.cm;if(Oe&&Ne&&this.cm.display.gutterSpecs.length&&wh(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();
var f=hf(d,a.anchorNode,a.anchorOffset),e=hf(d,a.focusNode,a.focusOffset);f&&e&&mc(d,function(){Pa(d.doc,Wc(f,e),Lc);if(f.bad||e.bad)d.curOp.selectionChanged=!0})}}};sb.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,d=a.display,f=a.doc.sel.primary(),e=f.from(),h=f.to();0==e.ch&&e.line>a.firstLine()&&(e=Fa(e.line-1,Ga(a.doc,e.line-1).length));h.ch==Ga(a.doc,h.line).text.length&&h.line<a.lastLine()&&(h=Fa(h.line+
1,0));if(e.line<d.viewFrom||h.line>d.viewTo-1)return!1;var n;e.line==d.viewFrom||0==(n=hb(a,e.line))?(f=gb(d.view[0].line),n=d.view[0].node):(f=gb(d.view[n].line),n=d.view[n-1].node.nextSibling);var q=hb(a,h.line);q==d.view.length-1?(h=d.viewTo-1,d=d.lineDiv.lastChild):(h=gb(d.view[q+1].line)-1,d=d.view[q+1].node.previousSibling);if(!n)return!1;d=a.doc.splitLines(xh(a,n,d,f,h));for(n=ob(a.doc,Fa(f,0),Fa(h,Ga(a.doc,h).text.length));1<d.length&&1<n.length;)if(K(d)==K(n))d.pop(),n.pop(),h--;else if(d[0]==
n[0])d.shift(),n.shift(),f++;else break;var r=0;q=0;for(var B=d[0],O=n[0],aa=Math.min(B.length,O.length);r<aa&&B.charCodeAt(r)==O.charCodeAt(r);)++r;B=K(d);O=K(n);for(aa=Math.min(B.length-(1==d.length?r:0),O.length-(1==n.length?r:0));q<aa&&B.charCodeAt(B.length-q-1)==O.charCodeAt(O.length-q-1);)++q;if(1==d.length&&1==n.length&&f==e.line)for(;r&&r>e.ch&&B.charCodeAt(B.length-q-1)==O.charCodeAt(O.length-q-1);)r--,q++;d[d.length-1]=B.slice(0,B.length-q).replace(/^\u200b+/,"");d[0]=d[0].slice(r).replace(/\u200b+$/,
"");e=Fa(f,r);f=Fa(h,n.length?K(n).length-q:0);if(1<d.length||d[0]||ab(e,f))return yd(a.doc,d,e,f,"+input"),!0};sb.prototype.ensurePolled=function(){this.forceCompositionEnd()};sb.prototype.reset=function(){this.forceCompositionEnd()};sb.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};sb.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=
setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))};sb.prototype.updateFromDOM=function(){var a=this;!this.cm.isReadOnly()&&this.pollContent()||mc(this.cm,function(){return Mb(a.cm)})};sb.prototype.setUneditable=function(a){a.contentEditable="false"};sb.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Nb(this.cm,Rf)(this.cm,String.fromCharCode(null==a.charCode?
a.keyCode:a.charCode),0))};sb.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)};sb.prototype.onContextMenu=function(){};sb.prototype.resetPosition=function(){};sb.prototype.needsContentAttribute=!0;var Lb=function(a){this.cm=a;this.prevInput="";this.pollingFast=!1;this.polling=new ld;this.hasSelection=!1;this.composing=null};Lb.prototype.init=function(a){function d(q){if(!za(h,q)){if(h.somethingSelected())xc={lineWise:!1,text:h.getSelections()};else if(h.options.lineWiseCopyCut){var r=
Mg(h);xc={lineWise:!0,text:r.text};"cut"==q.type?h.setSelections(r.ranges,null,Lc):(e.prevInput="",n.value=r.text.join("\n"),Ce(n))}else return;"cut"==q.type&&(h.state.cutIncoming=+new Date)}}var f=this,e=this,h=this.cm;this.createField(a);var n=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild);Be&&(n.style.width="0px");Za(n,"input",function(){jb&&9<=ub&&f.hasSelection&&(f.hasSelection=null);e.poll()});Za(n,"paste",function(q){za(h,q)||Lg(q,h)||(h.state.pasteIncoming=+new Date,
e.fastPoll())});Za(n,"cut",d);Za(n,"copy",d);Za(a.scroller,"paste",function(q){if(!yc(a,q)&&!za(h,q))if(n.dispatchEvent){var r=new Event("paste");r.clipboardData=q.clipboardData;n.dispatchEvent(r)}else h.state.pasteIncoming=+new Date,e.focus()});Za(a.lineSpace,"selectstart",function(q){yc(a,q)||t(q)});Za(n,"compositionstart",function(){var q=h.getCursor("from");e.composing&&e.composing.range.clear();e.composing={start:q,range:h.markText(q,h.getCursor("to"),{className:"CodeMirror-composing"})}});Za(n,
"compositionend",function(){e.composing&&(e.poll(),e.composing.range.clear(),e.composing=null)})};Lb.prototype.createField=function(a){this.wrapper=Og();this.textarea=this.wrapper.firstChild};Lb.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")};Lb.prototype.prepareSelection=function(){var a=this.cm,d=a.display,f=a.doc,e=Yf(a);if(a.options.moveInputWithCursor){a=w(a,f.sel.primary().head,"div");f=d.wrapper.getBoundingClientRect();
var h=d.lineDiv.getBoundingClientRect();e.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,a.top+h.top-f.top));e.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,a.left+h.left-f.left))}return e};Lb.prototype.showSelection=function(a){var d=this.cm.display;ja(d.cursorDiv,a.cursors);ja(d.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};Lb.prototype.reset=function(a){if(!this.contextMenuPending&&!this.composing){var d=this.cm;
d.somethingSelected()?(this.prevInput="",a=d.getSelection(),this.textarea.value=a,d.state.focused&&Ce(this.textarea),jb&&9<=ub&&(this.hasSelection=a)):a||(this.prevInput=this.textarea.value="",jb&&9<=ub&&(this.hasSelection=null))}};Lb.prototype.getField=function(){return this.textarea};Lb.prototype.supportsTouch=function(){return!1};Lb.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!qe||I()!=this.textarea))try{this.textarea.focus()}catch(a){}};Lb.prototype.blur=function(){this.textarea.blur()};
Lb.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};Lb.prototype.receivedFocus=function(){this.slowPoll()};Lb.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll();a.cm.state.focused&&a.slowPoll()})};Lb.prototype.fastPoll=function(){function a(){f.poll()||d?(f.pollingFast=!1,f.slowPoll()):(d=!0,f.polling.set(60,a))}var d=!1,f=this;f.pollingFast=!0;f.polling.set(20,a)};Lb.prototype.poll=function(){var a=
this,d=this.cm,f=this.textarea,e=this.prevInput;if(this.contextMenuPending||!d.state.focused||kf(f)&&!e&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var h=f.value;if(h==e&&!d.somethingSelected())return!1;if(jb&&9<=ub&&this.hasSelection===h||uc&&/[\uf700-\uf7ff]/.test(h))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var n=h.charCodeAt(0);8203!=n||e||(e="\u200b");if(8666==n)return this.reset(),this.cm.execCommand("undo")}var q=0;for(n=
Math.min(e.length,h.length);q<n&&e.charCodeAt(q)==h.charCodeAt(q);)++q;mc(d,function(){Rf(d,h.slice(q),e.length-q,null,a.composing?"*compose":null);1E3<h.length||-1<h.indexOf("\n")?f.value=a.prevInput="":a.prevInput=h;a.composing&&(a.composing.range.clear(),a.composing.range=d.markText(a.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};Lb.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};Lb.prototype.onKeyPress=function(){jb&&
9<=ub&&(this.hasSelection=null);this.fastPoll()};Lb.prototype.onContextMenu=function(a){function d(){if(null!=q.selectionStart){var ia=h.somethingSelected(),xa="\u200b"+(ia?q.value:"");q.value="\u21da";q.value=xa;e.prevInput=ia?"":"\u200b";q.selectionStart=1;q.selectionEnd=xa.length;n.selForContextMenu=h.doc.sel}}function f(){if(e.contextMenuPending==f&&(e.contextMenuPending=!1,e.wrapper.style.cssText=aa,q.style.cssText=O,jb&&9>ub&&n.scrollbars.setScrollTop(n.scroller.scrollTop=B),null!=q.selectionStart)){(!jb||
jb&&9>ub)&&d();var ia=0,xa=function(){n.selForContextMenu==h.doc.sel&&0==q.selectionStart&&0<q.selectionEnd&&"\u200b"==e.prevInput?Nb(h,Ra)(h):10>ia++?n.detectingSelectAll=setTimeout(xa,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(xa,200)}}var e=this,h=e.cm,n=h.display,q=e.textarea;e.contextMenuPending&&e.contextMenuPending();var r=zc(h,a),B=n.scroller.scrollTop;if(r&&!Dc){h.options.resetSelectionOnContextMenu&&-1==h.doc.sel.contains(r)&&Nb(h,Pa)(h.doc,Wc(r),Lc);
var O=q.style.cssText,aa=e.wrapper.style.cssText;r=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static";q.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-r.top-5)+"px; left: "+(a.clientX-r.left-5)+"px;\n      z-index: 1000; background: "+(jb?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(Yb)var pa=window.scrollY;
n.input.focus();Yb&&window.scrollTo(null,pa);n.input.reset();h.somethingSelected()||(q.value=e.prevInput=" ");e.contextMenuPending=f;n.selForContextMenu=h.doc.sel;clearTimeout(n.detectingSelectAll);jb&&9<=ub&&d();if(Pf){sa(a);var ea=function(){Ya(window,"mouseup",ea);setTimeout(f,20)};Za(window,"mouseup",ea)}else setTimeout(f,50)}};Lb.prototype.readOnlyChanged=function(a){a||this.reset();this.textarea.disabled="nocursor"==a;this.textarea.readOnly=!!a};Lb.prototype.setUneditable=function(){};Lb.prototype.needsContentAttribute=
!1;(function(a){function d(e,h,n,q){a.defaults[e]=h;n&&(f[e]=q?function(r,B,O){O!=gf&&n(r,B,O)}:n)}var f=a.optionHandlers;a.defineOption=d;a.Init=gf;d("value","",function(e,h){return e.setValue(h)},!0);d("mode",null,function(e,h){e.doc.modeOption=h;Ue(e)},!0);d("indentUnit",2,Ue,!0);d("indentWithTabs",!1);d("smartIndent",!0);d("tabSize",4,function(e){se(e);Fb(e);Mb(e)},!0);d("lineSeparator",null,function(e,h){if(e.doc.lineSep=h){var n=[],q=e.doc.first;e.doc.iter(function(B){for(var O=0;;){var aa=
B.text.indexOf(h,O);if(-1==aa)break;O=aa+h.length;n.push(Fa(q,aa))}q++});for(var r=n.length-1;0<=r;r--)yd(e.doc,h,n[r],Fa(n[r].line,n[r].ch+h.length))}});d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,h,n){e.state.specialChars=new RegExp(h.source+(h.test("\t")?"":"|\t"),"g");n!=gf&&e.refresh()});d("specialCharPlaceholder",Jb,function(e){return e.refresh()},!0);d("electricChars",!0);d("inputStyle",qe?"contenteditable":
"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);d("spellcheck",!1,function(e,h){return e.getInputField().spellcheck=h},!0);d("autocorrect",!1,function(e,h){return e.getInputField().autocorrect=h},!0);d("autocapitalize",!1,function(e,h){return e.getInputField().autocapitalize=h},!0);d("rtlMoveVisually",!Bh);d("wholeLineUpdateBefore",!0);d("theme","default",function(e){Ig(e);pe(e)},!0);d("keyMap","default",function(e,h,n){h=af(h);(n=n!=gf&&af(n))&&
n.detach&&n.detach(e,h);h.attach&&h.attach(e,n||null)});d("extraKeys",null);d("configureMouse",null);d("lineWrapping",!1,th,!0);d("gutters",[],function(e,h){e.display.gutterSpecs=Te(h,e.options.lineNumbers);pe(e)},!0);d("fixedGutter",!0,function(e,h){e.display.gutters.style.left=h?bc(e.display)+"px":"0";e.refresh()},!0);d("coverGutterNextToScrollbar",!1,function(e){return Ld(e)},!0);d("scrollbarStyle","native",function(e){dg(e);Ld(e);e.display.scrollbars.setScrollTop(e.doc.scrollTop);e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},
!0);d("lineNumbers",!1,function(e,h){e.display.gutterSpecs=Te(e.options.gutters,h);pe(e)},!0);d("firstLineNumber",1,pe,!0);d("lineNumberFormatter",function(e){return e},pe,!0);d("showCursorWhenSelecting",!1,ke,!0);d("resetSelectionOnContextMenu",!0);d("lineWiseCopyCut",!0);d("pasteLinesPerSelection",!0);d("selectionsMayTouch",!1);d("readOnly",!1,function(e,h){"nocursor"==h&&(Id(e),e.display.input.blur());e.display.input.readOnlyChanged(h)});d("screenReaderLabel",null,function(e,h){e.display.input.screenReaderLabelChanged(""===
h?null:h)});d("disableInput",!1,function(e,h){h||e.display.input.reset()},!0);d("dragDrop",!0,sh);d("allowDropFileTypes",null);d("cursorBlinkRate",530);d("cursorScrollMargin",0);d("cursorHeight",1,ke,!0);d("singleCursorHeightPerLine",!0,ke,!0);d("workTime",100);d("workDelay",100);d("flattenSpans",!0,se,!0);d("addModeClass",!1,se,!0);d("pollInterval",100);d("undoDepth",200,function(e,h){return e.doc.history.undoDepth=h});d("historyEventDelay",1250);d("viewportMargin",10,function(e){return e.refresh()},
!0);d("maxHighlightLength",1E4,se,!0);d("moveInputWithCursor",!0,function(e,h){h||e.display.input.resetPosition()});d("tabindex",null,function(e,h){return e.display.input.getField().tabIndex=h||""});d("autofocus",null);d("direction","ltr",function(e,h){return e.doc.setDirection(h)},!0);d("phrases",null)})(Bb);(function(a){var d=a.optionHandlers,f=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(e,h){var n=this.options,q=n[e];if(n[e]!=
h||"mode"==e)n[e]=h,d.hasOwnProperty(e)&&Nb(this,d[e])(this,h,q),ta(this,"optionChange",this,e)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,h){this.state.keyMaps[h?"push":"unshift"](af(e))},removeKeyMap:function(e){for(var h=this.state.keyMaps,n=0;n<h.length;++n)if(h[n]==e||h[n].name==e)return h.splice(n,1),!0},addOverlay:Zb(function(e,h){var n=e.token?e:a.getMode(this.options,e);if(n.startState)throw Error("Overlays may not be stateful.");
W(this.state.overlays,{mode:n,modeSpec:e,opaque:h&&h.opaque,priority:h&&h.priority||0},function(q){return q.priority});this.state.modeGen++;Mb(this)}),removeOverlay:Zb(function(e){for(var h=this.state.overlays,n=0;n<h.length;++n){var q=h[n].modeSpec;if(q==e||"string"==typeof e&&q.name==e){h.splice(n,1);this.state.modeGen++;Mb(this);break}}}),indentLine:Zb(function(e,h,n){"string"!=typeof h&&"number"!=typeof h&&(h=null==h?this.options.smartIndent?"smart":"prev":h?"add":"subtract");nc(this.doc,e)&&
Zd(this,e,h,n)}),indentSelection:Zb(function(e){for(var h=this.doc.sel.ranges,n=-1,q=0;q<h.length;q++){var r=h[q];if(r.empty())r.head.line>n&&(Zd(this,r.head.line,e,!0),n=r.head.line,q==this.doc.sel.primIndex&&Jd(this));else{var B=r.from();r=r.to();var O=Math.max(n,B.line);n=Math.min(this.lastLine(),r.line-(r.ch?0:1))+1;for(r=O;r<n;++r)Zd(this,r,e);r=this.doc.sel.ranges;0==B.ch&&h.length==r.length&&0<r[q].from().ch&&Df(this.doc,q,new eb(B,r[q].to()),Lc)}}}),getTokenAt:function(e,h){return hc(this,
e,h)},getLineTokens:function(e,h){return hc(this,Fa(e),h,!0)},getTokenTypeAt:function(e){e=Ta(this.doc,e);var h=vb(this,Ga(this.doc,e.line)),n=0,q=(h.length-1)/2;e=e.ch;if(0==e)h=h[2];else for(;;){var r=n+q>>1;if((r?h[2*r-1]:0)>=e)q=r;else if(h[2*r+1]<e)n=r+1;else{h=h[2*r+2];break}}n=h?h.indexOf("overlay "):-1;return 0>n?h:0==n?null:h.slice(0,n-1)},getModeAt:function(e){var h=this.doc.mode;return h.innerMode?a.innerMode(h,this.getTokenAt(e).state).mode:h},getHelper:function(e,h){return this.getHelpers(e,
h)[0]},getHelpers:function(e,h){var n=[];if(!f.hasOwnProperty(h))return n;var q=f[h];e=this.getModeAt(e);if("string"==typeof e[h])q[e[h]]&&n.push(q[e[h]]);else if(e[h])for(var r=0;r<e[h].length;r++){var B=q[e[h][r]];B&&n.push(B)}else e.helperType&&q[e.helperType]?n.push(q[e.helperType]):q[e.name]&&n.push(q[e.name]);for(h=0;h<q._global.length;h++)r=q._global[h],r.pred(e,this)&&-1==D(n,r.val)&&n.push(r.val);return n},getStateAfter:function(e,h){var n=this.doc;e=Math.max(n.first,Math.min(null==e?n.first+
n.size-1:e,n.first+n.size-1));return Mc(this,e+1,h).state},cursorCoords:function(e,h){var n=this.doc.sel.primary();e=null==e?n.head:"object"==typeof e?Ta(this.doc,e):e?n.from():n.to();return w(this,e,h||"page")},charCoords:function(e,h){return v(this,Ta(this.doc,e),h||"page")},coordsChar:function(e,h){e=p(this,e,h||"page");return V(this,e.left,e.top)},lineAtHeight:function(e,h){e=p(this,{top:e,left:0},h||"page").top;return fc(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,h,n){var q=
!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,q=!0);e=Ga(this.doc,e)}return Q(this,e,{top:0,left:0},h||"page",n||q).top+(q?this.doc.height-vc(e):0)},defaultTextHeight:function(){return rb(this.display)},defaultCharWidth:function(){return Sa(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,h,n,q,r){var B=this.display;e=w(this,Ta(this.doc,e));var O=e.bottom,aa=e.left;h.style.position=
"absolute";h.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(h);B.sizer.appendChild(h);if("over"==q)O=e.top;else if("above"==q||"near"==q){var pa=Math.max(B.wrapper.clientHeight,this.doc.height),ea=Math.max(B.sizer.clientWidth,B.lineSpace.clientWidth);("above"==q||e.bottom+h.offsetHeight>pa)&&e.top>h.offsetHeight?O=e.top-h.offsetHeight:e.bottom+h.offsetHeight<=pa&&(O=e.bottom);aa+h.offsetWidth>ea&&(aa=ea-h.offsetWidth)}h.style.top=O+"px";h.style.left=h.style.right="";"right"==
r?(aa=B.sizer.clientWidth-h.offsetWidth,h.style.right="0px"):("left"==r?aa=0:"middle"==r&&(aa=(B.sizer.clientWidth-h.offsetWidth)/2),h.style.left=aa+"px");n&&(e=sf(this,{left:aa,top:O,right:aa+h.offsetWidth,bottom:O+h.offsetHeight}),null!=e.scrollTop&&E(this,e.scrollTop),null!=e.scrollLeft&&Vc(this,e.scrollLeft))},triggerOnKeyDown:Zb(ze),triggerOnKeyPress:Zb(Fg),triggerOnKeyUp:Eg,triggerOnMouseDown:Zb(Gg),execCommand:function(e){if(Mf.hasOwnProperty(e))return Mf[e].call(null,this)},triggerElectric:Zb(function(e){Kg(this,
e)}),findPosH:function(e,h,n,q){var r=1;0>h&&(r=-1,h=-h);e=Ta(this.doc,e);for(var B=0;B<h&&(e=Tf(this.doc,e,r,n,q),!e.hitSide);++B);return e},moveH:Zb(function(e,h){var n=this;this.extendSelectionsBy(function(q){return n.display.shift||n.doc.extend||q.empty()?Tf(n.doc,q.head,e,h,n.options.rtlMoveVisually):0>e?q.from():q.to()},De)}),deleteH:Zb(function(e,h){var n=this.doc;this.doc.sel.somethingSelected()?n.replaceSelection("",null,"+delete"):Vd(this,function(q){var r=Tf(n,q.head,e,h,!1);return 0>e?
{from:r,to:q.head}:{from:q.head,to:r}})}),findPosV:function(e,h,n,q){var r=1;0>h&&(r=-1,h=-h);var B=Ta(this.doc,e);for(e=0;e<h&&(B=w(this,B,"div"),null==q?q=B.left:B.left=q,B=Uf(this,B,r,n),!B.hitSide);++e);return B},moveV:Zb(function(e,h){var n=this,q=this.doc,r=[],B=!this.display.shift&&!q.extend&&q.sel.somethingSelected();q.extendSelectionsBy(function(aa){if(B)return 0>e?aa.from():aa.to();var pa=w(n,aa.head,"div");null!=aa.goalColumn&&(pa.left=aa.goalColumn);r.push(pa.left);var ea=Uf(n,pa,e,h);
"page"==h&&aa==q.sel.primary()&&wd(n,v(n,ea,"div").top-pa.top);return ea},De);if(r.length)for(var O=0;O<q.sel.ranges.length;O++)q.sel.ranges[O].goalColumn=r[O]}),findWordAt:function(e){var h=Ga(this.doc,e.line).text,n=e.ch,q=e.ch;if(h){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&q!=h.length||!n?++q:--n;var B=h.charAt(n);for(B=oa(B,r)?function(O){return oa(O,r)}:/\s/.test(B)?function(O){return/\s/.test(O)}:function(O){return!/\s/.test(O)&&!oa(O)};0<n&&B(h.charAt(n-1));)--n;for(;q<h.length&&
B(h.charAt(q));)++q}return new eb(Fa(e.line,n),Fa(e.line,q))},toggleOverwrite:function(e){if(null==e||e!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?F(this.display.cursorDiv,"CodeMirror-overwrite"):vd(this.display.cursorDiv,"CodeMirror-overwrite"),ta(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==I()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Zb(function(e,h){Kc(this,e,h)}),
getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-db(this)-this.display.barHeight,width:e.scrollWidth-db(this)-this.display.barWidth,clientHeight:ie(this),clientWidth:rc(this)}},scrollIntoView:Zb(function(e,h){null==e?(e={from:this.doc.sel.primary().head,to:null},null==h&&(h=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Fa(e,0),to:null}:null==e.from&&(e={from:e,to:null});e.to||(e.to=e.from);e.margin=h||0;null!=e.from.line?
(Se(this),this.curOp.scrollToPos=e):xd(this,e.from,e.to,e.margin)}),setSize:Zb(function(e,h){var n=this,q=function(B){return"number"==typeof B||/^\d+$/.test(String(B))?B+"px":B};null!=e&&(this.display.wrapper.style.width=q(e));null!=h&&(this.display.wrapper.style.height=q(h));this.options.lineWrapping&&Sc(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(B){if(B.widgets)for(var O=0;O<B.widgets.length;O++)if(B.widgets[O].noHScroll){Ac(n,r,"widget");break}++r});this.curOp.forceUpdate=
!0;ta(this,"refresh",this)}),operation:function(e){return mc(this,e)},startOperation:function(){return Wb(this)},endOperation:function(){return Cc(this)},refresh:Zb(function(){var e=this.display.cachedTextHeight;Mb(this);this.curOp.forceUpdate=!0;Fb(this);Kc(this,this.doc.scrollLeft,this.doc.scrollTop);vf(this.display);(null==e||.5<Math.abs(e-rb(this.display))||this.options.lineWrapping)&&cc(this);ta(this,"refresh",this)}),swapDoc:Zb(function(e){var h=this.doc;h.cm=null;this.state.selectingText&&
this.state.selectingText();ig(this,e);Fb(this);this.display.input.reset();Kc(this,e.scrollLeft,e.scrollTop);this.curOp.forceScroll=!0;Db(this,"swapDoc",this,h);return h}),phrase:function(e){var h=this.options.phrases;return h&&Object.prototype.hasOwnProperty.call(h,e)?h[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};
da(a);a.registerHelper=function(e,h,n){f.hasOwnProperty(e)||(f[e]=a[e]={_global:[]});f[e][h]=n};a.registerGlobalHelper=function(e,h,n,q){a.registerHelper(e,h,q);f[e]._global.push({pred:n,val:q})}})(Bb);var Ih="iter insert remove copy getEditor constructor".split(" "),Xf;for(Xf in tc.prototype)tc.prototype.hasOwnProperty(Xf)&&0>D(Ih,Xf)&&(Bb.prototype[Xf]=function(a){return function(){return a.apply(this.doc,arguments)}}(tc.prototype[Xf]));da(tc);Bb.inputStyles={textarea:Lb,contenteditable:sb};Bb.defineMode=
function(a){Bb.defaults.mode||"null"==a||(Bb.defaults.mode=a);Ba.apply(this,arguments)};Bb.defineMIME=function(a,d){bd[a]=d};Bb.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});Bb.defineMIME("text/plain","null");Bb.defineExtension=function(a,d){Bb.prototype[a]=d};Bb.defineDocExtension=function(a,d){tc.prototype[a]=d};Bb.fromTextArea=function(a,d){function f(){a.value=r.getValue()}d=d?A(d):{};d.value=a.value;!d.tabindex&&a.tabIndex&&(d.tabindex=a.tabIndex);!d.placeholder&&
a.placeholder&&(d.placeholder=a.placeholder);if(null==d.autofocus){var e=I();d.autofocus=e==a||null!=a.getAttribute("autofocus")&&e==document.body}if(a.form&&(Za(a.form,"submit",f),!d.leaveSubmitMethodAlone)){var h=a.form;var n=h.submit;try{var q=h.submit=function(){f();h.submit=n;h.submit();h.submit=q}}catch(B){}}d.finishInit=function(B){B.save=f;B.getTextArea=function(){return a};B.toTextArea=function(){B.toTextArea=isNaN;f();a.parentNode.removeChild(B.getWrapperElement());a.style.display="";a.form&&
(Ya(a.form,"submit",f),d.leaveSubmitMethodAlone||"function"!=typeof a.form.submit||(a.form.submit=n))}};a.style.display="none";var r=Bb(function(B){return a.parentNode.insertBefore(B,a.nextSibling)},d);return r};(function(a){a.off=Ya;a.on=Za;a.wheelEventPixels=bh;a.Doc=tc;a.splitLines=Sf;a.countColumn=G;a.findColumn=H;a.isWordChar=ca;a.Pass=cf;a.signal=ta;a.Line=l;a.changeEnd=Xc;a.scrollbarModel=ua;a.Pos=Fa;a.cmpPos=ab;a.modes=ad;a.mimeModes=bd;a.resolveMode=Qa;a.getMode=ha;a.modeExtensions=cd;a.extendMode=
ra;a.copyState=qa;a.startState=Ma;a.innerMode=va;a.commands=Mf;a.keyMap=Hf;a.keyName=Ag;a.isModifierKey=xg;a.lookupKey=Td;a.normalizeKeyMap=xe;a.StringStream=Cb;a.SharedTextMarker=Gf;a.TextMarker=Sd;a.LineWidget=Bd;a.e_preventDefault=t;a.e_stopPropagation=P;a.e_stop=sa;a.addClass=F;a.contains=R;a.rmClass=vd;a.keyNames=Ud})(Bb);Bb.version="5.59.2";return Bb});/*
 @toast-ui/editor
 @version 2.5.1 | Tue Nov 24 2020
 @author NHN FE Development Lab <dl_javascript@nhn.com>
 @license MIT
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** http://mths.be/fromcodepoint v0.2.1 by @mathias  to-mark
 @version 1.0.1 | Tue Nov 24 2020
*/
(function(wa,ba){"object"===typeof exports&&"object"===typeof module?module.exports=ba(require("codemirror")):"function"===typeof define&&define.amd?define(["codemirror"],ba):"object"===typeof exports?exports.Editor=ba(require("codemirror")):(wa.toastui=wa.toastui||{},wa.toastui.Editor=ba(wa.CodeMirror))})(window,function(wa){return function(ba){function ja(u){if(y[u])return y[u].exports;var R=y[u]={i:u,l:!1,exports:{}};ba[u].call(R.exports,R,R.exports,ja);R.l=!0;return R.exports}var y={};ja.m=ba;
ja.c=y;ja.d=function(u,R,I){ja.o(u,R)||Object.defineProperty(u,R,{enumerable:!0,get:I})};ja.r=function(u){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})};ja.t=function(u,R){R&1&&(u=ja(u));if(R&8||R&4&&"object"===typeof u&&u&&u.__esModule)return u;var I=Object.create(null);ja.r(I);Object.defineProperty(I,"default",{enumerable:!0,value:u});if(R&2&&"string"!=typeof u)for(var F in u)ja.d(I,
F,function(L){return u[L]}.bind(null,F));return I};ja.n=function(u){var R=u&&u.__esModule?function(){return u["default"]}:function(){return u};ja.d(R,"a",R);return R};ja.o=function(u,R){return Object.prototype.hasOwnProperty.call(u,R)};ja.p="";return ja(ja.s=65)}([function(ba,ja,y){function u(t,P){t=C()(t.querySelectorAll(P));return t.length?t:[]}function R(t,P,X){var sa;X=X||document;for(sa=G()(P)?function(Da){return S()(Da,P)}:function(Da){return Da===P};t&&t!==X;){if(ca(t)&&sa(t))return t;t=t.parentNode}return null}
function I(t,P){for(var X=[];t&&t!==document;)(t=R(t.parentNode,P))&&X.push(t);return X}function F(t,P){t=t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.childNodes:t.children;return C()(t).filter(function(X){return S()(X,P)})}function L(t){t.parentNode&&t.parentNode.removeChild(t)}ba=y(3);var C=y.n(ba);ba=y(8);var A=y.n(ba);ba=y(9);var G=y.n(ba);ba=y(4);var D=y.n(ba);ba=y(5);var H=y.n(ba);ba=y(6);var N=y.n(ba);ba=y(16);var K=y.n(ba);ba=y(13);var S=y.n(ba),W=/\u200B/g,T=window.getComputedStyle,ka=function(t){return t&&
t.nodeType===Node.TEXT_NODE},ca=function(t){return t&&t.nodeType===Node.ELEMENT_NODE},oa=function(t){return ca(t)?t.tagName:"TEXT"},na=function(t){if(ca(t))var P=t.textContent.replace(W,"").length;else ka(t)&&(P=t.nodeValue.replace(W,"").length);return P},Y=function(t){var P=t.parentNode.childNodes,X;var sa=0;for(X=P.length;sa<X;sa+=1)if(P[sa]===t){var Da=sa;break}return Da},Z=function(t,P){var X;ka(t)?X=t:t.childNodes.length&&0<=P&&(X=t.childNodes[P]);return X},fa=function(t,P,X){t+="Sibling";for(var sa,
Da;P&&!P[t];){sa=oa(P.parentNode);if(sa===X||"BODY"===sa)break;P=P.parentNode}P[t]&&(Da=P[t]);return Da},Ea=function(t,P,X){for(;t.parentNode&&!P(t.parentNode)&&(t=t.parentNode,!X||!X(t)););return P(t.parentNode)?t:null},La=function(t,P){return G()(P)?Ea(t,function(X){return P===oa(X)}):Ea(t,function(X){return P===X})},Wa=function(t,P,X){t+="Sibling";var sa;(P=La(P,X))&&P[t]&&(sa=P[t]);return sa},Ya=function(t){var P={};P.tagName=t.nodeName;t.id&&(P.id=t.id);if(t=t.className.trim())P.className=t;
return P},ta=function(t,P,X){if(P&&t===P.parentNode)for(;P!==X;){var sa=P.nextSibling;t.removeChild(P);P=sa}},za=function(t){return t?"UL"===t.nodeName||"OL"===t.nodeName:!1},Ha=function(t,P){t.hasChildNodes()&&(C()(t.childNodes).forEach(function(){P.appendChild(t.firstChild)}),P.normalize());t.parentNode&&t.parentNode.removeChild(t)},ya=function(t,P){if("SPAN"!==t.nodeName)for(var X=t.parentNode,sa=t;sa.childNodes&&1===sa.childNodes.length&&!ka(sa.firstChild);){sa=sa.firstChild;if("SPAN"===sa.nodeName)break;
if(sa.nodeName===P)return P=document.createElement(P),Ha(sa,sa.parentNode),X.replaceChild(P,t),P.appendChild(t),P}return t},da=function(t,P,X){var sa=ya(t,X);if(sa.nodeName===X)for(P=ya(P,X),t=sa,sa=sa.nextSibling;sa;){var Da=sa.nextSibling;sa=ya(sa,X);sa.nodeName===X?t?Ha(sa,t):t=sa:t=null;if(sa===P)break;sa=Da}};ja.a={getNodeName:oa,isTextNode:ka,isElemNode:ca,isBlockNode:function(t){return/^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|DETAILS|DIALOG|DD|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[\d]|HEADER|HGROUP|HR|LI|MAIN|NAV|OL|P|PRE|SECTION|UL)$/gi.test(this.getNodeName(t))},
getTextLength:na,getOffsetLength:function(t){if(ca(t))var P=t.childNodes.length;else ka(t)&&(P=t.nodeValue.replace(W,"").length);return P},getPrevOffsetNodeUntil:function(t,P,X){return 0<P?Z(t,P-1):fa("previous",t,X)},getNodeOffsetOfParent:Y,getChildNodeByOffset:Z,getNodeWithDirectionUntil:fa,containsNode:function(t,P){var X=document.createTreeWalker(t,4,null,!1);for(t=t===P;!t&&X.nextNode();)t=X.currentNode===P;return t},getTopPrevNodeUnder:function(t,P){return Wa("previous",t,P)},getTopNextNodeUnder:function(t,
P){return Wa("next",t,P)},getParentUntilBy:Ea,getParentUntil:La,getTopBlockNode:function(t){return La(t,"BODY")},getPrevTextNode:function(t){for(t=t.previousSibling||t.parentNode;!ka(t)&&"BODY"!==oa(t);)if(t.previousSibling)for(t=t.previousSibling;t.lastChild;)t=t.lastChild;else t=t.parentNode;"BODY"===oa(t)&&(t=null);return t},findOffsetNode:function(t,P,X){var sa=[],Da="",Aa=0;if(!P.length)return sa;for(var Ba=P.shift(),Qa=document.createTreeWalker(t,4,null,!1);Qa.nextNode();){Da=Qa.currentNode.nodeValue||
"";X&&(Da=X(Da));for(t=Aa+Da.length;t>=Ba;){sa.push({container:Qa.currentNode,offsetInContainer:Ba-Aa,offset:Ba});if(!P.length)return sa;Ba=P.shift()}Aa=t}do sa.push({container:Qa.currentNode,offsetInContainer:Da.length,offset:Ba}),Ba=P.shift();while(!A()(Ba));return sa},getPath:function(t,P){for(var X=[];t&&t!==P;)ca(t)&&X.unshift(Ya(t)),t=t.parentNode;return X},getNodeInfo:Ya,getTableCellByDirection:function(t,P){var X=null;A()(P)||"next"!==P&&"previous"!==P||(X="next"===P?t.nextElementSibling:
t.previousElementSibling);return X},getSiblingRowCellByDirection:function(t,P,X){var sa=null,Da;if(!A()(P)&&("next"===P||"previous"===P)&&t){if("next"===P){var Aa=t.parentNode&&t.parentNode.nextSibling;var Ba=I(t,"thead");var Qa=(Da=Ba[0]&&Ba[0].nextSibling)&&"TBODY"===oa(Da);P=0}else Aa=t.parentNode&&t.parentNode.previousSibling,Ba=I(t,"tbody"),Qa=(Da=Ba[0]&&Ba[0].previousSibling)&&"THEAD"===oa(Da),P=t.parentNode.childNodes.length-1;if(A()(X)||!X)P=Y(t);Aa?sa=F(Aa,"td,th")[P]:Ba[0]&&Qa&&(sa=u(Da,
"td,th")[P])}return sa},isMDSupportInlineNode:function(t){return/^(A|B|BR|CODE|DEL|EM|I|IMG|S|SPAN|STRONG)$/gi.test(t.nodeName)},isStyledNode:function(t){return/^(A|ABBR|ACRONYM|B|BDI|BDO|BIG|CITE|CODE|DEL|DFN|EM|I|INS|KBD|MARK|Q|S|SAMP|SMALL|SPAN|STRONG|SUB|SUP|U|VAR)$/gi.test(t.nodeName)},removeChildFromStartToEndNode:ta,removeNodesByDirection:function(t,P,X){for(;P!==t;){var sa=P.parentNode,Da=P,Aa=Da.nextSibling;Da=Da.previousSibling;!X&&Aa?ta(sa,Aa,null):X&&Da&&ta(sa,sa.childNodes[0],P);P=sa}},
getLeafNode:function(t){for(;t.childNodes&&t.childNodes.length;)t=t.firstChild,t=ka(t)&&!na(t)?t.nextSibling||t:t;return t},isInsideButtonBox:function(t,P,X){var sa=parseInt(t.left,10),Da=parseInt(t.top,10),Aa=parseInt(t.width,10);t=parseInt(t.height,10);return P>=sa&&P<=sa+Aa&&X>=Da&&X<=Da+t},isListNode:za,isFirstListItem:function(t){var P=t.parentNode;return"LI"===t.nodeName&&t===P.firstChild},isFirstLevelListItem:function(t){var P=t.parentNode.parentNode;return"LI"===t.nodeName&&!za(P)},mergeNode:Ha,
createHorizontalRule:function(){var t=document.createElement("div"),P=document.createElement("hr");t.setAttribute("contenteditable",!1);P.setAttribute("contenteditable",!1);t.appendChild(P);return t},createEmptyLine:function(){var t=document.createElement("div");t.appendChild(document.createElement("br"));return t},changeTagOrder:ya,mergeSameNodes:da,optimizeRange:function(t,P){var X=t.commonAncestorContainer,sa=t.startContainer,Da=t.endContainer;if(!t.collapsed&&(t=null,sa!==Da?(t=La(sa,X),Da=La(Da,
X),t&&Da&&da(t,Da,P),t=X):ka(sa)&&(t=sa.parentNode),t&&t.nodeName===P)){if(X=t.previousSibling)X=ya(X),X.nodeName===P&&Ha(t,X);if(X=t.nextSibling)X=ya(X),X.nodeName===P&&Ha(X,t)}},getAllTextNode:function(t){t=document.createTreeWalker(t,4,null,!1);for(var P=[];t.nextNode();){var X=t.currentNode;ka(X)&&P.push(X)}return P},isCellNode:function(t){return t?"TD"===t.nodeName||"TH"===t.nodeName:!1},getLastNodeBy:function(t,P){for(t=t&&t.lastChild;t&&P(t);)t=t.lastChild;return t},getParentNodeBy:function(t,
P){for(;t&&P(t.parentNode,t);)t=t.parentNode;return t},getSiblingNodeBy:function(t,P,X){for(P+="Sibling";t&&X(t[P],t);)t=t[P];return t},createElementWith:function(t,P){var X=document.createElement("div");G()(t)?X.innerHTML=t:X.appendChild(t);t=X.firstChild;P&&P.appendChild(t);return t},findAll:u,isContain:function(t,P){return t!==P&&t.contains(P)},closest:R,parent:function(t,P){t=t.parentNode;return P?t&&S()(t,P)?t:null:t},parents:I,parentsUntil:function(t,P){for(var X=[];t.parentNode&&!S()(t.parentNode,
P);)(t=t.parentNode)&&X.push(t);return X},children:F,append:function(t,P){if(G()(P))t.insertAdjacentHTML("beforeEnd",P);else{P=P.length?C()(P):[P];for(var X=0,sa=P.length;X<sa;X+=1)t.appendChild(P[X])}},prepend:function(t,P){if(G()(P))t.insertAdjacentHTML("afterBegin",P);else{P=P.length?C()(P):[P];for(var X=P.length-1;0<=X;--X)t.insertBefore(P[X],t.firstChild)}},insertBefore:function(t,P){var X=P.parentNode;X&&X.insertBefore(t,P)},insertAfter:function(t,P){var X=P.parentNode;X&&X.insertBefore(t,P.nextSibling)},
replaceWith:function(t,P){t=t.length?C()(t):[t];t.forEach(function(X){X.insertAdjacentHTML("afterEnd",P);X.parentNode.removeChild(X)})},wrap:function(t,P){t=t.length?C()(t):[t];t.forEach(function(X){var sa=document.createElement(P);X.parentNode.insertBefore(sa,X);sa.appendChild(X)})},wrapInner:function(t,P){t=t.length?C()(t):[t];t.forEach(function(X){var sa=document.createElement(P);for(X.appendChild(sa);X.firstChild!==sa;)sa.appendChild(X.firstChild)})},unwrap:function(t){for(var P=[];t.firstChild;)P.push(t.firstChild),
t.parentNode.insertBefore(t.firstChild,t);L(t);return P},remove:L,empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},setOffset:function(t,P){var X=t.parentNode.getBoundingClientRect(),sa=X.top;X=X.left;D()(t,{top:P.top-sa-document.body.scrollTop+"px"});D()(t,{left:P.left-X-document.body.scrollLeft+"px"})},getOffset:function(t,P){void 0===P&&(P="document");var X=0,sa=0;do X+=t.offsetTop||0,sa+=t.offsetLeft||0,t=t.offsetParent;while(t&&!S()(t,P));return{top:X,left:sa}},getOuterWidth:function(t,
P){var X=t.offsetWidth;P&&(t=T(t),P=t.marginRight,X+=parseInt(t.marginLeft,10)+parseInt(P,10));return X},getOuterHeight:function(t,P){var X=t.offsetHeight;P&&(t=T(t),P=t.marginBottom,X+=parseInt(t.marginTop,10)+parseInt(P,10));return X},toggleClass:function(t,P,X){A()(X)&&(X=!K()(t,P));(X?H.a:N.a)(t,P)},finalizeHtml:function(t,P){if(P)P=t.innerHTML;else{P=document.createDocumentFragment();t=C()(t.childNodes);for(var X=t.length,sa=0;sa<X;sa+=1)P.appendChild(t[sa])}return P},getFragmentReplacedByNewlineToBr:function(t){var P=
document.createDocumentFragment(),X=t.split("\n");X.forEach(function(sa,Da){sa=document.createTextNode(sa);P.appendChild(sa);Da<X.length-1&&P.appendChild(document.createElement("br"))});return P}}},function(ba,ja,y){ba=y(7);var u=y.n(ba),R=function(){function L(A,G,D){this.name=A;this.type=G;D&&this.setKeyMap(D)}var C=L.prototype;C.getName=function(){return this.name};C.getType=function(){return this.type};C.isMDType=function(){return this.type===L.TYPE.MD};C.isWWType=function(){return this.type===
L.TYPE.WW};C.isGlobalType=function(){return this.type===L.TYPE.GB};C.setKeyMap=function(A,G){this.keyMap=[A,G]};return L}();R.factory=function(L,C){if("markdown"===L)var A=R.TYPE.MD;else"wysiwyg"===L?A=R.TYPE.WW:"global"===L&&(A=R.TYPE.GB);L=new R(C.name,A);u()(L,C);return L};R.TYPE={MD:0,WW:1,GB:2};ba=y(12);var I=y(23),F=ba.b?1:0;y=function(){function L(A,G){void 0===G&&(G={});this._command=new I.a;this._mdCommand=new I.a;this._wwCommand=new I.a;this._options=u()({useCommandShortcut:!0},G);this.base=
A;this.keyMapCommand={};this._initEvent()}var C=L.prototype;C._addCommandBefore=function(A){var G={command:A};this.base.eventManager.emit("addCommandBefore",G);return G.command||A};C.addCommand=function(A){for(var G=arguments.length,D=Array(1<G?G-1:0),H=1;H<G;H++)D[H-1]=arguments[H];D.length&&(A=L.command.apply(L,[A].concat(D)));A=this._addCommandBefore(A);G=A.getName();if(A.isMDType())var N=this._mdCommand;else A.isWWType()?N=this._wwCommand:A.isGlobalType()&&(N=this._command);N.set(G,A);A.keyMap&&
(this.keyMapCommand[A.keyMap[F]]=G);return A};C._initEvent=function(){var A=this;this.base.eventManager.listen("command",function(){A.exec.apply(A,arguments)});this.base.eventManager.listen("keyMap",function(G){if(A._options.useCommandShortcut){var D=A.keyMapCommand[G.keyMap];D&&(G.data.preventDefault(),A.exec(D))}})};C.exec=function(A){var G=this.base;var D=this._command.get(A);D||(this.base.isMarkdownMode()?(D=this._mdCommand.get(A),G=this.base.mdEditor):(D=this._wwCommand.get(A),G=this.base.wwEditor));
if(D){var H;var N=arguments.length;for(var K=Array(1<N?N-1:0),S=1;S<N;S++)K[S-1]=arguments[S];K.unshift(G);N=(H=D).exec.apply(H,K)}return N};return L}();y.command=function(L,C){L=R.factory(L,C.name,C.keyMap);u()(L,C);return L};ja.a=y},function(ba,ja,y){function u(T){return T.sourcepos[0][0]}function R(T){return T.sourcepos[1][0]}function I(T){return T.sourcepos[0][1]}function F(T){return T.sourcepos[1][1]}function L(T){T=T.type;return"codeBlock"===T||"paragraph"===T}function C(T){T=T.type;return"htmlBlock"===
T||"htmlInline"===T}function A(T){T=T.type;return"strike"===T||"strong"===T||"emph"===T}function G(T){return"item"===T.type}function D(T){T=T.type;return"tableCell"===T||"tableDelimCell"===T}function H(T){switch(T.type){case "code":case "text":case "emph":case "strong":case "strike":case "link":case "image":case "htmlInline":case "linebreak":case "softbreak":return!0;default:return!1}}function N(T,ka,ca){void 0===ca&&(ca=!0);for(T=ca?T:T.parent;T&&"document"!==T.type;){if(ka(T))return T;T=T.parent}return null}
function K(T,ka,ca){void 0===ca&&(ca=!0);for(T=ca?T:T.parent;T&&"document"!==T.type;)ka(T),T=T.parent}function S(T,ka){return{line:T.line,ch:T.ch+ka}}function W(T,ka){return{line:T.line,ch:ka}}y.d(ja,"f",function(){return u});y.d(ja,"d",function(){return R});y.d(ja,"e",function(){return I});y.d(ja,"c",function(){return F});y.d(ja,"j",function(){return L});y.d(ja,"g",function(){return C});y.d(ja,"k",function(){return A});y.d(ja,"i",function(){return G});y.d(ja,"l",function(){return D});y.d(ja,"h",
function(){return H});y.d(ja,"b",function(){return N});y.d(ja,"n",function(){return K});y.d(ja,"a",function(){return S});y.d(ja,"m",function(){return W});y(12)},function(ba,ja,y){var u=y(21);ba.exports=function(R){try{var I=Array.prototype.slice.call(R)}catch(F){I=[],u(R,function(L){I.push(L)})}return I}},function(ba,ja,y){var u=y(9),R=y(26);ba.exports=function(I,F,L){var C=I.style;u(F)?C[F]=L:R(F,function(A,G){C[G]=A})}},function(ba,ja,y){var u=y(26),R=y(14),I=y(33),F=y(39);ba.exports=function(L){var C=
Array.prototype.slice.call(arguments,1),A=[],G;L.classList?u(C,function(D){L.classList.add(D)}):((G=I(L))&&(C=[].concat(G.split(/\s+/),C)),u(C,function(D){0>R(D,A)&&A.push(D)}),F(L,A))}},function(ba,ja,y){var u=y(21),R=y(14),I=y(33),F=y(39);ba.exports=function(L){var C=Array.prototype.slice.call(arguments,1),A=L.classList;if(A)u(C,function(H){A.remove(H)});else{var G=I(L).split(/\s+/);var D=[];u(G,function(H){0>R(H,C)&&D.push(H)});F(L,D)}}},function(ba,ja,y){ba.exports=function(u,R){var I=Object.prototype.hasOwnProperty,
F,L;var C=1;for(L=arguments.length;C<L;C+=1){var A=arguments[C];for(F in A)I.call(A,F)&&(u[F]=A[F])}return u}},function(ba,ja,y){ba.exports=function(u){return void 0===u}},function(ba,ja,y){ba.exports=function(u){return"string"===typeof u||u instanceof String}},function(ba,ja,y){ba.exports=function(u,R,I){var F;I=I||null;for(F in u)if(u.hasOwnProperty(F)&&!1===R.call(I,u[F],F,u))break}},function(ba,ja,y){function u(){var I=window.navigator,F=I.appName.replace(/\s/g,"_"),L=I.userAgent,C=/MSIE\s([0-9]+[.0-9]*)/,
A=/Trident.*rv:11\./,G=/Edge\/(\d+)\./,D={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},H,N;I={Microsoft_Internet_Explorer:function(){var K=L.match(C);K?(R.msie=!0,R.version=parseFloat(K[1])):R.others=!0},Netscape:function(){var K=!1;if(A.exec(L))R.msie=!0,R.version=11,K=!0;else if(G.exec(L))R.edge=!0,R.version=L.match(G)[1],K=!0;else for(H in D)if(D.hasOwnProperty(H)&&(N=L.match(D[H]))&&1<N.length){R[H]=K=!0;R.version=parseFloat(N[1]||0);break}K||
(R.others=!0)}};if(I[F])I[F]()}var R={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};"undefined"!==typeof window&&window.navigator&&u();ba.exports=R},function(ba,ja,y){function u(){L()("editor","UA-129966929-1")}function R(G,D){return-1!==G.indexOf(D)}function I(G){if(!G)return null;var D={};A.forEach(function(H){F()(G[H])||(D[H]=G[H])});return D}y.d(ja,"b",function(){return C});y.d(ja,"d",function(){return u});y.d(ja,"a",function(){return R});y.d(ja,"c",function(){return I});
ba=y(8);var F=y.n(ba);ba=y(43);var L=y.n(ba),C=/Mac/.test(navigator.platform),A=["rel","target","contenteditable","hreflang","type"]},function(ba,ja,y){var u=y(14),R=y(3);ja=Element.prototype;var I=ja.matches||ja.webkitMatchesSelector||ja.mozMatchesSelector||ja.msMatchesSelector||function(F){return-1<u(this,R((this.document||this.ownerDocument).querySelectorAll(F)))};ba.exports=function(F,L){return I.call(F,L)}},function(ba,ja,y){var u=y(17);ba.exports=function(R,I,F){var L;F=F||0;if(!u(I))return-1;
if(Array.prototype.indexOf)return Array.prototype.indexOf.call(I,R,F);var C=I.length;for(L=F;0<=F&&L<C;L+=1)if(I[L]===R)return L;return-1}},function(ba,ja){ba.exports=wa},function(ba,ja,y){var u=y(14),R=y(33);ba.exports=function(I,F){if(I.classList)return I.classList.contains(F);I=R(I).split(/\s+/);return-1<u(F,I)}},function(ba,ja,y){ba.exports=function(u){return u instanceof Array}},function(ba,ja,y){function u(T){return!Object(H.a)(K,T.type)}function R(T,ka,ca,oa){T=(T-ka)/ca;return 1>T?T*oa:oa}
function I(T){var ka;for(ka=document.querySelector('[data-nodeid="'+T.id+'"]');!ka||Object(H.a)(W,T.type)||Object(N.k)(T);)T=T.parent,ka=document.querySelector('[data-nodeid="'+T.id+'"]');for(ka=T;T&&"document"!==T;){if("item"===T.type){ka=T;break}T=T.parent}T=ka;for(ka=document.querySelector('[data-nodeid="'+ka.id+'"]');Object(H.a)(K,T.type)&&T.firstChild;)T=T.firstChild,ka=ka.firstElementChild;return{mdNode:T,node:ka}}function F(T,ka){var ca=Object(N.f)(T),oa=Object(N.d)(T),na=ka.lineInfo(ca-1).handle.height;
ca=ka.heightAtLine(oa,"local")-ka.heightAtLine(ca-1,"local");return 0>=ca?na:ca+L(ka,Object(N.d)(T))}function L(T,ka,ca){void 0===ca&&(ca=Number.MAX_VALUE);var oa=T.lineInfo(ka);if(!oa)return 0;oa=oa.handle;for(var na=0;ka<=ca&&!oa.text.trim();)na+=oa.height,ka+=1,oa=T.lineInfo(ka).handle;return na}function C(T,ka){for(var ca=0;T&&T!==ka;){Object(H.a)(S,T.tagName)||(ca+=T.offsetTop);if(T.offsetParent===ka.offsetParent)break;T=T.parentElement}return ca}function A(T,ka){for(var ca=ka,oa=null;ca;){var na=
ca.firstElementChild;if(!na)break;na=G(na,T,C(ca,ka));oa=ca;ca=na}T=ca||oa;return T===ka?null:T}function G(T,ka,ca){return T&&ka>ca+T.offsetTop?G(T.nextElementSibling,ka,ca)||T:null}function D(T){var ka=T.latestScrollTop,ca=T.targetScrollTop,oa=T.sourceScrollTop;return null===ka?ca:ka<T.scrollTop?Math.max(ca,oa):Math.min(ca,oa)}y.d(ja,"h",function(){return u});y.d(ja,"b",function(){return R});y.d(ja,"f",function(){return I});y.d(ja,"c",function(){return F});y.d(ja,"e",function(){return L});y.d(ja,
"g",function(){return C});y.d(ja,"a",function(){return A});y.d(ja,"d",function(){return D});var H=y(12),N=y(2),K=["list","blockQuote"],S=["UL","OL","BLOCKQUOTE"],W=["TR","TH","TBODY","TD"]},function(ba,ja,y){function u(C,A,G,D){function H(N){G.call(D||C,N||window.event)}"addEventListener"in C?C.addEventListener(A,H):"attachEvent"in C&&C.attachEvent("on"+A,H);R(C,A,G,H)}function R(C,A,G,D){C=L(C,A);var H=!1;F(C,function(N){return N.handler===G?(H=!0,!1):!0});H||C.push({handler:G,wrappedHandler:D})}
var I=y(9),F=y(26),L=y(40);ba.exports=function(C,A,G,D){I(A)?F(A.split(/\s+/g),function(H){u(C,H,G,D)}):F(A,function(H,N){u(C,N,H,G)})}},function(ba,ja,y){function u(C,A,G){var D=L(C,A),H;G?(F(D,function(N,K){return G===N.handler?(R(C,A,N.wrappedHandler),H=K,!1):!0}),D.splice(H,1)):(F(D,function(N){R(C,A,N.wrappedHandler)}),D.splice(0,D.length))}function R(C,A,G){"removeEventListener"in C?C.removeEventListener(A,G):"detachEvent"in C&&C.detachEvent("on"+A,G)}var I=y(9),F=y(26),L=y(40);ba.exports=function(C,
A,G){I(A)?F(A.split(/\s+/g),function(D){u(C,D,G)}):F(A,function(D,H){u(C,H,D)})}},function(ba,ja,y){ba.exports=function(u,R,I){var F=0,L=u.length;for(I=I||null;F<L&&!1!==R.call(I,u[F],F,u);F+=1);}},function(ba,ja){!function(y,u){for(var R in u)y[R]=u[R]}(ja,function(y){function u(I){if(R[I])return R[I].exports;var F=R[I]={i:I,l:!1,exports:{}};return y[I].call(F.exports,F,F.exports,u),F.l=!0,F.exports}var R={};return u.m=y,u.c=R,u.d=function(I,F,L){u.o(I,F)||Object.defineProperty(I,F,{enumerable:!0,
get:L})},u.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"});Object.defineProperty(I,"__esModule",{value:!0})},u.t=function(I,F){if((1&F&&(I=u(I)),8&F)||4&F&&"object"==typeof I&&I&&I.__esModule)return I;var L=Object.create(null);if(u.r(L),Object.defineProperty(L,"default",{enumerable:!0,value:I}),2&F&&"string"!=typeof I)for(var C in I)u.d(L,C,function(A){return I[A]}.bind(null,C));return L},u.n=function(I){var F=I&&I.__esModule?
function(){return I.default}:function(){return I};return u.d(F,"a",F),F},u.o=function(I,F){return Object.prototype.hasOwnProperty.call(I,F)},u.p="/dist",u(u.s=11)}([function(y,u,R){function I(ta,za){function Ha(){this.constructor=ta}Wa(ta,za);ta.prototype=null===za?Object.create(za):(Ha.prototype=za.prototype,new Ha)}function F(ta,za){var Ha={},ya;for(ya in ta)Object.prototype.hasOwnProperty.call(ta,ya)&&0>za.indexOf(ya)&&(Ha[ya]=ta[ya]);if(null!=ta&&"function"==typeof Object.getOwnPropertySymbols){var da=
0;for(ya=Object.getOwnPropertySymbols(ta);da<ya.length;da++)0>za.indexOf(ya[da])&&Object.prototype.propertyIsEnumerable.call(ta,ya[da])&&(Ha[ya[da]]=ta[ya[da]])}return Ha}function L(ta,za,Ha,ya){var da,t=arguments.length,P=3>t?za:null===ya?ya=Object.getOwnPropertyDescriptor(za,Ha):ya;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(ta,za,Ha,ya);else for(var X=ta.length-1;0<=X;X--)(da=ta[X])&&(P=(3>t?da(P):3<t?da(za,Ha,P):da(za,Ha))||P);return 3<t&&P&&Object.defineProperty(za,
Ha,P),P}function C(ta,za){return function(Ha,ya){za(Ha,ya,ta)}}function A(ta,za){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ta,za)}function G(ta,za,Ha,ya){return new (Ha||(Ha=Promise))(function(da,t){function P(Da){try{sa(ya.next(Da))}catch(Aa){t(Aa)}}function X(Da){try{sa(ya.throw(Da))}catch(Aa){t(Aa)}}function sa(Da){var Aa;Da.done?da(Da.value):(Aa=Da.value,Aa instanceof Ha?Aa:new Ha(function(Ba){Ba(Aa)})).then(P,X)}sa((ya=ya.apply(ta,za||[])).next())})}
function D(ta,za){function Ha(sa){return function(Da){return function(Aa){if(ya)throw new TypeError("Generator is already executing.");for(;X;)try{if(ya=1,da&&(t=2&Aa[0]?da.return:Aa[0]?da.throw||((t=da.return)&&t.call(da),0):da.next)&&!(t=t.call(da,Aa[1])).done)return t;switch(da=0,t&&(Aa=[2&Aa[0],t.value]),Aa[0]){case 0:case 1:t=Aa;break;case 4:return X.label++,{value:Aa[1],done:!1};case 5:X.label++;da=Aa[1];Aa=[0];continue;case 7:Aa=X.ops.pop();X.trys.pop();continue;default:if(!(t=X.trys,(t=0<
t.length&&t[t.length-1])||6!==Aa[0]&&2!==Aa[0])){X=0;continue}if(3===Aa[0]&&(!t||Aa[1]>t[0]&&Aa[1]<t[3]))X.label=Aa[1];else if(6===Aa[0]&&X.label<t[1])X.label=t[1],t=Aa;else if(t&&X.label<t[2])X.label=t[2],X.ops.push(Aa);else{t[2]&&X.ops.pop();X.trys.pop();continue}}Aa=za.call(ta,X)}catch(Ba){Aa=[6,Ba],da=0}finally{ya=t=0}if(5&Aa[0])throw Aa[1];return{value:Aa[0]?Aa[1]:void 0,done:!0}}([sa,Da])}}var ya,da,t,P,X={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return P={next:Ha(0),
throw:Ha(1),return:Ha(2)},"function"==typeof Symbol&&(P[Symbol.iterator]=function(){return this}),P}function H(ta,za,Ha,ya){void 0===ya&&(ya=Ha);ta[ya]=za[Ha]}function N(ta,za){for(var Ha in ta)"default"===Ha||za.hasOwnProperty(Ha)||(za[Ha]=ta[Ha])}function K(ta){var za="function"==typeof Symbol&&Symbol.iterator,Ha=za&&ta[za],ya=0;if(Ha)return Ha.call(ta);if(ta&&"number"==typeof ta.length)return{next:function(){return ta&&ya>=ta.length&&(ta=void 0),{value:ta&&ta[ya++],done:!ta}}};throw new TypeError(za?
"Object is not iterable.":"Symbol.iterator is not defined.");}function S(ta,za){var Ha="function"==typeof Symbol&&ta[Symbol.iterator];if(!Ha)return ta;var ya;ta=Ha.call(ta);var da=[];try{for(;(void 0===za||0<za--)&&!(ya=ta.next()).done;)da.push(ya.value)}catch(P){var t={error:P}}finally{try{ya&&!ya.done&&(Ha=ta.return)&&Ha.call(ta)}finally{if(t)throw t.error;}}return da}function W(){for(var ta=[],za=0;za<arguments.length;za++)ta=ta.concat(S(arguments[za]));return ta}function T(){for(var ta=0,za=0,
Ha=arguments.length;za<Ha;za++)ta+=arguments[za].length;ta=Array(ta);var ya=0;for(za=0;za<Ha;za++)for(var da=arguments[za],t=0,P=da.length;t<P;t++,ya++)ta[ya]=da[t];return ta}function ka(ta){return this instanceof ka?(this.v=ta,this):new ka(ta)}function ca(ta,za,Ha){function ya(Ba){Da[Ba]&&(sa[Ba]=function(Qa){return new Promise(function(ha,ra){1<Aa.push([Ba,Qa,ha,ra])||da(Ba,Qa)})})}function da(Ba,Qa){try{(ha=Da[Ba](Qa)).value instanceof ka?Promise.resolve(ha.value.v).then(t,P):X(Aa[0][2],ha)}catch(ra){X(Aa[0][3],
ra)}var ha}function t(Ba){da("next",Ba)}function P(Ba){da("throw",Ba)}function X(Ba,Qa){Ba(Qa);Aa.shift();Aa.length&&da(Aa[0][0],Aa[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var sa,Da=Ha.apply(ta,za||[]),Aa=[];return sa={},ya("next"),ya("throw"),ya("return"),sa[Symbol.asyncIterator]=function(){return this},sa}function oa(ta){function za(da,t){Ha[da]=ta[da]?function(P){return(ya=!ya)?{value:ka(ta[da](P)),done:"return"===da}:t?t(P):P}:t}var Ha,ya;return Ha=
{},za("next"),za("throw",function(da){throw da;}),za("return"),Ha[Symbol.iterator]=function(){return this},Ha}function na(ta){function za(da){Ha[da]=ta[da]&&function(t){return new Promise(function(P,X){(function(sa,Da,Aa,Ba){Promise.resolve(Ba).then(function(Qa){sa({value:Qa,done:Aa})},Da)})(P,X,(t=ta[da](t)).done,t.value)})}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ha,ya=ta[Symbol.asyncIterator];return ya?ya.call(ta):(ta=K(ta),Ha={},za("next"),za("throw"),
za("return"),Ha[Symbol.asyncIterator]=function(){return this},Ha)}function Y(ta,za){return Object.defineProperty?Object.defineProperty(ta,"raw",{value:za}):ta.raw=za,ta}function Z(ta){if(ta&&ta.__esModule)return ta;var za={};if(null!=ta)for(var Ha in ta)Object.hasOwnProperty.call(ta,Ha)&&(za[Ha]=ta[Ha]);return za.default=ta,za}function fa(ta){return ta&&ta.__esModule?ta:{default:ta}}function Ea(ta,za){if(!za.has(ta))throw new TypeError("attempted to get private field on non-instance");return za.get(ta)}
function La(ta,za,Ha){if(!za.has(ta))throw new TypeError("attempted to set private field on non-instance");return za.set(ta,Ha),Ha}R.r(u);R.d(u,"__extends",function(){return I});R.d(u,"__assign",function(){return Ya});R.d(u,"__rest",function(){return F});R.d(u,"__decorate",function(){return L});R.d(u,"__param",function(){return C});R.d(u,"__metadata",function(){return A});R.d(u,"__awaiter",function(){return G});R.d(u,"__generator",function(){return D});R.d(u,"__createBinding",function(){return H});
R.d(u,"__exportStar",function(){return N});R.d(u,"__values",function(){return K});R.d(u,"__read",function(){return S});R.d(u,"__spread",function(){return W});R.d(u,"__spreadArrays",function(){return T});R.d(u,"__await",function(){return ka});R.d(u,"__asyncGenerator",function(){return ca});R.d(u,"__asyncDelegator",function(){return oa});R.d(u,"__asyncValues",function(){return na});R.d(u,"__makeTemplateObject",function(){return Y});R.d(u,"__importStar",function(){return Z});R.d(u,"__importDefault",
function(){return fa});R.d(u,"__classPrivateFieldGet",function(){return Ea});R.d(u,"__classPrivateFieldSet",function(){return La});var Wa=function(ta,za){return(Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ha,ya){Ha.__proto__=ya}||function(Ha,ya){for(var da in ya)ya.hasOwnProperty(da)&&(Ha[da]=ya[da])})(ta,za)},Ya=function(){return(Ya=Object.assign||function(ta){for(var za,Ha=1,ya=arguments.length;Ha<ya;Ha++)for(var da in za=arguments[Ha])Object.prototype.hasOwnProperty.call(za,
da)&&(ta[da]=za[da]);return ta}).apply(this,arguments)}},function(y,u,R){function I(Y){switch(Y.type){case "document":case "blockQuote":case "list":case "item":case "paragraph":case "heading":case "emph":case "strong":case "strike":case "link":case "image":case "table":case "tableHead":case "tableBody":case "tableRow":case "tableCell":case "tableDelimRow":return!0;default:return!1}}function F(Y,Z){switch(Y){case "heading":return new K(Y,Z);case "list":case "item":return new N(Y,Z);case "link":case "image":return new S(Y,
Z);case "codeBlock":return new W(Y,Z);case "htmlBlock":return new T(Y,Z);case "table":return new ca(Y,Z);case "tableCell":return new oa(Y,Z);case "document":case "paragraph":case "blockQuote":case "thematicBreak":case "tableRow":case "tableBody":case "tableHead":return new H(Y,Z);case "code":return new ka(Y,Z);case "refDef":return new na(Y,Z);default:return new D(Y,Z)}}Object.defineProperty(u,"__esModule",{value:!0});u.text=u.isRefDef=u.isTable=u.isList=u.isHeading=u.isHtmlBlock=u.isCodeBlock=u.createNode=
u.RefDefNode=u.TableCellNode=u.TableNode=u.CodeNode=u.HtmlBlockNode=u.CodeBlockNode=u.LinkNode=u.HeadingNode=u.ListNode=u.BlockNode=u.Node=u.removeAllNode=u.removeNodeById=u.getNodeById=u.isContainer=void 0;var L=R(0),C=L.__importDefault(R(18));u.isContainer=I;var A=1,G={};u.getNodeById=function(Y){return G[Y]};u.removeNodeById=function(Y){delete G[Y]};u.removeAllNode=function(){G={}};var D=function(){function Y(Z,fa){this.literal=this.lastChild=this.firstChild=this.next=this.prev=this.parent=null;
this.id="document"===Z?-1:A++;this.type=Z;this.sourcepos=fa;G[this.id]=this}return Y.prototype.isContainer=function(){return I(this)},Y.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next);this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev);this.prev=this.next=this.parent=null},Y.prototype.replaceWith=function(Z){this.insertBefore(Z);this.unlink()},Y.prototype.insertAfter=function(Z){Z.unlink();Z.next=this.next;
Z.next&&(Z.next.prev=Z);Z.prev=this;this.next=Z;this.parent&&(Z.parent=this.parent,Z.next||(Z.parent.lastChild=Z))},Y.prototype.insertBefore=function(Z){Z.unlink();Z.prev=this.prev;Z.prev&&(Z.prev.next=Z);Z.next=this;this.prev=Z;Z.parent=this.parent;Z.prev||(Z.parent.firstChild=Z)},Y.prototype.appendChild=function(Z){Z.unlink();Z.parent=this;this.lastChild?(this.lastChild.next=Z,Z.prev=this.lastChild,this.lastChild=Z):(this.firstChild=Z,this.lastChild=Z)},Y.prototype.prependChild=function(Z){Z.unlink();
Z.parent=this;this.firstChild?(this.firstChild.prev=Z,Z.next=this.firstChild,this.firstChild=Z):(this.firstChild=Z,this.lastChild=Z)},Y.prototype.walker=function(){return new C.default(this)},Y}();u.Node=D;var H=function(Y){function Z(fa,Ea){Ea=Y.call(this,fa,Ea)||this;return Ea.open=!0,Ea.lineOffsets=null,Ea.stringContent=null,Ea.lastLineBlank=!1,Ea.lastLineChecked=!1,Ea.customType=null,Ea.type=fa,Ea}return L.__extends(Z,Y),Z}(D);u.BlockNode=H;var N=function(Y){function Z(){var fa=null!==Y&&Y.apply(this,
arguments)||this;return fa.listData=null,fa}return L.__extends(Z,Y),Z}(H);u.ListNode=N;var K=function(Y){function Z(){var fa=null!==Y&&Y.apply(this,arguments)||this;return fa.level=0,fa.headingType="atx",fa}return L.__extends(Z,Y),Z}(H);u.HeadingNode=K;var S=function(Y){function Z(){var fa=null!==Y&&Y.apply(this,arguments)||this;return fa.destination=null,fa.title=null,fa.extendedAutolink=!1,fa}return L.__extends(Z,Y),Z}(D);u.LinkNode=S;var W=function(Y){function Z(){var fa=null!==Y&&Y.apply(this,
arguments)||this;return fa.isFenced=!1,fa.fenceChar=null,fa.fenceLength=0,fa.fenceOffset=-1,fa.info=null,fa.infoPadding=0,fa}return L.__extends(Z,Y),Z}(H);u.CodeBlockNode=W;var T=function(Y){function Z(){var fa=null!==Y&&Y.apply(this,arguments)||this;return fa.htmlBlockType=-1,fa}return L.__extends(Z,Y),Z}(H);u.HtmlBlockNode=T;var ka=function(Y){function Z(){var fa=null!==Y&&Y.apply(this,arguments)||this;return fa.tickCount=0,fa}return L.__extends(Z,Y),Z}(D);u.CodeNode=ka;var ca=function(Y){function Z(){var fa=
null!==Y&&Y.apply(this,arguments)||this;return fa.columns=[],fa}return L.__extends(Z,Y),Z}(H);u.TableNode=ca;var oa=function(Y){function Z(){var fa=null!==Y&&Y.apply(this,arguments)||this;return fa.startIdx=0,fa.endIdx=0,fa.paddingLeft=0,fa.paddingRight=0,fa.ignored=!1,fa}return L.__extends(Z,Y),Z}(H);u.TableCellNode=oa;var na=function(Y){function Z(){var fa=null!==Y&&Y.apply(this,arguments)||this;return fa.title="",fa.dest="",fa.label="",fa}return L.__extends(Z,Y),Z}(H);u.RefDefNode=na;u.createNode=
F;u.isCodeBlock=function(Y){return"codeBlock"===Y.type};u.isHtmlBlock=function(Y){return"htmlBlock"===Y.type};u.isHeading=function(Y){return"heading"===Y.type};u.isList=function(Y){return"list"===Y.type};u.isTable=function(Y){return"table"===Y.type};u.isRefDef=function(Y){return"refDef"===Y.type};u.text=function(Y,Z){Z=F("text",Z);return Z.literal=Y,Z}},function(y,u,R){function I(H){switch(H){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";default:return H}}
Object.defineProperty(u,"__esModule",{value:!0});u.isEmpty=u.last=u.repeat=u.escapeXml=u.normalizeURI=u.unescapeString=u.ESCAPABLE=u.ENTITY=void 0;var F=R(0).__importDefault(R(12)),L=R(8);u.ENTITY="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});";var C=/[\\&]/;u.ESCAPABLE="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]";var A=new RegExp("\\\\"+u.ESCAPABLE+"|"+u.ENTITY,"gi"),G=/[&<>"]/g,D=function(H){return 92===H.charCodeAt(0)?H.charAt(1):L.decodeHTML(H)};u.unescapeString=function(H){return C.test(H)?
H.replace(A,D):H};u.normalizeURI=function(H){try{return F.default(H)}catch(N){return H}};u.escapeXml=function(H){return G.test(H)?H.replace(G,I):H};u.repeat=function(H,N){for(var K=[],S=0;S<N;S++)K.push(H);return K.join("")};u.last=function(H){return H.length?H[H.length-1]:null};u.isEmpty=function(H){return!H||!/[^ \t]+/.test(H)}},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.clearObj=u.isEmptyObj=u.omit=u.iterateObject=u.normalizeReference=u.last=void 0;var I=R(0);u.last=function(F){return F[F.length-
1]};u.normalizeReference=function(F){return F.slice(1,F.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()};u.iterateObject=function(F,L){Object.keys(F).forEach(function(C){L(C,F[C])})};u.omit=function(F){for(var L=[],C=1;C<arguments.length;C++)L[C-1]=arguments[C];var A=I.__assign({},F);return L.forEach(function(G){delete A[G]}),A};u.isEmptyObj=function(F){return!Object.keys(F).length};u.clearObj=function(F){Object.keys(F).forEach(function(L){delete F[L]})}},function(y,u,R){Object.defineProperty(u,
"__esModule",{value:!0});u.isSpaceOrTab=u.isBlank=u.peek=u.endsWithBlankLine=u.reClosingCodeFence=u.reNonSpace=u.C_OPEN_BRACKET=u.C_SPACE=u.C_LESSTHAN=u.C_GREATERTHAN=u.C_NEWLINE=u.C_TAB=u.CODE_INDENT=void 0;u.CODE_INDENT=4;u.C_TAB=9;u.C_NEWLINE=10;u.C_GREATERTHAN=62;u.C_LESSTHAN=60;u.C_SPACE=32;u.C_OPEN_BRACKET=91;u.reNonSpace=/[^ \t\f\v\r\n]/;u.reClosingCodeFence=/^(?:`{3,}|~{3,})(?= *$)/;u.endsWithBlankLine=function(I){for(;I;){if(I.lastLineBlank)return!0;var F=I.type;if(I.lastLineChecked||"list"!==
F&&"item"!==F){I.lastLineChecked=!0;break}I.lastLineChecked=!0;I=I.lastChild}return!1};u.peek=function(I,F){return F<I.length?I.charCodeAt(F):-1};u.isBlank=function(I){return!u.reNonSpace.test(I)};u.isSpaceOrTab=function(I){return I===u.C_SPACE||I===u.C_TAB}},function(y,u,R){function I(K){return{id:K.id,title:K.title,sourcepos:K.sourcepos,unlinked:!1,destination:K.dest}}Object.defineProperty(u,"__esModule",{value:!0});u.ToastMark=u.createRefDefState=u.reLineEnding=void 0;var F=R(0),L=R(7),C=R(1),
A=R(27),G=R(10),D=R(3),H=R(4),N=R(6);u.reLineEnding=/\r\n|\n|\r/;u.createRefDefState=I;y=function(){function K(S,W){this.refMap={};this.refLinkCandidateMap={};this.refDefCandidateMap={};this.referenceDefinition=!(null==W||!W.referenceDefinition);this.frontMatter=!(null==W||!W.frontMatter);this.parser=new L.Parser(W);this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap);this.eventHandlerMap={change:[]};S=S||"";this.lineTexts=S.split(u.reLineEnding);this.root=this.parser.parse(S)}
return K.prototype.updateLineTexts=function(S,W,T){var ka,ca=S[0];S=S[1];var oa=W[0];W=W[1];T=T.split(u.reLineEnding);var na=T.length,Y=this.lineTexts[oa-1];T[0]=this.lineTexts[ca-1].slice(0,S-1)+T[0];T[na-1]+=Y.slice(W-1);S=oa-ca+1;return(ka=this.lineTexts).splice.apply(ka,F.__spreadArrays([ca-1,S],T)),na-S},K.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&
(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var S=this.lineTexts,W=S.length-1;""===S[W];)--W;S.length-2>W&&(W+=1);this.root.sourcepos[1]=[W+1,S[W].length]},K.prototype.replaceRangeNodes=function(S,W,T){S?(A.insertNodesBefore(S,T),A.removeNextUntil(S,W),[S.id,W.id].forEach(function(ka){return C.removeNodeById(ka)}),S.unlink()):W?(A.insertNodesBefore(W,T),C.removeNodeById(W.id),W.unlink()):A.prependChildNodes(this.root,T)},K.prototype.getNodeRange=function(S,W){S=A.findChildNodeAtLine(this.root,
S[0]);var T=A.findChildNodeAtLine(this.root,W[0]);return T&&T.next&&W[0]+1===T.next.sourcepos[0][0]&&(T=T.next),A.getRangeForCustomType(S,T)},K.prototype.trigger=function(S,W){this.eventHandlerMap[S].forEach(function(T){T(W)})},K.prototype.extendEndLine=function(S){for(;""===this.lineTexts[S];)S+=1;return S},K.prototype.parseRange=function(S,W,T,ka){var ca,oa;if(oa=S&&S.prev){if(oa=C.isList(S.prev)){oa=this.lineTexts[T-1];var na=oa.match(/^[ \t]+/);na&&(2<=na[0].length||/\t/.test(na[0]))?oa=!0:(oa=
na?oa.slice(na.length):oa,oa=G.reBulletListMarker.test(oa)||G.reOrderedListMarker.test(oa))}oa=oa||C.isTable(S.prev)&&(ca=this.lineTexts[T-1],!H.isBlank(ca)&&-1!==ca.indexOf("|"))}oa&&(T=(S=S.prev).sourcepos[0][0]);ca=this.lineTexts.slice(T-1,ka);T=this.parser.partialParseStart(T,ca);ca=W?W.next:this.root.firstChild;oa=(na=T.lastChild)&&C.isCodeBlock(na);for(na=na&&C.isList(na);oa&&ca||na&&ca&&("list"===ca.type||2<=ca.sourcepos[0][1]);){var Y=this.extendEndLine(ca.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(ka,
Y));S||(S=W);W=ca;ka=Y;ca=ca.next}return this.parser.partialParseFinish(),{newNodes:A.getChildNodes(T),extStartNode:S,extEndNode:W}},K.prototype.getRemovedNodeRange=function(S,W){return!S||S&&C.isRefDef(S)||W&&C.isRefDef(W)?null:{id:[S.id,W.id],line:[S.sourcepos[0][0]-1,W.sourcepos[1][0]-1]}},K.prototype.markDeletedRefMap=function(S,W){var T=this;if(!D.isEmptyObj(this.refMap)){var ka=function(ca){if(C.isRefDef(ca)){var oa=T.refMap[ca.label];oa&&ca.id===oa.id&&(oa.unlinked=!0)}};S&&A.invokeNextUntil(ka,
S.parent,W);W&&A.invokeNextUntil(ka,W)}},K.prototype.replaceWithNewRefDefState=function(S){var W=this;if(!D.isEmptyObj(this.refMap)){var T=function(ka){if(C.isRefDef(ka)){var ca=ka.label,oa=W.refMap[ca];oa&&!oa.unlinked||(W.refMap[ca]=I(ka))}};S.forEach(function(ka){A.invokeNextUntil(T,ka)})}},K.prototype.replaceWithRefDefCandidate=function(){var S=this;D.isEmptyObj(this.refDefCandidateMap)||D.iterateObject(this.refDefCandidateMap,function(W,T){W=T.label;var ka=T.sourcepos,ca=S.refMap[W];(!ca||ca.unlinked||
ca.sourcepos[0][0]>ka[0][0])&&(S.refMap[W]=I(T))})},K.prototype.getRangeWithRefDef=function(S,W,T,ka,ca){if(this.referenceDefinition&&!D.isEmptyObj(this.refMap)){var oa=A.findChildNodeAtLine(this.root,S-1),na=A.findChildNodeAtLine(this.root,W+1);oa&&C.isRefDef(oa)&&oa!==T&&oa!==ka&&(S=(T=oa).sourcepos[0][0]);na&&C.isRefDef(na)&&na!==T&&na!==ka&&(ka=na,W=this.extendEndLine(ka.sourcepos[1][0]+ca))}return[T,ka,S,W]},K.prototype.parseWithFrontMatter=function(S,W,T){void 0===T&&(T=0);var ka=F.__spreadArrays(this.lineTexts),
ca=N.getFrontMatterPos(this.lineTexts),oa=ca[0];ca=ca[1];-1<oa&&-1<ca&&(this.lineTexts[oa]=N.frontMatterOpen,this.lineTexts[ca]=N.frontMatterClose,oa>=W[0]-1&&(W[0]=ca+1),oa<=S[0]-1&&ca>=W[0]-1&&(S[0]=oa+1,W[0]=ca+1));S=this.parse(S,W,T);return this.lineTexts=ka,S},K.prototype.parse=function(S,W,T){void 0===T&&(T=0);var ka=this.getNodeRange(S,W),ca=ka[0];ka=ka[1];S=ca?Math.min(ca.sourcepos[0][0],S[0]):S[0];W=this.extendEndLine((ka?Math.max(ka.sourcepos[1][0],W[0]):W[0])+T);W=this.parseRange.apply(this,
this.getRangeWithRefDef(S,W,ca,ka,T));T=W.newNodes;ca=W.extStartNode;W=W.extEndNode;ka=this.getRemovedNodeRange(ca,W);S=W?W.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(ca,W),this.replaceRangeNodes(ca,W,T),this.replaceWithNewRefDefState(T)):this.replaceRangeNodes(ca,W,T),{nodes:T,removedNodeRange:ka,nextNode:S}},K.prototype.parseRefLink=function(){var S=this,W=[];return D.isEmptyObj(this.refMap)||D.iterateObject(this.refMap,function(T,ka){ka.unlinked&&delete S.refMap[T];
D.iterateObject(S.refLinkCandidateMap,function(ca,oa){ca=oa.node;oa.refLabel===T&&W.push(S.parse(ca.sourcepos[0],ca.sourcepos[1]))})}),W},K.prototype.removeUnlinkedCandidate=function(){D.isEmptyObj(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(S){D.iterateObject(S,function(W){A.isUnlinked(W)&&delete S[W]})})},K.prototype.editMarkdown=function(S,W,T){T=this.updateLineTexts(S,W,T);S=this.frontMatter?this.parseWithFrontMatter(S,W,T):this.parse(S,W,T);W=
D.omit(S,"nextNode");A.updateNextLineNumbers(S.nextNode,T);this.updateRootNodeState();T=[W];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),T=T.concat(this.parseRefLink())),this.trigger("change",T),T},K.prototype.getLineTexts=function(){return this.lineTexts},K.prototype.getRootNode=function(){return this.root},K.prototype.findNodeAtPosition=function(S){return(S=A.findNodeAtPosition(this.root,S))&&S!==this.root?S:null},K.prototype.findFirstNodeAtLine=
function(S){return A.findFirstNodeAtLine(this.root,S)},K.prototype.on=function(S,W){this.eventHandlerMap[S].push(W)},K.prototype.off=function(S,W){S=this.eventHandlerMap[S];W=S.indexOf(W);S.splice(W,1)},K.prototype.findNodeById=function(S){return A.findNodeById(S)},K.prototype.removeAllNode=function(){C.removeAllNode()},K}();u.ToastMark=y},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.getFrontMatterPos=u.replaceFrontMatter=u.frontMatterClose=u.frontMatterOpen=void 0;u.frontMatterOpen=
"{:f";u.frontMatterClose="f:}";var I=/^---$/,F=/^---$([\s\S]*)^---$/m;u.replaceFrontMatter=function(L){var C=L.trim();return/^---/.test(C)&&F.test(C)?L.replace(F,u.frontMatterOpen+"$1"+u.frontMatterClose):L};u.getFrontMatterPos=function(L){for(var C=-1,A=-1,G=0;G<L.length;G+=1){var D=L[G].trim();if(0>C&&D&&!I.test(D)||0<A)break;I.test(D)&&(0>C?C=G:A=G)}return[C,A]}},function(y,u,R){function I(){return C.createNode("document",[[1,1],[0,0]])}Object.defineProperty(u,"__esModule",{value:!0});u.Parser=
void 0;var F=R(0),L=R(2),C=R(1),A=R(19),G=R(22),D=R(4),H=R(10),N=R(3),K=R(6),S=R(26),W=[/./,/<\/(?:script|pre|style)>/i,/--\x3e/,/\?>/,/>/,/\]\]>/],T=/^[#`~*+_=<>0-9-]/,ka=/\r\n|\n|\r/,ca={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1};y=function(){function oa(na){this.options=F.__assign(F.__assign({},ca),na);this.oldtip=this.tip=this.doc=I();this.indent=this.nextNonspaceColumn=this.nextNonspace=
this.column=this.offset=this.lineNumber=0;this.currentLine="";this.partiallyConsumedTab=this.blank=this.indented=!1;this.allClosed=!0;this.lastMatchedContainer=this.doc;this.refMap={};this.refLinkCandidateMap={};this.refDefCandidateMap={};this.lastLineLength=0;this.options.frontMatter&&(this.options.customParser=F.__assign(F.__assign({},S.frontMatterParser),this.options.customParser));this.inlineParser=new A.InlineParser(this.options)}return oa.prototype.advanceOffset=function(na,Y){void 0===Y&&(Y=
!1);for(var Z,fa,Ea,La=this.currentLine;0<na&&(Ea=La[this.offset]);)"\t"===Ea?(Z=4-this.column%4,Y?(this.partiallyConsumedTab=Z>na,fa=Z>na?na:Z,this.column+=fa,this.offset+=this.partiallyConsumedTab?0:1,na-=fa):(this.partiallyConsumedTab=!1,this.column+=Z,this.offset+=1,--na)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,--na)},oa.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace;this.column=this.nextNonspaceColumn;this.partiallyConsumedTab=!1},oa.prototype.findNextNonspace=
function(){for(var na,Y=this.currentLine,Z=this.offset,fa=this.column;""!==(na=Y.charAt(Z));)if(" "===na)Z++,fa++;else{if("\t"!==na)break;Z++;fa+=4-fa%4}this.blank="\n"===na||"\r"===na||""===na;this.nextNonspace=Z;this.nextNonspaceColumn=fa;this.indent=this.nextNonspaceColumn-this.column;this.indented=this.indent>=D.CODE_INDENT},oa.prototype.addLine=function(){this.partiallyConsumedTab&&(this.offset+=1,this.tip.stringContent+=L.repeat(" ",4-this.column%4));this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):
this.tip.lineOffsets=[this.offset];this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},oa.prototype.addChild=function(na,Y){for(;!G.blockHandlers[this.tip.type].canContain(na);)this.finalize(this.tip,this.lineNumber-1);na=C.createNode(na,[[this.lineNumber,Y+1],[0,0]]);return na.stringContent="",this.tip.appendChild(na),this.tip=na,na},oa.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var na=this.oldtip.parent;this.finalize(this.oldtip,
this.lineNumber-1);this.oldtip=na}this.allClosed=!0}},oa.prototype.finalize=function(na,Y){var Z=na.parent;na.open=!1;na.sourcepos[1]=[Y,this.lastLineLength];G.blockHandlers[na.type].finalize(this,na);this.tip=Z},oa.prototype.processInlines=function(na){var Y,Z=this.options.customParser;na=na.walker();this.inlineParser.refMap=this.refMap;this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap;this.inlineParser.refDefCandidateMap=this.refDefCandidateMap;for(this.inlineParser.options=this.options;Y=
na.next();){var fa=Y.node;Y=Y.entering;var Ea=fa.type;Z&&Z[Ea]&&Z[Ea](fa,{entering:Y,options:this.options});Y||"paragraph"!==Ea&&"heading"!==Ea&&("tableCell"!==Ea||fa.ignored)||this.inlineParser.parse(fa)}},oa.prototype.incorporateLine=function(na){var Y=this.doc;this.oldtip=this.tip;this.column=this.offset=0;this.partiallyConsumedTab=this.blank=!1;this.lineNumber+=1;-1!==na.indexOf("\x00")&&(na=na.replace(/\0/g,"\ufffd"));this.currentLine=na;for(var Z,fa=!0;(Z=Y.lastChild)&&Z.open;){switch(Y=Z,this.findNextNonspace(),
G.blockHandlers[Y.type].continue(this,Y)){case 0:break;case 1:fa=!1;break;case 2:return void(this.lastLineLength=na.length);default:throw Error("continue returned illegal value, must be 0, 1, or 2");}if(!fa){Y=Y.parent;break}}this.allClosed=Y===this.oldtip;this.lastMatchedContainer=Y;Z="paragraph"!==Y.type&&G.blockHandlers[Y.type].acceptsLines;for(fa=H.blockStarts.length;!Z;){if(this.findNextNonspace(),"table"!==Y.type&&"tableBody"!==Y.type&&"paragraph"!==Y.type&&!this.indented&&!T.test(na.slice(this.nextNonspace))){this.advanceNextNonspace();
break}for(var Ea=0;Ea<fa;){var La=H.blockStarts[Ea](this,Y);if(1===La){Y=this.tip;break}if(2===La){Y=this.tip;Z=!0;break}Ea++}if(Ea===fa){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks();this.blank&&Y.lastChild&&(Y.lastChild.lastLineBlank=!0);Z=Y.type;fa=this.blank&&!("blockQuote"===Z||C.isCodeBlock(Y)&&Y.isFenced||"item"===Z&&!Y.firstChild&&Y.sourcepos[0][0]===this.lineNumber);for(Ea=Y;Ea;)Ea.lastLineBlank=fa,Ea=Ea.parent;G.blockHandlers[Z].acceptsLines?
(this.addLine(),C.isHtmlBlock(Y)&&1<=Y.htmlBlockType&&5>=Y.htmlBlockType&&W[Y.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=na.length,this.finalize(Y,this.lineNumber))):this.offset<na.length&&!this.blank&&(this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=na.length},oa.prototype.parse=function(na){this.options.frontMatter&&(na=K.replaceFrontMatter(na));this.tip=this.doc=I();this.column=this.offset=
this.lastLineLength=this.lineNumber=0;this.lastMatchedContainer=this.doc;this.currentLine="";var Y=na.split(ka),Z=Y.length;this.options.referenceDefinition&&this.clearRefMaps();na.charCodeAt(na.length-1)===A.C_NEWLINE&&--Z;for(na=0;na<Z;na++)this.incorporateLine(Y[na]);for(;this.tip;)this.finalize(this.tip,Z);return this.processInlines(this.doc),this.doc},oa.prototype.partialParseStart=function(na,Y){this.tip=this.doc=I();this.lineNumber=na-1;this.column=this.offset=this.lastLineLength=0;this.lastMatchedContainer=
this.doc;this.currentLine="";na=Y.length;for(var Z=0;Z<na;Z++)this.incorporateLine(Y[Z]);return this.doc},oa.prototype.partialParseExtends=function(na){for(var Y=0;Y<na.length;Y++)this.incorporateLine(na[Y])},oa.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},oa.prototype.setRefMaps=function(na,Y,Z){this.refMap=na;this.refLinkCandidateMap=Y;this.refDefCandidateMap=Z},oa.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,
this.refDefCandidateMap].forEach(function(na){N.clearObj(na)})},oa}();u.Parser=y},function(y,u,R){function I(H){var N=Object.keys(H).join("|"),K=F(H),S=new RegExp("&(?:"+(N+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(W){return String(W).replace(S,K)}}function F(H){return function(N){if("#"===N.charAt(1)){var K=N.charAt(2);return"X"===K||"x"===K?G.default(parseInt(N.substr(3),16)):G.default(parseInt(N.substr(2),10))}return H[N.slice(1,-1)]}}y=this&&this.__importDefault||function(H){return H&&
H.__esModule?H:{default:H}};Object.defineProperty(u,"__esModule",{value:!0});u.decodeHTML=u.decodeHTMLStrict=u.decodeXML=void 0;var L=y(R(13)),C=y(R(14)),A=y(R(15)),G=y(R(16));u.decodeXML=I(A.default);u.decodeHTMLStrict=I(L.default);var D=function(H,N){return H<N?1:-1};u.decodeHTML=function(){function H(ca){return";"!==ca.substr(-1)&&(ca+=";"),ka(ca)}for(var N=Object.keys(C.default).sort(D),K=Object.keys(L.default).sort(D),S=0,W=0;S<K.length;S++)N[W]===K[S]?(K[S]+=";?",W++):K[S]+=";";var T=new RegExp("&(?:"+
K.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),ka=F(L.default);return function(ca){return String(ca).replace(T,H)}}()},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.reHtmlTag=void 0;u.OPENTAG="<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>";u.CLOSETAG="</[A-Za-z][A-Za-z0-9-]*\\s*[>]";u.reHtmlTag=new RegExp("^(?:"+(u.OPENTAG+"|"+u.CLOSETAG+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),
"i")},function(y,u,R){function I(N,K){return N.options.disallowDeepHeading&&("blockQuote"===K.type||"item"===K.type)}Object.defineProperty(u,"__esModule",{value:!0});u.blockStarts=u.reOrderedListMarker=u.reBulletListMarker=void 0;var F=R(1);y=R(9);var L=R(4);R=R(25);var C=/^`{3,}(?!.*`)|^~{3,}/,A=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^\x3c!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,
new RegExp("^(?:"+y.OPENTAG+"|"+y.CLOSETAG+")\\s*$","i")],G=/^(?:=+|-+)[ \t]*$/,D=/^#{1,6}(?:[ \t]+|$)/,H=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/;u.reBulletListMarker=/^[*+-]/;u.reOrderedListMarker=/^(\d{1,9})([.)])/;u.blockStarts=[function(N){return N.indented||L.peek(N.currentLine,N.nextNonspace)!==L.C_GREATERTHAN?0:(N.advanceNextNonspace(),N.advanceOffset(1,!1),L.isSpaceOrTab(L.peek(N.currentLine,N.offset))&&N.advanceOffset(1,!0),N.closeUnmatchedBlocks(),N.addChild("blockQuote",
N.nextNonspace),1)},function(N,K){var S;return N.indented||I(N,K)||!(S=N.currentLine.slice(N.nextNonspace).match(D))?0:(N.advanceNextNonspace(),N.advanceOffset(S[0].length,!1),N.closeUnmatchedBlocks(),K=N.addChild("heading",N.nextNonspace),K.level=S[0].trim().length,K.headingType="atx",K.stringContent=N.currentLine.slice(N.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),N.advanceOffset(N.currentLine.length-N.offset),2)},function(N){var K;if(!N.indented&&(K=N.currentLine.slice(N.nextNonspace).match(C))){var S=
K[0].length;N.closeUnmatchedBlocks();var W=N.addChild("codeBlock",N.nextNonspace);return W.isFenced=!0,W.fenceLength=S,W.fenceChar=K[0][0],W.fenceOffset=N.indent,N.advanceNextNonspace(),N.advanceOffset(S,!1),2}return 0},function(N,K){if(!N.indented&&L.peek(N.currentLine,N.nextNonspace)===L.C_LESSTHAN){var S=N.currentLine.slice(N.nextNonspace),W=N.options.disallowedHtmlBlockTags,T;for(T=1;7>=T;T++){var ka=S.match(A[T]);if(ka){if(7===T){if("paragraph"===K.type)break;if(0<W.length&&(new RegExp("</?(?:"+
W.join("|")+")","i")).test(ka[0]))break}return N.closeUnmatchedBlocks(),N.addChild("htmlBlock",N.offset).htmlBlockType=T,2}}}return 0},function(N,K){var S;if(null!==K.stringContent&&!N.indented&&"paragraph"===K.type&&!I(N,K.parent)&&(S=N.currentLine.slice(N.nextNonspace).match(G))){N.closeUnmatchedBlocks();for(var W=void 0;L.peek(K.stringContent,0)===L.C_OPEN_BRACKET&&(W=N.inlineParser.parseReference(K,N.refMap));)K.stringContent=K.stringContent.slice(W);if(0<K.stringContent.length)return W=F.createNode("heading",
K.sourcepos),W.level="="===S[0][0]?1:2,W.headingType="setext",W.stringContent=K.stringContent,K.insertAfter(W),K.unlink(),N.tip=W,N.advanceOffset(N.currentLine.length-N.offset,!1),2}return 0},function(N){return!N.indented&&H.test(N.currentLine.slice(N.nextNonspace))?(N.closeUnmatchedBlocks(),N.addChild("thematicBreak",N.nextNonspace),N.advanceOffset(N.currentLine.length-N.offset,!1),2):0},function(N,K){var S,W,T,ka=K;return N.indented&&"list"!==K.type||!(S=function(ca,oa){var na,Y,Z=ca.currentLine.slice(ca.nextNonspace),
fa={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:ca.indent,task:!1,checked:!1};if(4<=ca.indent)return null;if(na=Z.match(u.reBulletListMarker))fa.type="bullet",fa.bulletChar=na[0][0];else{if(!(na=Z.match(u.reOrderedListMarker))||"paragraph"===oa.type&&"1"!==na[1])return null;fa.type="ordered";fa.start=parseInt(na[1],10);fa.delimiter=na[2]}if(-1!==(Y=L.peek(ca.currentLine,ca.nextNonspace+na[0].length))&&Y!==L.C_TAB&&Y!==L.C_SPACE||"paragraph"===oa.type&&!ca.currentLine.slice(ca.nextNonspace+
na[0].length).match(L.reNonSpace))return null;ca.advanceNextNonspace();ca.advanceOffset(na[0].length,!0);oa=ca.column;Z=ca.offset;do ca.advanceOffset(1,!0),Y=L.peek(ca.currentLine,ca.offset);while(5>ca.column-oa&&L.isSpaceOrTab(Y));Y=-1===L.peek(ca.currentLine,ca.offset);var Ea=ca.column-oa;return 5<=Ea||1>Ea||Y?(fa.padding=na[0].length+1,ca.column=oa,ca.offset=Z,L.isSpaceOrTab(L.peek(ca.currentLine,ca.offset))&&ca.advanceOffset(1,!0)):fa.padding=na[0].length+Ea,fa}(N,ka))?0:(N.closeUnmatchedBlocks(),
"list"===N.tip.type&&(W=ka.listData,T=S,W.type===T.type&&W.delimiter===T.delimiter&&W.bulletChar===T.bulletChar)||((ka=N.addChild("list",N.nextNonspace)).listData=S),(ka=N.addChild("item",N.nextNonspace)).listData=S,1)},function(N){return N.indented&&"paragraph"!==N.tip.type&&!N.blank?(N.advanceOffset(L.CODE_INDENT,!0),N.closeUnmatchedBlocks(),N.addChild("codeBlock",N.offset),2):0},R.tableHead,R.tableBody]},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});var I=R(5);Object.defineProperty(u,
"ToastMark",{enumerable:!0,get:function(){return I.ToastMark}});var F=R(28);Object.defineProperty(u,"createRenderHTML",{enumerable:!0,get:function(){return F.createRenderHTML}});var L=R(7);Object.defineProperty(u,"Parser",{enumerable:!0,get:function(){return L.Parser}})},function(y,u,R){function I(L,C,A){var G,D,H,N="";"string"!=typeof C&&(A=C,C=I.defaultChars);void 0===A&&(A=!0);var K=F[C];if(!K){K=F[C]=[];for(G=0;128>G;G++){var S=String.fromCharCode(G);/^[0-9a-z]$/i.test(S)?K.push(S):K.push("%"+
("0"+G.toString(16).toUpperCase()).slice(-2))}for(G=0;G<C.length;G++)K[C.charCodeAt(G)]=C[G]}S=K;C=0;for(G=L.length;C<G;C++)(D=L.charCodeAt(C),A&&37===D&&C+2<G&&/^[0-9a-f]{2}$/i.test(L.slice(C+1,C+3)))?(N+=L.slice(C,C+3),C+=2):128>D?N+=S[D]:55296<=D&&57343>=D?55296<=D&&56319>=D&&C+1<G&&56320<=(H=L.charCodeAt(C+1))&&57343>=H?(N+=encodeURIComponent(L[C]+L[C+1]),C++):N+="%EF%BF%BD":N+=encodeURIComponent(L[C]);return N}var F={};I.defaultChars=";/?:@&=+$,-_.!~*'()#";I.componentChars="-_.!~*'()";y.exports=
I},function(y){y.exports=JSON.parse('{"Aacute":"\u00c1","aacute":"\u00e1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\u00c2","acirc":"\u00e2","acute":"\u00b4","Acy":"\u0410","acy":"\u0430","AElig":"\u00c6","aelig":"\u00e6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\u00c0","agrave":"\u00e0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\u00c5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\u00c5","aring":"\u00e5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\u00c3","atilde":"\u00e3","Auml":"\u00c4","auml":"\u00e4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\u00a6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\u00c7","ccedil":"\u00e7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\u00b8","Cedilla":"\u00b8","cemptyv":"\u29b2","cent":"\u00a2","centerdot":"\u00b7","CenterDot":"\u00b7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\u00ae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\u00a9","COPY":"\u00a9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\u00a4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\u00b0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\u00b4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\u00a8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\u00f7","divide":"\u00f7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\u00a8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\u00a8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\u00c9","eacute":"\u00e9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\u00ca","ecirc":"\u00ea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\u00c8","egrave":"\u00e8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\u00d0","eth":"\u00f0","Euml":"\u00cb","euml":"\u00eb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\u00bd","frac13":"\u2153","frac14":"\u00bc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\u00be","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\u00bd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\u00cd","iacute":"\u00ed","ic":"\u2063","Icirc":"\u00ce","icirc":"\u00ee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\u00a1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\u00cc","igrave":"\u00ec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\u00bf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\u00cf","iuml":"\u00ef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\u00ab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\u00af","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\u00b5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\u00b7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\u00a0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\u00a0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\u00ac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\u00d1","ntilde":"\u00f1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\u00d3","oacute":"\u00f3","oast":"\u229b","Ocirc":"\u00d4","ocirc":"\u00f4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\u00d2","ograve":"\u00f2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\u00aa","ordm":"\u00ba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\u00d8","oslash":"\u00f8","osol":"\u2298","Otilde":"\u00d5","otilde":"\u00f5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\u00d6","ouml":"\u00f6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\u00b6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\u00b1","plusmn":"\u00b1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\u00b1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\u00a3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\u00bb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\u00ae","REG":"\u00ae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\u00a7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\u00ad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\u00af","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\u00b9","sup2":"\u00b2","sup3":"\u00b3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\u00df","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\u00de","thorn":"\u00fe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\u00d7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\u00da","uacute":"\u00fa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\u00db","ucirc":"\u00fb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\u00d9","ugrave":"\u00f9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\u00a8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\u00dc","uuml":"\u00fc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\u00dd","yacute":"\u00fd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\u00a5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\u00ff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')},
function(y){y.exports=JSON.parse('{"Aacute":"\u00c1","aacute":"\u00e1","Acirc":"\u00c2","acirc":"\u00e2","acute":"\u00b4","AElig":"\u00c6","aelig":"\u00e6","Agrave":"\u00c0","agrave":"\u00e0","amp":"&","AMP":"&","Aring":"\u00c5","aring":"\u00e5","Atilde":"\u00c3","atilde":"\u00e3","Auml":"\u00c4","auml":"\u00e4","brvbar":"\u00a6","Ccedil":"\u00c7","ccedil":"\u00e7","cedil":"\u00b8","cent":"\u00a2","copy":"\u00a9","COPY":"\u00a9","curren":"\u00a4","deg":"\u00b0","divide":"\u00f7","Eacute":"\u00c9","eacute":"\u00e9","Ecirc":"\u00ca","ecirc":"\u00ea","Egrave":"\u00c8","egrave":"\u00e8","ETH":"\u00d0","eth":"\u00f0","Euml":"\u00cb","euml":"\u00eb","frac12":"\u00bd","frac14":"\u00bc","frac34":"\u00be","gt":">","GT":">","Iacute":"\u00cd","iacute":"\u00ed","Icirc":"\u00ce","icirc":"\u00ee","iexcl":"\u00a1","Igrave":"\u00cc","igrave":"\u00ec","iquest":"\u00bf","Iuml":"\u00cf","iuml":"\u00ef","laquo":"\u00ab","lt":"<","LT":"<","macr":"\u00af","micro":"\u00b5","middot":"\u00b7","nbsp":"\u00a0","not":"\u00ac","Ntilde":"\u00d1","ntilde":"\u00f1","Oacute":"\u00d3","oacute":"\u00f3","Ocirc":"\u00d4","ocirc":"\u00f4","Ograve":"\u00d2","ograve":"\u00f2","ordf":"\u00aa","ordm":"\u00ba","Oslash":"\u00d8","oslash":"\u00f8","Otilde":"\u00d5","otilde":"\u00f5","Ouml":"\u00d6","ouml":"\u00f6","para":"\u00b6","plusmn":"\u00b1","pound":"\u00a3","quot":"\\"","QUOT":"\\"","raquo":"\u00bb","reg":"\u00ae","REG":"\u00ae","sect":"\u00a7","shy":"\u00ad","sup1":"\u00b9","sup2":"\u00b2","sup3":"\u00b3","szlig":"\u00df","THORN":"\u00de","thorn":"\u00fe","times":"\u00d7","Uacute":"\u00da","uacute":"\u00fa","Ucirc":"\u00db","ucirc":"\u00fb","Ugrave":"\u00d9","ugrave":"\u00f9","uml":"\u00a8","Uuml":"\u00dc","uuml":"\u00fc","Yacute":"\u00dd","yacute":"\u00fd","yen":"\u00a5","yuml":"\u00ff"}')},
function(y){y.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(y,u,R){y=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(u,"__esModule",{value:!0});var I=y(R(17));u.default=function(F){if(55296<=F&&57343>=F||1114111<F)return"\ufffd";F in I.default&&(F=I.default[F]);var L="";return 65535<F&&(F-=65536,L+=String.fromCharCode(F>>>10&1023|55296),F=56320|1023&F),L+String.fromCharCode(F)}},function(y){y.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},
function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});var I=R(1);y=function(){function F(L){this.root=this.current=L;this.entering=!0}return F.prototype.next=function(){var L=this.current,C=this.entering;if(null===L)return null;var A=I.isContainer(L);return C&&A?L.firstChild?(this.current=L.firstChild,this.entering=!0):this.entering=!1:L===this.root?this.current=null:null===L.next?(this.current=L.parent,this.entering=!1):(this.current=L.next,this.entering=!0),{entering:C,node:L}},F.prototype.resumeAt=
function(L,C){this.current=L;this.entering=!0===C},F}();u.default=y},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.InlineParser=u.C_NEWLINE=void 0;y=R(0);var I=R(1),F=R(2),L=R(9),C=y.__importDefault(R(20)),A=R(8),G=R(21),D=R(3),H=R(5);u.C_NEWLINE=10;R="\\\\"+F.ESCAPABLE;var N=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),
K=new RegExp('^(?:"('+R+'|[^"\\x00])*"|\'('+R+"|[^'\\x00])*'|\\(("+R+"|[^()\\x00])*\\))"),S=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,W=new RegExp("^"+F.ESCAPABLE),T=new RegExp("^"+F.ENTITY,"i"),ka=/`+/,ca=/^`+/,oa=/\.\.\./g,na=/--+/g,Y=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Z=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,fa=/^ *(?:\n *)?/,Ea=/^[ \t\n\x0b\x0c\x0d]/,La=/^\s/,Wa=/ *$/,Ya=/^ */,ta=/^ *(?:\n|$)/,
za=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,Ha=/^[^\n`\[\]\\!<&*_'"~]+/m;R=function(){function ya(da){this.subject="";this.brackets=this.delimiters=null;this.lineIdx=this.lineStartNum=this.pos=0;this.lineOffsets=[0];this.linePosOffset=0;this.refMap={};this.refLinkCandidateMap={};this.refDefCandidateMap={};this.options=da}return ya.prototype.sourcepos=function(da,t){var P=this.linePosOffset+this.lineOffsets[this.lineIdx],X=this.lineStartNum+this.lineIdx;da=[X,da+P];return"number"==typeof t?[da,[X,t+P]]:da},
ya.prototype.nextLine=function(){this.lineIdx+=1;this.linePosOffset=-this.pos},ya.prototype.match=function(da){da=da.exec(this.subject.slice(this.pos));return null===da?null:(this.pos+=da.index+da[0].length,da[0])},ya.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},ya.prototype.spnl=function(){return this.match(fa),!0},ya.prototype.parseBackticks=function(da){var t=this.pos+1,P=this.match(ca);if(null===P)return!1;for(var X,sa=this.pos;null!==(X=
this.match(ka));)if(X===P)return X=this.subject.slice(sa,this.pos-P.length),t=this.sourcepos(t,this.pos),sa=X.split("\n"),1<sa.length&&(X=D.last(sa),this.lineIdx+=sa.length-1,this.linePosOffset=-(this.pos-X.length-P.length),t[1]=this.sourcepos(this.pos),X=sa.join(" ")),t=I.createNode("code",t),0<X.length&&null!==X.match(/[^ ]/)&&" "==X[0]&&" "==X[X.length-1]?t.literal=X.slice(1,X.length-1):t.literal=X,t.tickCount=P.length,da.appendChild(t),!0;return this.pos=sa,da.appendChild(I.text(P,this.sourcepos(t,
this.pos-1))),!0},ya.prototype.parseBackslash=function(da){var t,P=this.subject,X=this.pos+=1;return this.peek()===u.C_NEWLINE?(this.pos+=1,t=I.createNode("linebreak",this.sourcepos(this.pos-1,this.pos)),da.appendChild(t),this.nextLine()):W.test(P.charAt(this.pos))?(da.appendChild(I.text(P.charAt(this.pos),this.sourcepos(X,this.pos))),this.pos+=1):da.appendChild(I.text("\\",this.sourcepos(X,X))),!0},ya.prototype.parseAutolink=function(da){var t,P,X,sa=this.pos+1;return(t=this.match(Y))?(P=t.slice(1,
t.length-1),(X=I.createNode("link",this.sourcepos(sa,this.pos))).destination=F.normalizeURI("mailto:"+P),X.title="",X.appendChild(I.text(P,this.sourcepos(sa+1,this.pos-1))),da.appendChild(X),!0):!!(t=this.match(Z))&&(P=t.slice(1,t.length-1),(X=I.createNode("link",this.sourcepos(sa,this.pos))).destination=F.normalizeURI(P),X.title="",X.appendChild(I.text(P,this.sourcepos(sa+1,this.pos-1))),da.appendChild(X),!0)},ya.prototype.parseHtmlTag=function(da){var t=this.pos+1,P=this.match(L.reHtmlTag);if(null===
P)return!1;t=I.createNode("htmlInline",this.sourcepos(t,this.pos));return t.literal=P,da.appendChild(t),!0},ya.prototype.scanDelims=function(da){var t=0,P=this.pos;if(39===da||34===da)t++,this.pos++;else for(;this.peek()===da;)t++,this.pos++;if(0===t||2>t&&126===da)return this.pos=P,null;var X=0===P?"\n":this.subject.charAt(P-1),sa=this.peek();var Da=-1===sa?"\n":C.default(sa);var Aa,Ba;sa=La.test(Da);Da=N.test(Da);var Qa=La.test(X);X=N.test(X);var ha=!sa&&(!Da||Qa||X);sa=!Qa&&(!X||sa||Da);return 95===
da?(Aa=ha&&(!sa||X),Ba=sa&&(!ha||Da)):39===da||34===da?(Aa=ha&&!sa,Ba=sa):(Aa=ha,Ba=sa),this.pos=P,{numdelims:t,canOpen:Aa,canClose:Ba}},ya.prototype.handleDelim=function(da,t){var P=this.scanDelims(da);if(!P)return!1;var X=P.numdelims,sa=this.pos+1;this.pos+=X;var Da=39===da?"\u2019":34===da?"\u201c":this.subject.slice(sa-1,this.pos);Da=I.text(Da,this.sourcepos(sa,this.pos));return t.appendChild(Da),(P.canOpen||P.canClose)&&(this.options.smart||39!==da&&34!==da)&&(this.delimiters={cc:da,numdelims:X,
origdelims:X,node:Da,previous:this.delimiters,next:null,canOpen:P.canOpen,canClose:P.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},ya.prototype.removeDelimiter=function(da){null!==da.previous&&(da.previous.next=da.next);null===da.next?this.delimiters=da.previous:da.next.previous=da.previous},ya.prototype.removeDelimitersBetween=function(da,t){da.next!==t&&(da.next=t,t.previous=da)},ya.prototype.processEmphasis=function(da){var t,P,X,sa=!1,Da=((t={})[95]=
[da,da,da],t[42]=[da,da,da],t[39]=[da],t[34]=[da],t[126]=[da],t);for(t=this.delimiters;null!==t&&t.previous!==da;)t=t.previous;for(;null!==t;){var Aa=t.cc,Ba=95===Aa||42===Aa;if(t.canClose){var Qa=t.previous;for(X=!1;null!==Qa&&Qa!==da&&Qa!==Da[Aa][Ba?t.origdelims%3:0];){if(sa=Ba&&(t.canOpen||Qa.canClose)&&0!=t.origdelims%3&&0==(Qa.origdelims+t.origdelims)%3,Qa.cc===t.cc&&Qa.canOpen&&!sa){X=!0;break}Qa=Qa.previous}if(P=t,Ba||126===Aa)if(X){if(Qa){var ha=2<=t.numdelims&&2<=Qa.numdelims?2:1,ra=Ba?0:
1;var qa=Qa.node;var va=t.node;var Ma=I.createNode(Ba?1===ha?"emph":"strong":"strike"),Ga=qa.sourcepos[1],ob=va.sourcepos[0];Ma.sourcepos=[[Ga[0],Ga[1]-ha+1],[ob[0],ob[1]+ha-1]];qa.sourcepos[1][1]-=ha;va.sourcepos[0][1]+=ha;qa.literal=qa.literal.slice(ha);va.literal=va.literal.slice(ha);Qa.numdelims-=ha;t.numdelims-=ha;for(ha=qa.next;ha&&ha!==va;)Ga=ha.next,ha.unlink(),Ma.appendChild(ha),ha=Ga;if(qa.insertAfter(Ma),this.removeDelimitersBetween(Qa,t),Qa.numdelims<=ra&&(0===Qa.numdelims&&qa.unlink(),
this.removeDelimiter(Qa)),t.numdelims<=ra)0===t.numdelims&&va.unlink(),Qa=t.next,this.removeDelimiter(t),t=Qa}}else t=t.next;else 39===Aa?(t.node.literal="\u2019",X&&(Qa.node.literal="\u2018"),t=t.next):34===Aa&&(t.node.literal="\u201d",X&&(Qa.node.literal="\u201c"),t=t.next);X||(Da[Aa][Ba?P.origdelims%3:0]=P.previous,P.canOpen||this.removeDelimiter(P))}else t=t.next}for(;null!==this.delimiters&&this.delimiters!==da;)this.removeDelimiter(this.delimiters)},ya.prototype.parseLinkTitle=function(){var da=
this.match(K);return null===da?null:F.unescapeString(da.substr(1,da.length-2))},ya.prototype.parseLinkDestination=function(){var da=this.match(S);if(null===da){if(60===this.peek())return null;for(var t=this.pos,P=0,X;-1!==(X=this.peek());)if(92===X&&W.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===X)this.pos+=1,P+=1;else if(41===X){if(1>P)break;this.pos+=1;--P}else{if(null!==Ea.exec(C.default(X)))break;this.pos+=1}return this.pos===t&&41!==X||0!==P?
null:(da=this.subject.substr(t,this.pos-t),F.normalizeURI(F.unescapeString(da)))}return F.normalizeURI(F.unescapeString(da.substr(1,da.length-2)))},ya.prototype.parseLinkLabel=function(){var da=this.match(za);return null===da||1001<da.length?0:da.length},ya.prototype.parseOpenBracket=function(da){var t=this.pos;this.pos+=1;var P=I.text("[",this.sourcepos(this.pos,this.pos));return da.appendChild(P),this.addBracket(P,t,!1),!0},ya.prototype.parseBang=function(da){var t=this.pos;if(this.pos+=1,91===
this.peek()){this.pos+=1;var P=I.text("![",this.sourcepos(this.pos-1,this.pos));da.appendChild(P);this.addBracket(P,t+1,!0)}else P=I.text("!",this.sourcepos(this.pos,this.pos)),da.appendChild(P);return!0},ya.prototype.parseCloseBracket=function(da){var t=null,P=null,X=!1,sa=this.pos+=1,Da=this.brackets;if(null===Da)return da.appendChild(I.text("]",this.sourcepos(sa,sa))),!0;if(!Da.active)return da.appendChild(I.text("]",this.sourcepos(sa,sa))),this.removeBracket(),!0;var Aa=Da.image,Ba=this.pos;40===
this.peek()&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(Ea.test(this.subject.charAt(this.pos-1))&&(P=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,X=!0):this.pos=Ba);var Qa="";if(!X){var ha=this.pos,ra=this.parseLinkLabel();if(2<ra?Qa=this.subject.slice(ha,ha+ra):Da.bracketAfter||(Qa=this.subject.slice(Da.index,sa)),0===ra&&(this.pos=Ba),Qa)Qa=D.normalizeReference(Qa),(Ba=this.refMap[Qa])&&(t=Ba.destination,P=Ba.title,X=!0)}if(X){X=I.createNode(Aa?
"image":"link");X.destination=t;X.title=P||"";X.sourcepos=[Da.startpos,this.sourcepos(this.pos)];for(t=Da.node.next;t;)P=t.next,t.unlink(),X.appendChild(t),t=P;if(da.appendChild(X),this.processEmphasis(Da.previousDelimiter),this.removeBracket(),Da.node.unlink(),!Aa)for(Da=this.brackets;null!==Da;)Da.image||(Da.active=!1),Da=Da.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[da.id]={node:da,refLabel:Qa}),!0}return this.removeBracket(),this.pos=sa,da.appendChild(I.text("]",
this.sourcepos(sa,sa))),this.options.referenceDefinition&&(this.refLinkCandidateMap[da.id]={node:da,refLabel:Qa}),!0},ya.prototype.addBracket=function(da,t,P){null!==this.brackets&&(this.brackets.bracketAfter=!0);this.brackets={node:da,startpos:this.sourcepos(t+(P?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:P,active:!0}},ya.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},ya.prototype.parseEntity=function(da){var t,P=this.pos+
1;return!!(t=this.match(T))&&(da.appendChild(I.text(A.decodeHTML(t),this.sourcepos(P,this.pos))),!0)},ya.prototype.parseString=function(da){var t,P=this.pos+1;return(t=this.match(Ha))?(this.options.smart?(t=t.replace(oa,"\u2026").replace(na,function(X){var sa=0,Da=0;return 0==X.length%3?Da=X.length/3:0==X.length%2?sa=X.length/2:2==X.length%3?(sa=1,Da=(X.length-2)/3):(sa=2,Da=(X.length-4)/3),F.repeat("\u2014",Da)+F.repeat("\u2013",sa)}),da.appendChild(I.text(t,this.sourcepos(P,this.pos)))):(P=I.text(t,
this.sourcepos(P,this.pos)),da.appendChild(P)),!0):!1},ya.prototype.parseNewline=function(da){this.pos+=1;var t=da.lastChild;if(t&&"text"===t.type&&" "===t.literal[t.literal.length-1]){var P=" "===t.literal[t.literal.length-2],X=t.literal.length;t.literal=t.literal.replace(Wa,"");X-=t.literal.length;t.sourcepos[1][1]-=X;da.appendChild(I.createNode(P?"linebreak":"softbreak",this.sourcepos(this.pos-X,this.pos)))}else da.appendChild(I.createNode("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),
this.match(Ya),!0},ya.prototype.parseReference=function(da,t){if(!this.options.referenceDefinition)return 0;this.subject=da.stringContent;this.pos=0;var P=null,X=this.pos,sa=this.parseLinkLabel();if(0===sa)return 0;var Da=this.subject.substr(0,sa);if(58!==this.peek())return this.pos=X,0;this.pos++;this.spnl();sa=this.parseLinkDestination();if(null===sa)return this.pos=X,0;var Aa=this.pos;this.spnl();this.pos!==Aa&&(P=this.parseLinkTitle());null===P&&(P="",this.pos=Aa);var Ba=!0;if(null===this.match(ta)&&
(""===P?Ba=!1:(P="",this.pos=Aa,Ba=null!==this.match(ta))),!Ba)return this.pos=X,0;Da=D.normalizeReference(Da);if(""===Da)return this.pos=X,0;Aa=this.getReferenceDefSourcepos(da);da.sourcepos[0][0]=Aa[1][0]+1;Aa=I.createNode("refDef",Aa);return Aa.title=P,Aa.dest=sa,Aa.label=Da,da.insertBefore(Aa),t[Da]?this.refDefCandidateMap[Aa.id]=Aa:t[Da]=H.createRefDefState(Aa),this.pos-X},ya.prototype.mergeTextNodes=function(da){for(var t,P=[];t=da.next();){var X=t.node;if(t.entering&&"text"===X.type)P.push(X);
else if(1===P.length)P=[];else if(1<P.length){t=P[0];X=P[P.length-1];t.sourcepos&&X.sourcepos&&(t.sourcepos[1]=X.sourcepos[1]);t.next=X.next;t.next&&(t.next.prev=t);for(X=1;X<P.length;X+=1)t.literal+=P[X].literal,P[X].unlink();P=[]}}},ya.prototype.getReferenceDefSourcepos=function(da){for(var t=da.stringContent.split(/\n|\r\n/),P=!1,X=0,sa=0,Da=0,Aa=0;Aa<t.length;Aa+=1){var Ba=t[Aa];if(Ea.test(Ba))break;if(/:/.test(Ba)&&0===X){if(P)break;sa=P=Ba.indexOf(":")===Ba.length-1?Aa+1:Aa;Da=t[P].length;P=
!0}var Qa=Ba.match(/'|"/g);if(Qa&&(X+=Qa.length),2===X){sa=Aa;Da=Ba.length;break}}return[[da.sourcepos[0][0],da.sourcepos[0][1]],[da.sourcepos[0][0]+sa,Da]]},ya.prototype.parseInline=function(da){var t,P=this.peek();if(-1===P)return!1;switch(P){case u.C_NEWLINE:var X=this.parseNewline(da);break;case 92:X=this.parseBackslash(da);break;case 96:X=this.parseBackticks(da);break;case 42:case 95:case 126:X=this.handleDelim(P,da);break;case 39:case 34:X=!(null===(t=this.options)||void 0===t||!t.smart)&&this.handleDelim(P,
da);break;case 91:X=this.parseOpenBracket(da);break;case 33:X=this.parseBang(da);break;case 93:X=this.parseCloseBracket(da);break;case 60:X=this.parseAutolink(da)||this.parseHtmlTag(da);break;case 38:X=this.parseEntity(da);break;default:X=this.parseString(da)}return X||(this.pos+=1,da.appendChild(I.text(C.default(P),this.sourcepos(this.pos,this.pos+1)))),!0},ya.prototype.parse=function(da){this.subject=da.stringContent.trim();this.pos=0;this.brackets=this.delimiters=null;this.lineOffsets=da.lineOffsets||
[0];this.linePosOffset=this.lineIdx=0;this.lineStartNum=da.sourcepos[0][0];for(I.isHeading(da)&&(this.lineOffsets[0]+=da.level+1);this.parseInline(da););da.stringContent=null;this.processEmphasis(null);this.mergeTextNodes(da.walker());var t=this.options,P=t.extendedAutolinks;t=t.customParser;if(P&&G.convertExtAutoLinks(da.walker(),P),t&&da.firstChild){var X;for(da=da.firstChild.walker();X=da.next();)P=X.node,X=X.entering,t[P.type]&&t[P.type](P,{entering:X,options:this.options})}},ya}();u.InlineParser=
R},function(y,u,R){if(Object.defineProperty(u,"__esModule",{value:!0}),String.fromCodePoint)y=function(L){try{return String.fromCodePoint(L)}catch(C){if(C instanceof RangeError)return String.fromCharCode(65533);throw C;}};else{var I=String.fromCharCode,F=Math.floor;y=function(){for(var L=[],C=0;C<arguments.length;C++)L[C]=arguments[C];var A,G;C=[];var D=-1,H=L.length;if(!H)return"";for(var N="";++D<H;){var K=Number(L[D]);if(!isFinite(K)||0>K||1114111<K||F(K)!==K)return String.fromCharCode(65533);
65535>=K?C.push(K):(A=55296+((K-=65536)>>10),G=K%1024+56320,C.push(A,G));(D+1===H||16384<C.length)&&(N+=I.apply(void 0,C),C.length=0)}return N}}u.default=y},function(y,u,R){function I(G){for(var D,H=/[\w.+-]+@(?:[\w-]+\.)+[\w-]+/g,N=[];D=H.exec(G);){var K=D[0];/[_-]+$/.test(K)||N.push({text:K,range:[D.index,D.index+K.length-1],url:"mailto:"+K})}return N}function F(G){for(var D,H=/(www|https?:\/\/).(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+[^<\s]*[^<?!.,:*_?~\s]/g,N=[];D=H.exec(G);){var K=D[0];var S=/\)+$/.exec(K);
if(S){for(var W=0,T=0,ka=K;T<ka.length;T++){var ca=ka[T];"("===ca?0>W?W=1:W+=1:")"===ca&&--W}0>W&&(K=K.substring(0,K.length-Math.min(-W,S[0].length)))}K=K.replace(/&[A-Za-z0-9]+;$/,"");N.push({text:K,range:[D.index,D.index+K.length-1],url:("www"===D[1]?"http://":"")+K})}return N}function L(G){return C.__spreadArrays(F(G),I(G)).sort(function(D,H){return D.range[0]-H.range[0]})}Object.defineProperty(u,"__esModule",{value:!0});u.convertExtAutoLinks=u.parseUrlLink=u.parseEmailLink=void 0;var C=R(0),A=
R(1);u.parseEmailLink=I;u.parseUrlLink=F;u.convertExtAutoLinks=function(G,D){var H;"boolean"==typeof D&&(D=L);for(var N=function(){var K=H.node;if(H.entering&&"text"===K.type&&"link"!==K.parent.type){var S=K.literal,W=D(S);if(!W||!W.length)return"continue";var T=0,ka=K.sourcepos[0],ca=ka[0],oa=ka[1],na=function(La,Wa){return[[ca,oa+La],[ca,oa+Wa]]};ka=[];for(var Y=0;Y<W.length;Y++){var Z=W[Y],fa=Z.range,Ea=Z.url;Z=Z.text;fa[0]>T&&ka.push(A.text(S.substring(T,fa[0]),na(T,fa[0]-1)));T=A.createNode("link",
na.apply(void 0,fa));T.appendChild(A.text(Z,na.apply(void 0,fa)));T.destination=Ea;T.extendedAutolink=!0;ka.push(T);T=fa[1]+1}T<S.length&&ka.push(A.text(S.substring(T),na(T,S.length-1)));for(S=0;S<ka.length;S++)K.insertBefore(ka[S]);K.unlink()}};H=G.next();)N()}},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.blockHandlers=void 0;y=R(23);var I=R(24),F=R(4),L=R(2);u.blockHandlers={document:{continue:function(){return 0},finalize:function(){},canContain:function(C){return"item"!==
C},acceptsLines:!1},list:{continue:function(){return 0},finalize:function(C,A){for(C=A.firstChild;C;){if(F.endsWithBlankLine(C)&&C.next){A.listData.tight=!1;break}for(var G=C.firstChild;G;){if(F.endsWithBlankLine(G)&&(C.next||G.next)){A.listData.tight=!1;break}G=G.next}C=C.next}},canContain:function(C){return"item"===C},acceptsLines:!1},blockQuote:{continue:function(C){var A=C.currentLine;return C.indented||F.peek(A,C.nextNonspace)!==F.C_GREATERTHAN?1:(C.advanceNextNonspace(),C.advanceOffset(1,!1),
F.isSpaceOrTab(F.peek(A,C.offset))&&C.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(C){return"item"!==C},acceptsLines:!1},item:{continue:function(C,A){if(C.blank){if(null===A.firstChild)return 1;C.advanceNextNonspace()}else{if(!(C.indent>=A.listData.markerOffset+A.listData.padding))return 1;C.advanceOffset(A.listData.markerOffset+A.listData.padding,!0)}return 0},finalize:y.taskListItemFinalize,canContain:function(C){return"item"!==C},acceptsLines:!1},heading:{continue:function(){return 1},
finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},codeBlock:{continue:function(C,A){var G=C.currentLine,D=C.indent;if(A.isFenced){var H=3>=D&&G.charAt(C.nextNonspace)===A.fenceChar&&G.slice(C.nextNonspace).match(F.reClosingCodeFence);if(H&&H[0].length>=A.fenceLength)return C.lastLineLength=C.offset+D+H[0].length,C.finalize(A,C.lineNumber),2;for(A=A.fenceOffset;0<
A&&F.isSpaceOrTab(F.peek(G,C.offset));)C.advanceOffset(1,!0),A--}else if(D>=F.CODE_INDENT)C.advanceOffset(F.CODE_INDENT,!0);else{if(!C.blank)return 1;C.advanceNextNonspace()}return 0},finalize:function(C,A){if(null!==A.stringContent){if(A.isFenced){var G=A.stringContent;var D=G.indexOf("\n");C=G.slice(0,D);G=G.slice(D+1);C=C.match(/^(\s*)(.*)/);A.infoPadding=C[1].length;A.info=L.unescapeString(C[2].trim());A.literal=G}else A.literal=null===(G=A.stringContent)||void 0===G?void 0:G.replace(/(\n *)+$/,
"\n");A.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},htmlBlock:{continue:function(C,A){return!C.blank||6!==A.htmlBlockType&&7!==A.htmlBlockType?0:1},finalize:function(C,A){var G;A.literal=(null===(G=A.stringContent)||void 0===G?void 0:G.replace(/(\n *)+$/,""))||null;A.stringContent=null},canContain:function(){return!1},acceptsLines:!0},paragraph:{continue:function(C){return C.blank?1:0},finalize:function(C,A){if(null!==A.stringContent){for(var G,D=!1;F.peek(A.stringContent,
0)===F.C_OPEN_BRACKET&&(G=C.inlineParser.parseReference(A,C.refMap));)A.stringContent=A.stringContent.slice(G),D=!0;D&&F.isBlank(A.stringContent)&&A.unlink()}},canContain:function(){return!1},acceptsLines:!0},table:I.table,tableBody:I.tableBody,tableHead:I.tableHead,tableRow:I.tableRow,tableCell:I.tableCell,tableDelimRow:I.tableDelimRow,tableDelimCell:I.tableDelimCell,refDef:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0}}},function(y,u,R){Object.defineProperty(u,
"__esModule",{value:!0});u.taskListItemFinalize=void 0;var I=/^\[([ \txX])\][ \t]+/;u.taskListItemFinalize=function(F,L){if(L.firstChild&&"paragraph"===L.firstChild.type){F=L.firstChild;var C=F.stringContent.match(I);if(C){var A=C[0].length;F.stringContent=F.stringContent.substring(A-1);F.sourcepos[0][1]+=A;F.lineOffsets[0]+=A;L.listData.task=!0;L.listData.checked=/[xX]/.test(C[1])}}}},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.tableCell=u.tableRow=u.tableDelimCell=u.tableDelimRow=
u.tableHead=u.tableBody=u.table=void 0;u.table={continue:function(){return 0},finalize:function(){},canContain:function(I){return"tableHead"===I||"tableBody"===I},acceptsLines:!1};u.tableBody={continue:function(){return 0},finalize:function(){},canContain:function(I){return"tableRow"===I},acceptsLines:!1};u.tableHead={continue:function(){return 1},finalize:function(){},canContain:function(I){return"tableRow"===I||"tableDelimRow"===I},acceptsLines:!1};u.tableDelimRow={continue:function(){return 1},
finalize:function(){},canContain:function(I){return"tableDelimCell"===I},acceptsLines:!1};u.tableDelimCell={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1};u.tableRow={continue:function(){return 1},finalize:function(){},canContain:function(I){return"tableCell"===I},acceptsLines:!1};u.tableCell={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1}},function(y,u,R){function I(D){for(var H=0,N=0,K=[],
S=0;S<D.length;S+=1)if("|"===D[S]&&"\\"!==D[S-1]){var W=D.substring(H,S);0===H&&C.isEmpty(W)?N=S+1:K.push(W);H=S+1}H<D.length&&(W=D.substring(H,D.length),C.isEmpty(W)||K.push(W));return[N,K]}function F(D,H,N,K){for(var S=[],W=0;W<H.length;W++){var T=H[W],ka=T.match(/^[ \t]+/);ka=ka?ka[0].length:0;if(ka===T.length){var ca=ka=0;var oa=""}else ca=(ca=T.match(/[ \t]+$/))?ca[0].length:0,oa=T.slice(ka,T.length-ca);var na=K+ka,Y=A.createNode(D,[[N,K],[N,K+T.length-1]]);Y.stringContent=oa.replace(/\\\|/g,
"|");Y.startIdx=S.length;Y.endIdx=S.length;Y.lineOffsets=[na-1];Y.paddingLeft=ka;Y.paddingRight=ca;S.push(Y);K+=T.length+1}return S}function L(D){var H="left";D=D.stringContent;var N=D[0];return":"===D[D.length-1]&&(H=":"===N?"center":"right"),{align:H}}Object.defineProperty(u,"__esModule",{value:!0});u.tableBody=u.tableHead=void 0;var C=R(2),A=R(1),G=R(3);u.tableHead=function(D,H){var N=H.stringContent;if("paragraph"===H.type&&!D.indented&&!D.blank){var K=N.length-1,S=N.lastIndexOf("\n",K-1)+1;K=
N.slice(S,K);var W=D.currentLine.slice(D.nextNonspace),T=I(K),ka=T[0];T=T[1];var ca=I(W),oa=ca[0];ca=ca[1];var na=/^[ \t]*:?-+:?[ \t]*$/;if(!T.length||!ca.length||ca.some(function(Wa){return!na.test(Wa)})||1===ca.length&&0!==W.indexOf("|"))return 0;var Y=H.lineOffsets,Z=D.lineNumber-1,fa=G.last(Y)+1;W=A.createNode("table",[[Z,fa],[D.lineNumber,D.offset]]);(W.columns=ca.map(function(){return{align:"left"}}),H.insertAfter(W),1===Y.length)?H.unlink():(H.stringContent=N.slice(0,S),N=S-(N.lastIndexOf("\n",
S-2)+1)-1,D.lastLineLength=Y[Y.length-2]+N,D.finalize(H,Z-1));D.advanceOffset(D.currentLine.length-D.offset,!1);H=A.createNode("tableHead",[[Z,fa],[D.lineNumber,D.offset]]);W.appendChild(H);var Ea=A.createNode("tableRow",[[Z,fa],[Z,fa+K.length-1]]),La=A.createNode("tableDelimRow",[[D.lineNumber,D.nextNonspace+1],[D.lineNumber,D.offset]]);H.appendChild(Ea);H.appendChild(La);F("tableCell",T,Z,fa+ka).forEach(function(Wa){Ea.appendChild(Wa)});H=F("tableDelimCell",ca,D.lineNumber,D.nextNonspace+1+oa);
return H.forEach(function(Wa){La.appendChild(Wa)}),W.columns=H.map(L),D.tip=W,2}return 0};u.tableBody=function(D,H){if("table"!==H.type&&"tableBody"!==H.type||!D.blank&&-1===D.currentLine.indexOf("|"))return 0;if(D.advanceOffset(D.currentLine.length-D.offset,!1),D.blank){var N=H;return"tableBody"===H.type&&(N=H.parent,D.finalize(H,D.lineNumber)),D.finalize(N,D.lineNumber),0}N=H;"table"===H.type&&((N=D.addChild("tableBody",D.nextNonspace)).stringContent=null);var K=A.createNode("tableRow",[[D.lineNumber,
D.nextNonspace+1],[D.lineNumber,D.currentLine.length]]);N.appendChild(K);var S=N.parent;H=I(D.currentLine.slice(D.nextNonspace));return F("tableCell",H[1],D.lineNumber,D.nextNonspace+1+H[0]).forEach(function(W,T){T>=S.columns.length&&(W.ignored=!0);K.appendChild(W)}),2}},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.frontMatterParser=void 0;var I=R(1),F=R(5),L=R(6),C=new RegExp(L.frontMatterOpen),A=new RegExp(L.frontMatterClose),G=new RegExp(L.frontMatterClose+"$"),D=!1;u.frontMatterParser=
{paragraph:function(H,N){var K,S=N.entering,W=H.type,T=H.stringContent;if(N.options.frontMatter&&S&&"paragraph"===W){T=(T||"").trim();S=[C.test(T),A.test(T)];N=S[0];S=S[1];if((N||S)&&(D=!0),D&&(H.customType="frontMatter"),S&&(D=!1,!G.test(T))){var ka=L.frontMatterClose.length,ca=T.indexOf(L.frontMatterClose);W=T.substring(0,ca+ka);var oa=W.split(F.reLineEnding).length;H.sourcepos[1][0]=H.sourcepos[0][0]+oa-1;H.sourcepos[1][1]=3;H.stringContent=W;W=null===(K=H.lineOffsets)||void 0===K?void 0:K.splice(oa);
K=H.sourcepos[1][0];T=T.substring(ca+ka+1);ka=T.split(F.reLineEnding);ca=ka.length;K=I.createNode("paragraph",[[K+1,1],[K+ca,ka[ca-1].length]]);K.stringContent=T;K.open=!1;K.lineOffsets=W;H.insertAfter(K)}(N||S)&&(H.stringContent=H.stringContent.replace(new RegExp(L.frontMatterOpen+"|"+L.frontMatterClose,"g"),"---"))}}}},function(y,u,R){function I(A,G){return A[0]<G[0]?1:A[0]>G[0]?-1:A[1]<G[1]?1:A[1]>G[1]?-1:0}function F(A,G){var D=A[0];return A[1][0]<G?1:D[0]>G?-1:0}function L(A){return C.getNodeById(A)||
null}Object.defineProperty(u,"__esModule",{value:!0});u.getRangeForCustomType=u.isUnlinked=u.invokeNextUntil=u.findNodeById=u.toString=u.findNodeAtPosition=u.findFirstNodeAtLine=u.findChildNodeAtLine=u.updateNextLineNumbers=u.prependChildNodes=u.insertNodesBefore=u.getChildNodes=u.removeNextUntil=u.getAllParents=void 0;var C=R(1);u.getAllParents=function(A){for(var G=[];A.parent;)G.push(A.parent),A=A.parent;return G.reverse()};u.removeNextUntil=function(A,G){if(A.parent===G.parent&&A!==G){for(var D=
A.next;D&&D!==G;){for(var H=D.next,N=0,K=["parent","prev","next"];N<K.length;N++){var S=K[N];D[S]&&(C.removeNodeById(D[S].id),D[S]=null)}D=H}(A.next=G.next)?G.next.prev=A:A.parent.lastChild=A}};u.getChildNodes=function(A){var G=[];for(A=A.firstChild;A;)G.push(A),A=A.next;return G};u.insertNodesBefore=function(A,G){for(var D=0;D<G.length;D++)A.insertBefore(G[D])};u.prependChildNodes=function(A,G){for(var D=G.length-1;0<=D;--D)A.prependChild(G[D])};u.updateNextLineNumbers=function(A,G){if(A&&A.parent&&
0!==G){var D=A.parent.walker();for(D.resumeAt(A,!0);A=D.next();){var H=A.node;A.entering&&(H.sourcepos[0][0]+=G,H.sourcepos[1][0]+=G)}}};u.findChildNodeAtLine=function(A,G){for(var D=A.firstChild;D;){var H=F(D.sourcepos,G);if(0===H)return D;if(-1===H)return D.prev||D;D=D.next}return A.lastChild};u.findFirstNodeAtLine=function(A,G){A=A.firstChild;for(var D=null;A;){var H=F(A.sourcepos,G);if(0===H){if(A.sourcepos[0][0]===G||!A.firstChild)return A;D=A;A=A.firstChild}else{if(-1===H)break;D=A;A=A.next}}return D?
function(N){for(;N.parent&&"document"!==N.parent.type&&N.parent.sourcepos[0][0]===N.sourcepos[0][0];)N=N.parent;return N}(function(N){for(;N.lastChild;)N=N.lastChild;return N}(D)):null};u.findNodeAtPosition=function(A,G){for(var D=null;A;){var H=A.sourcepos;var N=G,K=H[0];H=1===I(H[1],N)?1:-1===I(K,N)?-1:0;if(0===H){if(!A.firstChild)break;D=A;A=A.firstChild}else{if(-1===H||!A.next)return D;A=A.next}}return A};u.toString=function(A){return A?"type: "+A.type+", sourcepos: "+A.sourcepos+", firstChild: "+
(A.firstChild&&A.firstChild.type)+", lastChild: "+(A.lastChild&&A.lastChild.type)+", prev: "+(A.prev&&A.prev.type)+", next: "+(A.next&&A.next.type):"null"};u.findNodeById=L;u.invokeNextUntil=function(A,G,D){if(void 0===D&&(D=null),G)for(var H=G.walker();G&&G!==D;){A(G);G=H.next();if(!G)break;G=G.node}};u.isUnlinked=function(A){A=L(A);if(!A)return!0;for(;A&&"document"!==A.type;){if(!A.parent&&!A.prev&&!A.next)return!0;A=A.parent}return!1};u.getRangeForCustomType=function(A,G){var D=[A,G];return[{node:A,
type:"prev"},{node:G,type:"next"}].forEach(function(H,N){var K=H.node;for(H=H.type;K&&K.customType&&K[H];){var S=K[H],W=S.sourcepos,T=S.customType;K="prev"===H?1===F(W,K.sourcepos[0][0]):-1===F(W,K.sourcepos[1][0]);if(!T||!K)break;K=S;D[N]=K}}),D}},function(y,u,R){function I(K){K.length&&"\n"!==G.last(G.last(K))&&K.push("\n")}function F(K){var S=[];K=K.walker();for(var W;W=K.next();)W=W.node,"text"===W.type&&S.push(W.literal);return S.join("")}Object.defineProperty(u,"__esModule",{value:!0});u.createRenderHTML=
void 0;var L=R(0),C=R(1),A=R(2),G=R(3),D=R(29),H=R(31),N={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1,customProp:{}};u.createRenderHTML=function(K){var S=L.__assign(L.__assign({},N),K),W=L.__assign({},D.baseConvertors);if(S.gfm&&(W=L.__assign(L.__assign({},W),H.gfmConvertors)),S.convertors){var T=S.convertors;Object.keys(T).forEach(function(ka){var ca=W[ka],oa=T[ka];W[ka]=ca?function(na,Y){return Y.origin=function(){return ca(na,Y)},oa(na,Y)}:oa});delete S.convertors}return function(ka){return function(ca,
oa,na){var Y=[],Z=ca.walker(),fa=null;for(ca=function(){var Ea=fa.node,La=oa[Ea.type];if(!La)return"continue";var Wa=!1,Ya={entering:fa.entering,leaf:!C.isContainer(Ea),options:na,getChildrenText:F,skipChildren:function(){Wa=!0}};(La=La(Ea,Ya))&&((Array.isArray(La)?La:[La]).forEach(function(ta,za){"openTag"===ta.type&&na.nodeId&&0===za&&(ta.attributes||(ta.attributes={}),ta.attributes["data-nodeid"]=String(Ea.id));(function(Ha,ya){switch(Ha.type){case "openTag":case "closeTag":!function(da,t){"openTag"===
da.type?(da.outerNewLine&&I(t),t.push(function(P){var X=[],sa=P.tagName,Da=P.classNames,Aa=P.attributes;X.push("<"+sa);Da&&0<Da.length&&X.push(' class="'+Da.join(" ")+'"');Aa&&Object.keys(Aa).forEach(function(Ba){X.push(" "+Ba+'="'+Aa[Ba]+'"')});P.selfClose&&X.push(" /");X.push(">");P.finalize&&X.push("</"+sa+">");return X.join("")}(da)),da.selfClose?da.outerNewLine&&I(t):da.innerNewLine&&I(t)):(da.innerNewLine&&I(t),t.push("</"+da.tagName+">"),da.outerNewLine&&I(t))}(Ha,ya);break;case "text":ya.push(A.escapeXml(Ha.content));
!0;break;case "html":!function(da,t){da.outerNewLine&&I(t);t.push(da.content);da.outerNewLine&&I(t)}(Ha,ya)}})(ta,Y)}),Wa&&(Z.resumeAt(Ea,!1),Z.next()))};fa=Z.next();)ca();return I(Y),Y.join("")}(ka,W,S)}}},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.baseConvertors=void 0;var I=R(0),F=R(2),L=R(30);u.baseConvertors={heading:function(C,A){return{type:A.entering?"openTag":"closeTag",tagName:"h"+C.level,outerNewLine:!0}},text:function(C){return{type:"text",content:C.literal}},softbreak:function(C,
A){return{type:"html",content:A.options.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(C,A){return{type:A.entering?"openTag":"closeTag",tagName:"em"}},strong:function(C,A){return{type:A.entering?"openTag":"closeTag",tagName:"strong"}},paragraph:function(C,A){var G,D=A.entering;A=A.skipChildren;var H=null===(G=C.parent)||void 0===G?void 0:G.parent;G=!1;return H&&"list"===H.type&&H.listData.tight?null:(C.customType&&(G=!0,A()),{type:D?"openTag":"closeTag",tagName:"p",
outerNewLine:!0,finalize:G})},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(C,A){return{type:A.entering?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(C,A){A=A.entering;var G=C.listData;C=G.start;G="bullet"===G.type?"ul":"ol";var D={};return"ol"===G&&null!==C&&1!==C&&(D.start=C.toString()),{type:A?"openTag":"closeTag",tagName:G,attributes:D,outerNewLine:!0}},item:function(C,A){return{type:A.entering?
"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(C,A){return{type:"html",content:A.options.tagFilter?L.filterDisallowedTags(C.literal):C.literal}},htmlBlock:function(C,A){A=A.options;C=A.tagFilter?L.filterDisallowedTags(C.literal):C.literal;return A.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:C},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:C,outerNewLine:!0}},code:function(C){return[{type:"openTag",tagName:"code"},{type:"text",
content:C.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(C){var A=C.info;A=A?A.split(/\s+/):[];var G=[];return 0<A.length&&0<A[0].length&&G.push("language-"+F.escapeXml(A[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:G},{type:"text",content:C.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(C,A){return A.entering?(A=C.title,{type:"openTag",tagName:"a",attributes:I.__assign({href:F.escapeXml(C.destination)},
A&&{title:F.escapeXml(A)})}):{type:"closeTag",tagName:"a"}},image:function(C,A){var G=A.getChildrenText;A=A.skipChildren;var D=C.title,H=C.destination;return A(),{type:"openTag",tagName:"img",selfClose:!0,attributes:I.__assign({src:F.escapeXml(H),alt:G(C)},D&&{title:F.escapeXml(D)})}}}},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.filterDisallowedTags=void 0;var I=/<(\/?(?:title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)[^>]*>)/ig;u.filterDisallowedTags=function(F){return I.test(F)?
F.replace(I,function(L,C){return"&lt;"+C}):F}},function(y,u,R){Object.defineProperty(u,"__esModule",{value:!0});u.gfmConvertors=void 0;var I=R(0);u.gfmConvertors={strike:function(F,L){return{type:L.entering?"openTag":"closeTag",tagName:"del"}},item:function(F,L){var C=F.listData;F=C.checked;C=C.task;return L.entering?(L={type:"openTag",tagName:"li",outerNewLine:!0},C?[L,{type:"openTag",tagName:"input",selfClose:!0,attributes:I.__assign(I.__assign({},F&&{checked:""}),{disabled:"",type:"checkbox"})},
{type:"text",content:" "}]:L):{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(F,L){return{type:L.entering?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(F,L){return{type:L.entering?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(F,L){return{type:L.entering?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(F,L){if(L.entering)return{type:"openTag",tagName:"tr",outerNewLine:!0};L=[];if(F.lastChild){var C=F.parent.parent.columns.length;
for(F=F.lastChild.endIdx+1;F<C;F+=1)L.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0})}return L.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),L},tableCell:function(F,L){if(F.ignored)return{type:"text",content:""};var C=F.parent.parent,A="tableHead"===C.type?"th":"td";F=(F=(F=C.parent.columns[F.startIdx])&&"left"!==F.align?F.align:null)?{align:F}:null;return L.entering?I.__assign({type:"openTag",tagName:A,outerNewLine:!0},F&&{attributes:F}):
{type:"closeTag",tagName:A,outerNewLine:!0}}}}]))},function(ba,ja,y){ba=y(14);var u=y.n(ba);ba=y(21);var R=y.n(ba);y=function(){function I(){this._keys=[];this._values=[]}var F=I.prototype;F._getKeyIndex=function(L){return u()(L,this._keys)};F.get=function(L){return this._values[this._getKeyIndex(L)]};F.set=function(L,C){var A=this._getKeyIndex(L);-1<A?this._values[A]=C:(this._keys.push(L),this._values.push(C))};F.has=function(L){return-1<this._getKeyIndex(L)};F.delete=function(L){L=this._getKeyIndex(L);
-1<L&&(this._keys.splice(L,1),this._values.splice(L,1))};F.forEach=function(L,C){var A=this;void 0===C&&(C=this);R()(this._values,function(G,D){G&&A._keys[D]&&L.call(C,G,A._keys[D],A)})};return I}();ja.a=y},function(ba,ja,y){function u(G,D){A[G]=A[G]||{};A[G].height=D}function R(G,D){A[G]=A[G]||{};A[G].offsetTop=D}function I(G){return A[G]&&A[G].height}function F(G){return A[G]&&A[G].offsetTop}function L(G){G&&(delete A[G.getAttribute("data-nodeid")],C()(G.children).forEach(function(D){L(D)}))}y.d(ja,
"d",function(){return u});y.d(ja,"e",function(){return R});y.d(ja,"a",function(){return I});y.d(ja,"b",function(){return F});y.d(ja,"c",function(){return L});ba=y(3);var C=y.n(ba),A={}},function(ba,ja,y){function u(K){C.a.findAll(K,"script, iframe, textarea, form, button, select, input, meta, style, link, title, embed, object, details, summary").forEach(function(S){C.a.remove(S)})}function R(K,S){F()(S).forEach(function(W){W=W.name;N.test(W)&&(K[W]=null);K.getAttribute(W)&&K.removeAttribute(W)})}
function I(K){C.a.findAll(K,"*").forEach(function(S){var W=S.attributes;W=F()(W).filter(function(T){var ka=T.name;T=T.value;var ca=ka.match(A),oa=ka.match(G),na;if(na=ca)na=ka.match(D)&&T.match(H);return!ca&&!oa||na});R(S,W)})}ba=y(3);var F=y.n(ba);ba=y(9);var L=y.n(ba),C=y(0),A=/^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)/g,
G=/^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)/g,
D=/href|src|background/gi,H=/((java|vb|live)script|x):/gi,N=/^on\S+/;ja.a=function(K,S){var W=document.createElement("div");L()(K)?(K=K.replace(/\x3c!--[\s\S]*?--\x3e/g,""),W.innerHTML=K):W.appendChild(K);u(W);I(W);return C.a.finalizeHtml(W,S)}},function(ba,ja,y){var u=y(17),R=y(21),I=y(10);ba.exports=function(F,L,C){u(F)?R(F,L,C):I(F,L,C)}},function(ba,ja,y){ba.exports=function(u){return u instanceof Function}},function(ba,ja,y){var u=y(8),R=y(48);ba.exports=function(I){return!u(I)&&!R(I)}},function(ba,
ja,y){function u(){u=Object.assign||function(F){for(var L=1;L<arguments.length;L++){var C=arguments[L],A;for(A in C)Object.prototype.hasOwnProperty.call(C,A)&&(F[A]=C[A])}return F};return u.apply(this,arguments)}function R(F,L){var C=u({},I);F&&(C.link=function(A,G){A=G.entering;G=G.origin;G=G();A&&(G.attributes=u({},G.attributes,F));return G});L&&Object.keys(L).forEach(function(A){var G=C[A],D=L[A];C[A]=G?function(H,N){var K=u({},N);K.origin=function(){return G(H,N)};return D(H,K)}:D});return C}
y.d(ja,"a",function(){return R});var I={paragraph:function(F,L){var C=L.entering,A=L.origin;L=L.options;var G=L.customProp;G=(void 0===G?{}:G).showFrontMatter&&F.customType;return L.nodeId&&!F.customType||G?{type:C?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:A()},softbreak:function(F){return{type:"html",content:F.prev&&"htmlInline"===F.prev.type&&/<br ?\/?>/.test(F.prev.literal)?"\n":"<br>\n"}},item:function(F,L){if(L.entering){L={};var C=[];F.listData.task&&(L["data-te-task"]="",C.push("task-list-item"),
F.listData.checked&&C.push("checked"));return{type:"openTag",tagName:"li",classNames:C,attributes:L,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(F){return[{type:"openTag",tagName:"code",attributes:{"data-backticks":F.tickCount}},{type:"text",content:F.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(F){var L=F.info?F.info.split(/\s+/):[],C=[],A={};3<F.fenceLength&&(A["data-backticks"]=F.fenceLength);0<L.length&&0<L[0].length&&(L=L[0],C.push("lang-"+
L),A["data-language"]=L);return[{type:"openTag",tagName:"pre",classNames:C},{type:"openTag",tagName:"code",attributes:A},{type:"text",content:F.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]}}},function(ba,ja,y){ba=function(){function u(){this._replacers={}}var R=u.prototype;R.setReplacer=function(I,F){I=I.toLowerCase();this._replacers[I]=F};R.getReplacer=function(I){return this._replacers[I]};R.createCodeBlockHtml=function(I,F){I=I.toLowerCase();var L=this.getReplacer(I);
return L?L(F,I):F.replace(/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};return u}();ja.a=new ba},function(ba,ja,y){function u(){u=Object.assign||function(C){for(var A=1;A<arguments.length;A++){var G=arguments[A],D;for(D in G)Object.prototype.hasOwnProperty.call(G,D)&&(C[D]=G[D])}return C};return u.apply(this,arguments)}function R(C,A){C.forEach(function(G){if(L()(G))G(A);else if(F()(G)){var D=G[1];(0,G[0])(A,void 0===D?{}:D)}})}function I(C){return C?
C.reduce(function(A,G){var D=F()(G)?G[0]:G;if(!L()(D)){var H=D.renderer,N=D.parser;D=D.pluginFn;G=F()(G)?[D,G[1]]:D;H&&(A.renderer=u({},A.renderer,H));N&&(A.parser=u({},A.parser,N))}A.plugins.push(G);return A},{plugins:[],renderer:{},parser:{}}):{}}y.d(ja,"b",function(){return R});y.d(ja,"a",function(){return I});ba=y(17);var F=y.n(ba);ba=y(27);var L=y.n(ba)},function(ba,ja,y){(function(u,R){ba.exports=R()})(window,function(){return function(u){function R(F){if(I[F])return I[F].exports;var L=I[F]=
{i:F,l:!1,exports:{}};u[F].call(L.exports,L,L.exports,R);L.l=!0;return L.exports}var I={};R.m=u;R.c=I;R.d=function(F,L,C){R.o(F,L)||Object.defineProperty(F,L,{enumerable:!0,get:C})};R.r=function(F){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(F,Symbol.toStringTag,{value:"Module"});Object.defineProperty(F,"__esModule",{value:!0})};R.t=function(F,L){L&1&&(F=R(F));if(L&8||L&4&&"object"===typeof F&&F&&F.__esModule)return F;var C=Object.create(null);R.r(C);Object.defineProperty(C,
"default",{enumerable:!0,value:F});if(L&2&&"string"!=typeof F)for(var A in F)R.d(C,A,function(G){return F[G]}.bind(null,A));return C};R.n=function(F){var L=F&&F.__esModule?function(){return F["default"]}:function(){return F};R.d(L,"a",L);return L};R.o=function(F,L){return Object.prototype.hasOwnProperty.call(F,L)};R.p="";return R(R.s=0)}([function(u,R,I){function F(ha){if("[object String]"===Object.prototype.toString.call(ha)){var ra=document.createElement("div");ra.innerHTML=L(ha)}else ra=ha;ra.__htmlRootByToMark=
!0;return ra}function L(ha){ha=ha.replace(ca,"");ha=ha.replace(oa,"><");return ha=ha.replace(na,"> <")}function C(ha,ra,qa){ra in ha?Object.defineProperty(ha,ra,{value:qa,enumerable:!0,configurable:!0,writable:!0}):ha[ra]=qa;return ha}function A(ha,ra,qa){var va;qa=qa||null;for(va in ha)if(ha.hasOwnProperty(va)&&!1===ra.call(qa,ha[va],va,ha))break}function G(ha){ha=ha.tagName;return"S"===ha||"B"===ha||"I"===ha||"EM"===ha||"STRONG"===ha||"A"===ha||"IMG"===ha||"CODE"===ha}function D(ha,ra){A(ra,function(qa,
va){"converter"!==va?(ha[va]||(ha[va]={}),D(ha[va],qa)):ha[va]=qa})}function H(ha,ra){-1!==ha.className.indexOf("task-list-item")&&(ha=-1!==ha.className.indexOf("checked")?"x":" ",ra="["+ha+"] "+ra);return ra}function N(ha,ra){ha=ha.childNodes;for(var qa=[],va=0,Ma=ha.length;va<Ma;va+=1)ha[va].tagName&&ha[va].tagName===ra&&qa.push(ha[va]);return qa}function K(ha,ra){var qa=!0;if(!ha)return"";var va=X;ra&&(qa=ra.gfm,!1===qa&&(va=P),va=ra.renderer||va);ha=new ka(F(ha));ra=va;for(var Ma="";ha.next();)Ma+=
W(ha,ra);return S(Ma,qa,va.lineFeedReplacement)}function S(ha,ra,qa){ha=ha.replace(sa,"\n");ha=ha.replace(Aa,"\n\n");ha=ha.replace(Qa,function(va){return 3<=(va.match(/\n/g)||[]).length?"\n\n":1<=va?"\n":va});ha=ha.replace(Da,"");ha=ha.replace(new RegExp(qa,"g"),"\n");ra&&(ha=ha.replace(Ba,"\n"));return ha}function W(ha,ra){for(var qa="",va=ha.getNode(),Ma=0,Ga=va.childNodes.length;Ma<Ga;Ma+=1)ha.next(),qa+=W(ha,ra);return ra.convert(va,qa)}I.r(R);var T={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3},
ka=function(){function ha(qa){this._normalizeTextChildren(qa);this._current=this._root=qa}var ra=ha.prototype;ra.next=function(){var qa=this._current,va;if(this._current){for(va=this._getNextNode(qa);this._isNeedNextSearch(va,qa);)qa=qa.parentNode,va=qa.nextSibling;this._current=va}return this._current};ra.getNode=function(){this._normalizeTextChildren(this._current);return this._current};ra._normalizeTextChildren=function(qa){if(qa&&!(2>qa.childNodes.length))for(var va=qa.firstChild,Ma;va.nextSibling;)Ma=
va.nextSibling,va.nodeType===T.TEXT_NODE&&Ma.nodeType===T.TEXT_NODE?(va.nodeValue+=Ma.nodeValue,qa.removeChild(Ma)):va=Ma};ra.getNodeText=function(){var qa=this.getNode();return qa.nodeType===T.TEXT_NODE?qa.nodeValue:qa.textContent||qa.innerText};ra._isNeedNextSearch=function(qa,va){return!qa&&va!==this._root&&va.parentNode!==this._root};ra._getNextNode=function(qa){return qa.firstChild||qa.nextSibling};return ha}();(function(ha,ra,qa){ra in ha?Object.defineProperty(ha,ra,{value:qa,enumerable:!0,
configurable:!0,writable:!0}):ha[ra]=qa;return ha})(ka,"NODE_TYPE",T);var ca=/^[\s\r\n\t]+|[\s\r\n\t]+$/g,oa=/>[\r\n\t]+</g,na=/>[ ]+</g;F.preProcess=L;var Y=/^\u0020/,Z=/.+\u0020$/,fa=/[\n\s\t]+/g,Ea=/^[\u0020\r\n\t]+|[\u0020\r\n\t]+$/g,La=/[\u0020]+/g,Wa=/[>(){}[\]+-.!#|]/g,Ya=/[[\]]/g,ta=/!\[.*\]\(.*\)/g;u=function(){function ha(qa){this.rules={};this.lineFeedReplacement="\u200b\u200b";qa&&this.addRules(qa)}var ra=ha.prototype;ra.addRule=function(qa,va){var Ma=qa.split(", "),Ga=Ma.pop();for(va.fname=
qa;Ga;)this._setConverterWithSelector(Ga,va),Ga=Ma.pop()};ra.addRules=function(qa){A(qa,function(va,Ma){this.addRule(Ma,va)},this)};ra.getSpaceControlled=function(qa,va){var Ma="",Ga="";if(va.previousSibling&&(3===va.previousSibling.nodeType||G(va.previousSibling))){var ob=va.previousSibling.innerHTML||va.previousSibling.nodeValue;if(Z.test(ob)||Y.test(va.innerHTML||va.nodeValue))Ma=" "}va.nextSibling&&(3===va.nextSibling.nodeType||G(va.nextSibling))&&(ob=va.nextSibling.innerHTML||va.nextSibling.nodeValue,
Y.test(ob)||Z.test(va.innerHTML||va.nodeValue))&&(Ga=" ");return Ma+qa+Ga};ra.convert=function(qa,va){var Ma=this._getConverter(qa);if(qa&&qa.nodeType===Node.ELEMENT_NODE&&qa.hasAttribute("data-tomark-pass")){qa.removeAttribute("data-tomark-pass");qa=qa.cloneNode(!1);qa.innerHTML=va;var Ga=qa.outerHTML}else Ma?Ga=Ma.call(this,qa,va):qa&&(Ga=this.getSpaceControlled(this._getInlineHtml(qa,va),qa));return Ga||""};ra._getInlineHtml=function(qa,va){var Ma=qa.outerHTML;qa=qa.tagName;va=va.replace(/\$/g,
"$$$$");return Ma.replace(new RegExp("(<"+qa+" ?.*?>).*(</"+qa+">)","i"),"$1"+va+"$2")};ra._getConverter=function(qa){for(var va=this.rules,Ma;qa&&va;)va=this._getNextRule(va,this._getRuleNameFromNode(qa)),qa=this._getPrevNode(qa),va&&va.converter&&(Ma=va.converter);return Ma};ra._getNextRule=function(qa,va){return qa[va]};ra._getRuleNameFromNode=function(qa){return qa.tagName||"TEXT_NODE"};ra._getPrevNode=function(qa){qa=qa.parentNode;var va;qa&&!qa.__htmlRootByToMark&&(va=qa);return va};ra._setConverterWithSelector=
function(qa,va){var Ma=this.rules;this._eachSelector(qa,function(Ga){Ma[Ga]||(Ma[Ga]={});Ma=Ma[Ga]});Ma.converter=va};ra._eachSelector=function(qa,va){qa=qa.split(" ");for(var Ma=qa.length-1;0<=Ma;)va(qa[Ma]),--Ma};ra.trim=function(qa){return qa.replace(Ea,"")};ra.isEmptyText=function(qa){return""===qa.replace(fa,"")};ra.getSpaceCollapsedText=function(qa){return qa.replace(La," ")};ra.escapeText=function(qa){return qa.replace(Wa,function(va){return"\\"+va})};ra.escapeTextForLink=function(qa){for(var va=
[],Ma=ta.exec(qa);Ma;)va.push([Ma.index,Ma.index+Ma[0].length]),Ma=ta.exec(qa);return qa.replace(Ya,function(Ga,ob){return va.some(function(Rb){return ob>Rb[0]&&ob<Rb[1]})?Ga:"\\"+Ga})};ra.escapeTextHtml=function(qa){return qa.replace(new RegExp(ha.markdownTextToEscapeHtmlRx.source,"g"),function(va){return"\\"+va})};ra.escapeTextBackSlash=function(qa){return qa.replace(new RegExp(ha.markdownTextToEscapeBackSlashRx.source,"g"),function(va){return"\\"+va})};ra.escapePairedCharacters=function(qa){return qa.replace(new RegExp(ha.markdownTextToEscapePairedCharsRx.source,
"g"),function(va){return"\\"+va})};ra._isNeedEscape=function(qa){var va=!1,Ma=ha.markdownTextToEscapeRx,Ga;for(Ga in Ma)if(Ma.hasOwnProperty(Ga)&&Ma[Ga].test(qa)){va=!0;break}return va};ra._isNeedEscapeHtml=function(qa){return ha.markdownTextToEscapeHtmlRx.test(qa)};ra._isNeedEscapeBackSlash=function(qa){return ha.markdownTextToEscapeBackSlashRx.test(qa)};ra.mix=function(qa){D(this.rules,qa.rules)};ha.factory=function(qa,va){var Ma=new ha;va?Ma.mix(qa):va=qa;Ma.addRules(va);return Ma};return ha}();
C(u,"markdownTextToEscapeRx",{codeblock:/(^ {4}[^\n]+\n*)+/,hr:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,heading:/^(#{1,6}) +[\s\S]+/,lheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,codeblockGfm:/^(`{3,})/,codeblockTildes:/^(~{3,})/});C(u,"markdownTextToEscapeHtmlRx",/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|\x3c!--[^-]+--\x3e|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/);
C(u,"markdownTextToEscapeBackSlashRx",/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/);C(u,"markdownTextToEscapePairedCharsRx",/[*_~`]/);var za=/\n$/g,Ha=/[ \xA0]+\n\n/g,ya=/([ \xA0]+\n){2,}/g,da=/href="(.*?)"/,t=/^/gm,P=u.factory({TEXT_NODE:function(ha){var ra=this.trim(this.getSpaceCollapsedText(ha.nodeValue));this._isNeedEscapeBackSlash(ra)&&(ra=this.escapeTextBackSlash(ra));ra=this.escapePairedCharacters(ra);this._isNeedEscapeHtml(ra)&&(ra=this.escapeTextHtml(ra));this._isNeedEscape(ra)&&(ra=this.escapeText(ra));
return this.getSpaceControlled(ra,ha)},"CODE TEXT_NODE":function(ha){return ha.nodeValue},"EM, I":function(ha,ra){ha="";this.isEmptyText(ra)||(ha="*"+ra+"*");return ha},"STRONG, B":function(ha,ra){ha="";this.isEmptyText(ra)||(ha="**"+ra+"**");return ha},A:function(ha,ra){var qa=ra,va="",Ma,Ga=da.exec(ha.outerHTML);Ga&&(Ma=Ga[1].replace(/&amp;/g,"&"));ha.title&&(va=' "'+ha.title+'"');!this.isEmptyText(ra)&&Ma&&(qa="["+this.escapeTextForLink(ra)+"]("+Ma+va+")");return qa},IMG:function(ha){var ra=ha.getAttribute("src");
ha=ha.alt;return ra?"!["+this.escapeTextForLink(ha)+"]("+ra+")":""},BR:function(){return"  \n"},CODE:function(ha,ra){var qa="";this.isEmptyText(ra)||(ha=parseInt(ha.getAttribute("data-backticks"),10),ha=isNaN(ha)?"`":Array(ha+1).join("`"),qa=ha+ra+ha);return qa},P:function(ha,ra){ha="";ra=ra.replace(ya,"  \n");this.isEmptyText(ra)||(ha="\n\n"+ra+"\n\n");return ha},"BLOCKQUOTE P":function(ha,ra){return ra},"LI P":function(ha,ra){ha="";this.isEmptyText(ra)||(ha=ra);return ha},"H1, H2, H3, H4, H5, H6":function(ha,
ra){var qa="";for(ha=parseInt(ha.tagName.charAt(1),10);ha;)qa+="#",--ha;return"\n\n"+(qa+" "+ra)+"\n\n"},"LI H1, LI H2, LI H3, LI H4, LI H5, LI H6":function(ha,ra){ha=parseInt(ha.tagName.charAt(1),10);return Array(ha+1).join("#")+" "+ra},"UL, OL":function(ha,ra){return"\n\n"+ra+"\n\n"},"LI OL, LI UL":function(ha,ra){ha=ra.replace(Ha,"\n");ha=ha.replace(za,"");return"\n"+ha.replace(t,"    ")},"UL LI":function(ha,ra){var qa="";ra=ra.replace(ya,"  \n");ha.firstChild&&"P"===ha.firstChild.tagName&&(qa+=
"\n");return qa+("* "+ra+"\n")},"OL LI":function(ha,ra){for(var qa="",va=parseInt(ha.parentNode.getAttribute("start")||1,10);ha.previousSibling;)ha=ha.previousSibling,1===ha.nodeType&&"LI"===ha.tagName&&(va+=1);ra=ra.replace(ya,"  \n");ha.firstChild&&"P"===ha.firstChild.tagName&&(qa+="\n");return qa+(va+". "+ra+"\n")},HR:function(){return"\n\n- - -\n\n"},BLOCKQUOTE:function(ha,ra){ra=ra.replace(ya,"\n\n");return"\n\n"+this.trim(ra).replace(t,"> ")+"\n\n"},"PRE CODE":function(ha,ra){return"\n\n"+ra.replace(za,
"").replace(t,"    ")+"\n\n"}}),X=u.factory(P,{"DEL, S":function(ha,ra){return"~~"+ra+"~~"},"PRE CODE":function(ha,ra){var qa="",va=ha.getAttribute("data-backticks");ha.getAttribute("data-language")&&(qa=" "+ha.getAttribute("data-language"));va=parseInt(va,10);ha=isNaN(va)?"```":Array(va+1).join("`");ra=ra.replace(/(\r\n)|(\r)|(\n)/g,this.lineFeedReplacement);return"\n\n"+ha+qa+"\n"+ra+"\n"+ha+"\n\n"},PRE:function(ha,ra){return ra},"UL LI":function(ha,ra){return P.convert(ha,H(ha,ra))},"OL LI":function(ha,
ra){return P.convert(ha,H(ha,ra))},TABLE:function(ha,ra){return"\n\n"+ra+"\n\n"},"TBODY, TFOOT":function(ha,ra){return ra},"TR TD, TR TH":function(ha,ra){ra=ra.replace(/(\r\n)|(\r)|(\n)/g,"");return" "+ra+" |"},"TD BR, TH BR":function(){return"<br>"},TR:function(ha,ra){return"|"+ra+"\n"},THEAD:function(ha,ra){var qa="";ha=N(N(ha,"TR")[0],"TH");for(var va=0,Ma=ha.length;va<Ma;va+=1){var Ga;var ob=ha[va];var Rb=ob.align;var Kb=ob.textContent?ob.textContent.length:ob.innerText.length;ob=Ga="";Rb&&("left"===
Rb?(Ga=":",--Kb):"right"===Rb?(ob=":",--Kb):"center"===Rb&&(Ga=ob=":",Kb-=2));Rb=Ga;Ga="-";for(Kb=Math.max(Kb,3);1<Kb;)Ga+="-",--Kb;qa+=" "+(Rb+Ga+ob)+" |"}return ra?ra+"|"+qa+"\n":""}}),sa=/[ \xA0]+(\n\n)/g,Da=/^[\n]+|[\s\n]+$/g,Aa=/([ \xA0]+\n){2,}/g,Ba=/([ \xA0]){2,}\n/g,Qa=/[ \xA0\n]+/g;K.Renderer=u;K.basicRenderer=P;K.gfmRenderer=X;R["default"]=K}])["default"]})},function(ba,ja,y){var u=y(8);ba.exports=function(R){return R&&R.className?u(R.className.baseVal)?R.className:R.className.baseVal:""}},
function(ba,ja,y){ba.exports=function(u){return"number"===typeof u||u instanceof Number}},function(ba,ja,y){function u(W){if(void 0===W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function R(W,T){W.prototype=Object.create(T.prototype);W.prototype.constructor=W;W.__proto__=T}function I(W,T){T=T.ch;for(W=W.firstChild;W&&W.next&&!(Object(S.e)(W.next)>T+1);)W=W.next;return W}ba=y(19);var F=y.n(ba);ba=y(20);var L=y.n(ba);ba=y(5);var C=y.n(ba);ba=y(6);
var A=y.n(ba),G=y(22);y.n(G);ba=y(38);var D=y(0),H=y(29),N=y(18),K=y(24),S=y(2);y=function(W){function T(ca,oa,na,Y){ca=W.call(this,ca,oa,na,Y.isViewer)||this;ca.lazyRunner.registerLazyRunFunction("invokeCodeBlock",ca.invokeCodeBlockPlugins,ca.delayCodeBlockTime,u(ca));oa=Y.highlight;oa=void 0===oa?!1:oa;ca.renderHTML=Object(G.createRenderHTML)({gfm:!0,nodeId:!0,convertors:Object(H.a)(Y.linkAttribute,Y.customHTMLRenderer)});ca.cursorNodeId=null;ca._initEvent(oa);return ca}R(T,W);var ka=T.prototype;
ka._initEvent=function(ca){var oa=this;this.eventManager.listen("contentChangedFromMarkdown",this.update.bind(this));ca&&(this.eventManager.listen("cursorActivity",function(na){oa._updateCursorNode(na.markdownNode,na.cursor)}),this.eventManager.listen("blur",function(){oa._removeHighlight()}));F()(this.el,"scroll",function(na){oa.eventManager.emit("scroll",{source:"preview",data:Object(N.a)(na.target.scrollTop,oa._previewContent)})})};ka._removeHighlight=function(){if(this.cursorNodeId){var ca=this._getElementByNodeId(this.cursorNodeId);
ca&&A()(ca,"te-preview-highlight")}};ka._updateCursorNode=function(ca,oa){ca&&(ca=Object(S.b)(ca,function(Z){return!Object(S.h)(Z)}),"tableRow"===ca.type?ca=I(ca,oa):"tableBody"===ca.type&&(ca=null));oa=ca?ca.id:null;if(this.cursorNodeId!==oa){ca=ca&&"frontMatter"===ca.customType;var na=this._getElementByNodeId(this.cursorNodeId),Y=this._getElementByNodeId(oa);na&&A()(na,"te-preview-highlight");Y&&!ca&&C()(Y,"te-preview-highlight");this.cursorNodeId=oa}};ka._getElementByNodeId=function(ca){return ca?
this._previewContent.querySelector('[data-nodeid="'+ca+'"]'):null};ka.update=function(ca){var oa=this;ca.forEach(function(na){return oa.replaceRangeNodes(na)});this.eventManager.emit("previewRenderAfter",this)};ka.replaceRangeNodes=function(ca){var oa=this,na=ca.nodes,Y=ca.removedNodeRange,Z=this._previewContent;ca=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",na.map(function(fa){return oa.renderHTML(fa)}).join(""));if(Y){if(Z=Y.id,Y=Z[1],Z=this._getElementByNodeId(Z[0]),Y=
this._getElementByNodeId(Y),Z){Z.insertAdjacentHTML("beforebegin",ca);for(ca=Z;ca!==Y;)Z=ca.nextElementSibling,ca.parentNode.removeChild(ca),Object(K.c)(ca),ca=Z;ca.parentNode&&(D.a.remove(ca),Object(K.c)(ca))}}else Z.insertAdjacentHTML("afterbegin",ca);na=this.getCodeBlockElements(na.map(function(fa){return fa.id}));na.length&&this.lazyRunner.run("invokeCodeBlock",na)};ka.render=function(ca){W.prototype.render.call(this,ca);this.eventManager.emit("previewRenderAfter",this)};ka.remove=function(){L()(this.el,
"scroll");this.el=null};return T}(ba.a);ja.a=y},function(ba,ja,y){ba=y(10);var u=y.n(ba);ba=y(8);var R=y.n(ba);ba=y(44);var I=y.n(ba);ba=y(45);var F=y.n(ba),L=y(23),C="previewBeforeHook previewRenderAfter previewNeedsRefresh addImageBlobHook setMarkdownAfter contentChangedFromWysiwyg changeFromWysiwyg contentChangedFromMarkdown changeFromMarkdown change changeModeToWysiwyg changeModeToMarkdown changeModeBefore changeMode changePreviewStyle changePreviewTabPreview changePreviewTabWrite openPopupAddLink openPopupAddImage openPopupAddTable openPopupTableUtils openHeadingSelect openPopupCodeBlockLanguages openPopupCodeBlockEditor openDropdownToolbar closePopupCodeBlockLanguages closePopupCodeBlockEditor closeAllPopup command addCommandBefore htmlUpdate markdownUpdate renderedHtmlUpdated removeEditor convertorAfterMarkdownToHtmlConverted convertorBeforeHtmlToMarkdownConverted convertorAfterHtmlToMarkdownConverted stateChange wysiwygSetValueAfter wysiwygSetValueBefore wysiwygGetValueBefore wysiwygProcessHTMLText wysiwygRangeChangeAfter wysiwygKeyEvent scroll click mousedown mouseover mouseout mouseup contextmenu keydown keyup keyMap load focus blur paste pasteBefore willPaste copy copyBefore copyAfter cut cutAfter drop show hide changeLanguage cursorActivity requireScrollSync requireScrollIntoView setCodeBlockLanguages".split(" ");
y=function(){function A(){this.events=new L.a;this.TYPE=new F.a(C)}var G=A.prototype;G.listen=function(D,H){D=this._getTypeInfo(D);var N=this.events.get(D.type)||[];if(!this._hasEventType(D.type))throw Error("There is no event type "+D.type);D.namespace&&(H.namespace=D.namespace);N.push(H);this.events.set(D.type,N)};G.emit=function(){for(var D=arguments.length,H=Array(D),N=0;N<D;N++)H[N]=arguments[N];D=H.shift();D=this._getTypeInfo(D);D=this.events.get(D.type);var K;D&&u()(D,function(S){S=S.apply(void 0,
H);R()(S)||(K=K||[],K.push(S))});return K};G.emitReduce=function(){for(var D=arguments.length,H=Array(D),N=0;N<D;N++)H[N]=arguments[N];D=H.shift();(D=this.events.get(D))&&u()(D,function(K){K=K.apply(void 0,H);I()(K)||(H[0]=K)});return H[0]};G._getTypeInfo=function(D){D=D.split(".");return{type:D[0],namespace:D[1]}};G._hasEventType=function(D){return!R()(this.TYPE[this._getTypeInfo(D).type])};G.addEventType=function(D){if(this._hasEventType(D))throw Error("There is already have event type "+D);this.TYPE.set(D)};
G.removeEventHandler=function(D,H){var N=this;D=this._getTypeInfo(D);var K=D.type,S=D.namespace;K&&H?this._removeEventHandlerWithHandler(K,H):K&&!S?this.events.delete(K):!K&&S?this.events.forEach(function(W,T){N._removeEventHandlerWithTypeInfo(T,S)}):K&&S&&this._removeEventHandlerWithTypeInfo(K,S)};G._removeEventHandlerWithHandler=function(D,H){D=this.events.get(D)||[];H=D.indexOf(H);0<=H&&D.splice(H,1)};G._removeEventHandlerWithTypeInfo=function(D,H){var N=[],K=this.events.get(D);K&&(K.map(function(S){S.namespace!==
H&&N.push(S);return null}),this.events.set(D,N))};return A}();ja.a=y},function(ba,ja,y){ba=y(32);var u=y.n(ba),R=y(22);y.n(R);var I=y(29),F=y(0),L=/(\\<|<)([A-Za-z][A-Za-z0-9\-]*(?:\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\s*=\s*(?:[^"'=<>`\x00-\x20]+|'[^']*'|"[^"]*"))?)*\s*)(\/?>)/g,C=/^\s?\\-\\-\\-([\s\S]+?)\\-\\-\\-/;y=function(){function A(D,H){void 0===H&&(H={});var N=H,K=N.linkAttribute,S=N.customHTMLRenderer,W=N.extendedAutolinks,T=N.referenceDefinition,ka=N.customParser,ca=N.frontMatter;N=N.customProp;
this.options=H;this.mdReader=new R.Parser({extendedAutolinks:W,disallowedHtmlBlockTags:["br"],referenceDefinition:T,disallowDeepHeading:!0,customParser:ka,frontMatter:ca});this.renderHTML=Object(R.createRenderHTML)({gfm:!0,convertors:Object(I.a)(K,S),customProp:N});this.eventManager=D}var G=A.prototype;G._markdownToHtmlWithCodeHighlight=function(D){return this.renderHTML(this.mdReader.parse(D))};G._markdownToHtml=function(D){D=D.replace(L,function(H,N,K,S){return"\\"!==H[0]?""+N+K+" data-tomark-pass "+
S:H});return this.renderHTML(this.mdReader.parse(D))};G._removeBrToMarkPassAttributeInCode=function(D){D=F.a.createElementWith("<div>"+D+"</div>");F.a.findAll(D,"code, pre").forEach(function(H){H.innerHTML=H.innerHTML.replace(/\sdata-tomark-pass\s(\/?)&gt;/g,"$1&gt;")});return D=D.innerHTML};G.toHTMLWithCodeHighlight=function(D){D=this._markdownToHtmlWithCodeHighlight(D);return D=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",D)};G.toHTML=function(D){D=this._markdownToHtml(D);
D=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",D);return D=this._removeBrToMarkPassAttributeInCode(D)};G.initHtmlSanitizer=function(D){this.eventManager.listen("convertorAfterMarkdownToHtmlConverted",function(H){return D(H,!0)})};G.toMarkdown=function(D,H){var N=[];D=this.eventManager.emitReduce("convertorBeforeHtmlToMarkdownConverted",D);D=this._appendAttributeForLinkIfNeed(D);D=this._appendAttributeForBrIfNeed(D);D=u()(D,H);this.options.frontMatter&&(D=D.replace(C,"---$1---"));
D=this.eventManager.emitReduce("convertorAfterHtmlToMarkdownConverted",D);D=this._removeNewlinesBeforeAfterAndBlockElement(D);D.split("\n").forEach(function(K,S){var W=/`[^`]*<br>[^`]*`/gi,T=/^(<br>)+\|/gi;/^(<br>)+\||\|[^|]*\|/gi.test(K)?K=K.replace(T,function(ka){return ka.replace(/<br>/gi,"<br>\n")}):W.test(K)||(K=K.replace(/<br>/gi,"<br>\n"));N[S]=K});return N.join("\n")};G._removeNewlinesBeforeAfterAndBlockElement=function(D){D=D.replace(/<br>\n\n(#{1,6} .*|```|\||(\*+|-+|\d+\.) .*| *>[^\n]+.*)/g,
"<br>$1");return D=D.replace(/(#{1,6} .*|```|\|)\n\n<br>/g,"$1\n<br>")};G._appendAttributeForLinkIfNeed=function(D){return D.replace(/!?\[.*\]\(<\s*a[^>]*>(.*?)<\s*\/\s*a>\)/gi,function(H){return H.replace(/<a /gi,'<a data-tomark-pass="" ')})};G._appendAttributeForBrIfNeed=function(D){var H=new RegExp(/([^>]|<\/a>|<\/code>|<\/span>|<\/b>|<\/i>|<\/s>|<img [^>]*>)/.source+/<br data-tomark-pass \/><br data-tomark-pass \/>/.source,"g");D=D.replace(/<br>/gi,"<br />");D=D.replace(/<br \/><br \/>/gi,"<br data-tomark-pass /><br data-tomark-pass />");
D=D.replace(/<br data-tomark-pass="">/gi,"<br data-tomark-pass />");D=D.replace(/<br data-tomark-pass \/><br \/>(.)/gi,"<br data-tomark-pass /><br data-tomark-pass />$1");D=D.replace(H,"$1<br /><br />");D=D.replace(/(.)<br \/><br \/>(<h[1-6]>|<pre>|<table>|<ul>|<ol>|<blockquote>)/g,"$1<br /><br data-tomark-pass />$2");return D=D.replace(/(<\/h[1-6]>|<\/pre>|<\/table>|<\/ul>|<\/ol>|<\/blockquote>)<br \/>(.)/g,"$1<br data-tomark-pass />$2")};return A}();ja.a=y},function(ba,ja,y){ba=y(4);var u=y.n(ba);
ba=y(9);var R=y.n(ba),I=function(){function C(){this.globalTOID=null;this.lazyRunFunctions={}}var A=C.prototype;A.run=function(G,D,H,N){R()(G)?G=this._runRegisteredRun(G,D,H,N):this.globalTOID=G=this._runSingleRun(G,D,H,N,this.globalTOID);return G};A.registerLazyRunFunction=function(G,D,H,N){this.lazyRunFunctions[G]={fn:D,delay:H,context:N||this,TOID:null}};A._runSingleRun=function(G,D,H,N,K){this._clearTOIDIfNeed(K);return K=setTimeout(function(){G.call(H,D)},N)};A._runRegisteredRun=function(G,D,
H,N){G=this.lazyRunFunctions[G];var K=G.fn,S=G.TOID;N=N||G.delay;H=H||G.context;S=this._runSingleRun(K,D,H,N,S);return G.TOID=S};A._clearTOIDIfNeed=function(G){G&&clearTimeout(G)};return C}(),F=y(0),L=y(30);y=function(){function C(G,D,H,N){this.eventManager=D;this.convertor=H;this.el=G;this.isViewer=!!N;this.delayCodeBlockTime=500;this._initContentSection();this.lazyRunner=new I}var A=C.prototype;A._initContentSection=function(){this._previewContent=F.a.createElementWith('<div class="tui-editor-contents"></div>');
this.el.appendChild(this._previewContent)};A.getCodeBlockElements=function(G){var D=this._previewContent,H=[];(G?G.map(function(N){return D.querySelector('[data-nodeid="'+N+'"]')}).filter(Boolean):[D]).forEach(function(N){H.push.apply(H,F.a.findAll(N,"code[data-language]"))});return H};A.invokeCodeBlockPlugins=function(G){G.forEach(function(D){var H=D.getAttribute("data-language");H=L.a.createCodeBlockHtml(H,D.textContent);D.innerHTML=H})};A.refresh=function(G){void 0===G&&(G="");this.render(this.convertor.toHTMLWithCodeHighlight(G));
this.invokeCodeBlockPlugins(this.getCodeBlockElements())};A.getHTML=function(){return this._previewContent.innerHTML};A.setHTML=function(G){this._previewContent.innerHTML=G};A.render=function(G){var D=this._previewContent;G=this.eventManager.emit("previewBeforeHook",G)||G;F.a.empty(D);D.innerHTML=G};A.setHeight=function(G){u()(this.el,{height:G+"px"})};A.setMinHeight=function(G){u()(this.el,{minHeight:G+"px"})};A.isVisible=function(){return"none"!==this.el.style.display};return C}();ja.a=y},function(ba,
ja,y){var u=y(17),R=y(8);ba.exports=function(I,F){F=u(F)?F.join(" "):F;F=F.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");R(I.className.baseVal)?I.className=F:I.className.baseVal=F}},function(ba,ja,y){ba.exports=function(u,R){var I=u._feEventKey;I||(I=u._feEventKey={});(u=I[R])||(u=I[R]=[]);return u}},function(ba,ja,y){},function(ba,ja,y){var u=y(28);ba.exports=function(R){return u(R)&&!1!==R}},function(ba,ja,y){function u(F){return 6048E5<(new Date).getTime()-F}var R=y(8),I=y(49);ba.exports=function(F,
L){var C=location.hostname,A="TOAST UI "+F+" for "+C+": Statistics",G=window.localStorage.getItem(A);if(R(window.tui)||!1!==window.tui.usageStatistics)if(!G||u(G))window.localStorage.setItem(A,(new Date).getTime()),setTimeout(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||I("https://www.google-analytics.com/collect",{v:1,t:"event",tid:L,cid:C,dp:C,dh:F,el:F,ec:"use"})},1E3)}},function(ba,ja,y){var u=y(42);ba.exports=function(R){return!u(R)}},function(ba,ja,y){function u(G){G&&
this.set.apply(this,arguments)}var R=y(34),I=y(17),F=y(3),L=y(26);try{Object.defineProperty({},"x",{});var C=!0}catch(G){C=!1}var A=0;u.prototype.set=function(G){var D=this;I(G)||(G=F(arguments));L(G,function(H){D._addItem(H)})};u.prototype.getName=function(G){var D=this,H;L(this,function(N,K){if(D._isEnumItem(K)&&G===N)return H=K,!1});return H};u.prototype._addItem=function(G){if(!this.hasOwnProperty(G)){var D=this._makeEnumValue();C?Object.defineProperty(this,G,{enumerable:!0,configurable:!1,writable:!1,
value:D}):this[G]=D}};u.prototype._makeEnumValue=function(){var G=A;A+=1;return G};u.prototype._isEnumItem=function(G){return R(this[G])};ba.exports=u},function(ba,ja,y){function u(){u=Object.assign||function(W){for(var T=1;T<arguments.length;T++){var ka=arguments[T],ca;for(ca in ka)Object.prototype.hasOwnProperty.call(ka,ca)&&(W[ca]=ka[ca])}return W};return u.apply(this,arguments)}ba=y(10);var R=y.n(ba);ba=y(7);var I=y.n(ba);ba=y(19);var F=y.n(ba);ba=y(20);var L=y.n(ba),C=y(35),A=y(36),G=y(1),D=
y(37),H=y(0);ba=y(30);var N=y(31),K=y(12),S=y(25);y=function(){function W(ka){var ca=this;this.options=I()({useDefaultHTMLSanitizer:!0,linkAttribute:null,extendedAutolinks:!1,customConvertor:null,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1},ka);this.codeBlockLanguages=[];this.eventManager=new A.a;this.commandManager=new G.a(this);var oa=Object(K.c)(this.options.linkAttribute),na=Object(N.a)(this.options.plugins),Y=na.parser;ka=na.plugins;var Z=this.options,
fa=Z.customHTMLSanitizer,Ea=Z.extendedAutolinks,La=Z.referenceDefinition,Wa=Z.frontMatter;oa={linkAttribute:oa,customHTMLRenderer:u({},na.renderer,Z.customHTMLRenderer),extendedAutolinks:Ea,referenceDefinition:La,customParser:Y,frontMatter:Wa};this.convertor=this.options.customConvertor?new this.options.customConvertor(this.eventManager,oa):new D.a(this.eventManager,oa);(fa=fa||(this.options.useDefaultHTMLSanitizer?S.a:null))&&this.convertor.initHtmlSanitizer(fa);this.options.hooks&&R()(this.options.hooks,
function(Ya,ta){ca.addHook(ta,Ya)});this.options.events&&R()(this.options.events,function(Ya,ta){ca.on(ta,Ya)});na=this.options;fa=na.el;na=na.initialValue;Y=fa.innerHTML;fa.innerHTML="";this.preview=new C.a(fa,this.eventManager,this.convertor,u({},oa,{isViewer:!0}));F()(this.preview.el,"mousedown",this._toggleTask.bind(this));ka&&Object(N.b)(ka,this);na?this.setMarkdown(na):Y&&this.preview.setHTML(Y);this.eventManager.emit("load",this)}var T=W.prototype;T._toggleTask=function(ka){var ca=getComputedStyle(ka.target,
":before");!ka.target.hasAttribute("data-te-task-disabled")&&ka.target.hasAttribute("data-te-task")&&H.a.isInsideButtonBox(ca,ka.offsetX,ka.offsetY)&&(H.a.toggleClass(ka.target,"checked"),this.eventManager.emit("change",{source:"viewer",data:ka}))};T.setMarkdown=function(ka){this.markdownValue=ka||"";this.preview.refresh(this.markdownValue);this.eventManager.emit("setMarkdownAfter",this.markdownValue)};T.on=function(ka,ca){this.eventManager.listen(ka,ca)};T.off=function(ka){this.eventManager.removeEventHandler(ka)};
T.remove=function(){this.eventManager.emit("removeEditor");L()(this.preview.el,"mousedown",this._toggleTask.bind(this));this.preview.remove();this.preview=this.convertor=this.commandManager=this.eventManager=this.options=null};T.addHook=function(ka,ca){this.eventManager.removeEventHandler(ka);this.eventManager.listen(ka,ca)};T.isViewer=function(){return!0};T.isMarkdownMode=function(){return!1};T.isWysiwygMode=function(){return!1};T.setCodeBlockLanguages=function(ka){var ca=this;void 0===ka&&(ka=[]);
ka.forEach(function(oa){0>ca.codeBlockLanguages.indexOf(oa)&&ca.codeBlockLanguages.push(oa)})};return W}();y.isViewer=!0;y.domUtils=H.a;y.codeBlockManager=ba.a;y.WwCodeBlockManager=null;y.WwTableManager=null;y.WwTableSelectionManager=null;ja.a=y},function(ba,ja,y){ba.exports=function(u,R){var I,F;R=R||0;return function(){F=Array.prototype.slice.call(arguments);window.clearTimeout(I);I=window.setTimeout(function(){u.apply(null,F)},R)}}},function(ba,ja,y){ba.exports=function(u){return null===u}},function(ba,
ja,y){var u=y(10);ba.exports=function(R,I){var F=document.createElement("img"),L="";u(I,function(C,A){L+="&"+A+"="+C});L=L.substring(1);F.src=R+"?"+L;F.style.display="none";document.body.appendChild(F);document.body.removeChild(F);return F}},function(ba,ja,y){},function(ba,ja,y){},function(ba,ja,y){},,function(ba,ja,y){ba.exports=function(u){return u===Object(u)}},function(ba,ja,y){!function(u,R){function I(z,Q,p){this.root=this.currentNode=z;this.nodeType=Q;this.filter=p||de}function F(z){return z.nodeType===
Aa&&!!od[z.nodeName]}function L(z){switch(z.nodeType){case Ba:return fd;case Aa:case ha:if(nd&&pd.has(z))return pd.get(z);break;default:return hc}var Q;a:{var p=z.childNodes;for(var v=C,w=p.length;w--;)if(!v(p[w])){p=!1;break a}p=!0}return Q=p?Ge.test(z.nodeName)?fd:be:ce,nd&&pd.set(z,Q),Q}function C(z){return L(z)===fd}function A(z){return L(z)===be}function G(z){return L(z)===ce}function D(z,Q){Q=new I(Q,ra,A);return Q.currentNode=z,Q}function H(z,Q){return z=D(z,Q).previousNode(),z!==Q?z:null}
function N(z,Q){return z=D(z,Q).nextNode(),z!==Q?z:null}function K(z,Q){return!F(z)&&z.nodeType===Q.nodeType&&z.nodeName===Q.nodeName&&"A"!==z.nodeName&&z.className===Q.className&&(!z.style&&!Q.style||z.style.cssText===Q.style.cssText)}function S(z,Q,p){if(z.nodeName!==Q)return!1;for(var v in p)if(z.getAttribute(v)!==p[v])return!1;return!0}function W(z,Q,p,v){for(;z&&z!==Q;){if(S(z,p,v))return z;z=z.parentNode}return null}function T(z,Q){for(;Q;){if(Q===z)return!0;Q=Q.parentNode}return!1}function ka(z,
Q,p){var v,w,J,U,V,ma="";return z&&z!==Q&&(ma=ka(z.parentNode,Q,p),z.nodeType===Aa&&(ma+=(ma?">":"")+z.nodeName,(v=z.id)&&(ma+="#"+v),(w=z.className.trim())&&(J=w.split(/\s\s*/),J.sort(),ma+=".",ma+=J.join(".")),(U=z.dir)&&(ma+="[dir="+U+"]"),J&&(V=p.classNames,-1<vb.call(J,V.highlight)&&(ma+="[backgroundColor="+z.style.backgroundColor.replace(/ /g,"")+"]"),-1<vb.call(J,V.colour)&&(ma+="[color="+z.style.color.replace(/ /g,"")+"]"),-1<vb.call(J,V.fontFamily)&&(ma+="[fontFamily="+z.style.fontFamily.replace(/ /g,
"")+"]"),-1<vb.call(J,V.fontSize)&&(ma+="[fontSize="+z.style.fontSize+"]")))),ma}function ca(z){var Q=z.nodeType;return Q===Aa||Q===ha?z.childNodes.length:z.length||0}function oa(z){var Q=z.parentNode;return Q&&Q.removeChild(z),z}function na(z,Q){var p=z.parentNode;p&&p.replaceChild(Q,z)}function Y(z){var Q=z.ownerDocument.createDocumentFragment(),p=z.childNodes;for(p=p?p.length:0;p--;)Q.appendChild(z.firstChild);return Q}function Z(z,Q,p,v){var w;z=z.createElement(Q);if(p instanceof Array&&(v=p,
p=null),p)for(w in p)p[w]!==R&&z.setAttribute(w,p[w]);if(v)for(p=0,w=v.length;p<w;p+=1)z.appendChild(v[p]);return z}function fa(z,Q){var p,v,w=Q.__squire__,J=z.ownerDocument,U=z;if(z===Q&&((v=z.firstChild)&&"BR"!==v.nodeName||(p=w.createDefaultBlock(),v?z.replaceChild(p,v):z.appendChild(p),z=p,p=null)),z.nodeType===Ba)return U;if(C(z)){for(v=z.firstChild;ed&&v&&v.nodeType===Ba&&!v.data;)z.removeChild(v),v=z.firstChild;v||(ed?(p=J.createTextNode(qa),w._didAddZWS()):p=J.createTextNode(""))}else if(md){for(;z.nodeType!==
Ba&&!F(z);){if(!(v=z.firstChild)){p=J.createTextNode("");break}z=v}z.nodeType===Ba?/^ +$/.test(z.data)&&(z.data=""):F(z)&&z.parentNode.insertBefore(J.createTextNode(""),z)}else if("HR"!==z.nodeName&&!z.querySelector("BR"))for(p=Z(J,"BR");(v=z.lastElementChild)&&!C(v);)z=v;if(p)try{z.appendChild(p)}catch(V){w.didError({name:"Squire: fixCursor \u2013\u00a0"+V,message:"Parent: "+z.nodeName+"/"+z.innerHTML+" appendChild: "+p.nodeName})}return U}function Ea(z,Q){var p,v=z.childNodes,w=z.ownerDocument,
J=null,U=Q.__squire__._config;var V=0;for(p=v.length;V<p;V+=1){var ma=v[V];var Ia="BR"===ma.nodeName;!Ia&&C(ma)?(J||(J=Z(w,U.blockTag,U.blockAttributes)),J.appendChild(ma),--V,--p):(Ia||J)&&(J||(J=Z(w,U.blockTag,U.blockAttributes)),fa(J,Q),Ia?z.replaceChild(J,ma):(z.insertBefore(J,ma),V+=1,p+=1),J=null);G(ma)&&Ea(ma,Q)}return J&&z.appendChild(fa(J,Q)),z}function La(z,Q,p,v){var w;var J=z.nodeType;if(J===Ba&&z!==p)return La(z.parentNode,z.splitText(Q),p,v);if(J===Aa){if("number"==typeof Q&&(Q=Q<z.childNodes.length?
z.childNodes[Q]:null),z===p)return Q;J=z.parentNode;for(w=z.cloneNode(!1);Q;){var U=Q.nextSibling;w.appendChild(Q);Q=U}return"OL"===z.nodeName&&W(z,v,"BLOCKQUOTE")&&(w.start=(+z.start||1)+z.childNodes.length-1),fa(z,v),fa(w,v),(U=z.nextSibling)?J.insertBefore(w,U):J.appendChild(w),La(J,w,p,v)}return Q}function Wa(z,Q){for(var p,v,w,J=z.childNodes,U=J.length,V=[];U--;)if(p=J[U],v=U&&J[U-1],U&&C(p)&&K(p,v)&&!od[p.nodeName])Q.startContainer===p&&(Q.startContainer=v,Q.startOffset+=ca(v)),Q.endContainer===
p&&(Q.endContainer=v,Q.endOffset+=ca(v)),Q.startContainer===z&&(Q.startOffset>U?--Q.startOffset:Q.startOffset===U&&(Q.startContainer=v,Q.startOffset=ca(v))),Q.endContainer===z&&(Q.endOffset>U?--Q.endOffset:Q.endOffset===U&&(Q.endContainer=v,Q.endOffset=ca(v))),oa(p),p.nodeType===Ba?v.appendData(p.data):V.push(Y(p));else if(p.nodeType===Aa){for(w=V.length;w--;)p.appendChild(V.pop());Wa(p,Q)}}function Ya(z,Q){if(z.nodeType===Ba&&(z=z.parentNode),z.nodeType===Aa){var p={startContainer:Q.startContainer,
startOffset:Q.startOffset,endContainer:Q.endContainer,endOffset:Q.endOffset};Wa(z,p);Q.setStart(p.startContainer,p.startOffset);Q.setEnd(p.endContainer,p.endOffset)}}function ta(z){z=z.nodeName;return"TD"===z||"TH"===z||"TR"===z||"TBODY"===z||"THEAD"===z}function za(z,Q,p,v){var w,J=Q;if(!ta(z)||!ta(Q)){for(;(w=J.parentNode)&&w!==v&&w.nodeType===Aa&&1===w.childNodes.length;)J=w;oa(J);w=z.childNodes.length;(v=z.lastChild)&&"BR"===v.nodeName&&(z.removeChild(v),--w);z.appendChild(Y(Q));p.setStart(z,
w);p.collapse(!0);Ya(z,p);nc&&(v=z.lastChild)&&"BR"===v.nodeName&&z.removeChild(v)}}function Ha(z,Q){var p=z.previousSibling,v=z.firstChild;var w=z.ownerDocument;var J="LI"===z.nodeName;if((!J||v&&/^[OU]L$/.test(v.nodeName))&&!ta(z))if(p&&K(p,z)&&p.isContentEditable&&z.isContentEditable){if(!G(p)){if(!J)return;w=Z(w,"DIV");w.appendChild(Y(p));p.appendChild(w)}oa(z);w=!G(z);p.appendChild(Y(z));w&&Ea(p,Q);v&&Ha(v,Q)}else J&&(p=Z(w,"DIV"),z.insertBefore(p,v),fa(p,Q))}function ya(z){this.isShiftDown=
z.shiftKey}function da(z,Q,p){var v,w;if(z||(z={}),Q)for(v in Q)!p&&v in z||(w=Q[v],z[v]=w&&w.constructor===Object?da(z[v],w,p):w);return z}function t(z,Q){z.nodeType===Qa&&(z=z.body);var p,v=z.ownerDocument,w=v.defaultView;this._win=w;this._doc=v;this._root=z;this._events={};this._isFocused=!1;this._lastSelection=null;Ed&&this.addEventListener("beforedeactivate",this.getSelection);this._hasZWS=!1;this._lastFocusNode=this._lastAnchorNode=null;this._path="";this._willUpdatePath=!1;"onselectionchange"in
v?this.addEventListener("selectionchange",this._updatePathOnEvent):(this.addEventListener("keyup",this._updatePathOnEvent),this.addEventListener("mouseup",this._updatePathOnEvent));this._undoIndex=-1;this._undoStack=[];this._undoStackLength=0;this._ignoreAllChanges=this._ignoreChange=this._isInUndoState=!1;Ta?(p=new MutationObserver(this._docWasChanged.bind(this)),p.observe(z,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._mutation=p):this.addEventListener("keyup",this._keyUpDetectChange);
this._restoreSelection=!1;this.addEventListener("blur",P);this.addEventListener("mousedown",X);this.addEventListener("touchstart",X);this.addEventListener("focus",sa);this._awaitingPaste=!1;this.addEventListener(fc?"beforecut":"cut",Qb);this.addEventListener("copy",Ke);this.addEventListener("keydown",ya);this.addEventListener("keyup",ya);this.addEventListener(fc?"beforepaste":"paste",Va);this.addEventListener("drop",yc);this.addEventListener(nc?"keypress":"keydown",rd);this._keyHandlers=Object.create(Jb);
this.setConfig(Q);fc&&(w.Text.prototype.splitText=function(J){var U=this.ownerDocument.createTextNode(this.data.slice(J)),V=this.nextSibling,ma=this.parentNode,Ia=this.length-J;return V?ma.insertBefore(U,V):ma.appendChild(U),Ia&&this.deleteData(J,Ia),U});z.setAttribute("contenteditable","true");try{v.execCommand("enableObjectResizing",!1,"false"),v.execCommand("enableInlineTableEditing",!1,"false")}catch(J){}z.__squire__=this;this.setHTML("")}function P(){this._restoreSelection=!0}function X(){this._restoreSelection=
!1}function sa(){this._restoreSelection&&this.setSelection(this._lastSelection)}function Da(z,Q,p){var v;for(Q=Q.firstChild;Q;Q=v){if(v=Q.nextSibling,C(Q)){if(Q.nodeType===Ba||"BR"===Q.nodeName||"IMG"===Q.nodeName){p.appendChild(Q);continue}}else if(A(Q)){p.appendChild(z.createDefaultBlock([Da(z,Q,z._doc.createDocumentFragment())]));continue}Da(z,Q,p)}return p}var Aa=1,Ba=3,Qa=9,ha=11,ra=1,qa="\u200b",va=u.defaultView,Ma=navigator.userAgent,Ga=/Android/.test(Ma),ob=/iP(?:ad|hone|od)/.test(Ma),Rb=
/Mac OS X/.test(Ma),Kb=/Windows NT/.test(Ma),gb=/Gecko\//.test(Ma),fc=/Trident\/[456]\./.test(Ma),nc=!!va.opera,dd=/Edge\//.test(Ma),Fa=!dd&&/WebKit\//.test(Ma),ab=/Trident\/[4567]\./.test(Ma),Hb=Rb?"meta-":"ctrl-",md=fc||nc,ed=fc||Fa,Ed=fc,Ta="undefined"!=typeof MutationObserver,nd="undefined"!=typeof WeakMap,oc=/[^ \t\r\n]/,vb=Array.prototype.indexOf;Object.create||(Object.create=function(z){var Q=function(){};return Q.prototype=z,new Q});var Mc={1:1,2:2,3:4,8:128,9:256,11:1024},de=function(){return!0};
I.prototype.nextNode=function(){for(var z,Q=this.currentNode,p=this.root,v=this.nodeType,w=this.filter;;){for(z=Q.firstChild;!z&&Q&&Q!==p;)(z=Q.nextSibling)||(Q=Q.parentNode);if(!z)return null;if(Mc[z.nodeType]&v&&w(z))return this.currentNode=z,z;Q=z}};I.prototype.previousNode=function(){for(var z,Q=this.currentNode,p=this.root,v=this.nodeType,w=this.filter;;){if(Q===p)return null;if(z=Q.previousSibling)for(;Q=z.lastChild;)z=Q;else z=Q.parentNode;if(!z)return null;if(Mc[z.nodeType]&v&&w(z))return this.currentNode=
z,z;Q=z}};I.prototype.previousPONode=function(){for(var z,Q=this.currentNode,p=this.root,v=this.nodeType,w=this.filter;;){for(z=Q.lastChild;!z&&Q&&Q!==p;)(z=Q.previousSibling)||(Q=Q.parentNode);if(!z)return null;if(Mc[z.nodeType]&v&&w(z))return this.currentNode=z,z;Q=z}};var Ge=/^(?:#text|A(?:BBR|CRONYM)?|B(?:R|D[IO])?|C(?:ITE|ODE)|D(?:ATA|EL|FN)|EM|FONT|I(?:FRAME|MG|NPUT|NS)?|KBD|Q|R(?:P|T|UBY)|S(?:AMP|MALL|PAN|TR(?:IKE|ONG)|U[BP])?|TIME|U|VAR|WBR)$/,od={BR:1,HR:1,IFRAME:1,IMG:1,INPUT:1},hc=0,fd=
1,be=2,ce=3,pd=nd?new WeakMap:null,Gc=function(z,Q){for(var p=z.childNodes;Q&&z.nodeType===Aa;)z=p[Q-1],p=z.childNodes,Q=p.length;return z},Hc=function(z,Q){if(z.nodeType===Aa){var p=z.childNodes;if(Q<p.length)z=p[Q];else{for(;z&&!z.nextSibling;)z=z.parentNode;z&&(z=z.nextSibling)}}return z},$b=function(z,Q){var p,v,w,J=z.startContainer,U=z.startOffset,V=z.endContainer,ma=z.endOffset;J.nodeType===Ba?(p=J.parentNode,v=p.childNodes,U===J.length?(U=vb.call(v,J)+1,z.collapsed&&(V=p,ma=U)):(U&&(w=J.splitText(U),
V===J?(ma-=U,V=w):V===p&&(ma+=1),J=w),U=vb.call(v,J)),J=p):v=J.childNodes;p=v.length;U===p?J.appendChild(Q):J.insertBefore(Q,v[U]);J===V&&(ma+=v.length-p);z.setStart(J,U);z.setEnd(V,ma)},qd=function(z,Q,p){var v=z.startContainer,w=z.startOffset,J=z.endContainer,U=z.endOffset;Q||(Q=z.commonAncestorContainer);Q.nodeType===Ba&&(Q=Q.parentNode);var V,ma,Ia,Na;U=La(J,U,Q,p);for(var $a=La(v,w,Q,p),Xa=Q.ownerDocument.createDocumentFragment();$a!==U;)J=$a.nextSibling,Xa.appendChild($a),$a=J;return v=Q,w=
U?vb.call(Q.childNodes,U):Q.childNodes.length,ma=Q.childNodes[w],V=ma&&ma.previousSibling,V&&V.nodeType===Ba&&ma.nodeType===Ba&&(v=V,w=V.length,Ia=V.data,Na=ma.data," "===Ia.charAt(Ia.length-1)&&" "===Na.charAt(0)&&(Na="\u00a0"+Na.slice(1)),V.appendData(Na),oa(ma)),z.setStart(v,w),z.collapse(!0),fa(Q,p),Xa},Ic=function(z,Q){var p,v,w=Xb(z,Q),J=Ib(z,Q),U=w!==J;return Sb(z),Tb(z,w,J,Q),p=qd(z,null,Q),Sb(z),U&&(J=Ib(z,Q),w&&J&&w!==J&&za(w,J,z,Q)),w&&fa(w,Q),v=Q.firstChild,v&&"BR"!==v.nodeName?z.collapse(!0):
(fa(Q,Q),z.selectNodeContents(Q.firstChild)),p},fe=function(z,Q,p){var v,w,J,U,V,ma,Ia;Ea(Q,p);for(v=Q;v=N(v,p);)fa(v,p);z.collapsed||Ic(z,p);Sb(z);z.collapse(!1);var Na=W(z.endContainer,p,"BLOCKQUOTE")||p;var $a=Xb(z,p);var Xa=N(Q,Q);if(v=$a&&Xa){a:{v=Xa;for(var lb=/PRE|TABLE|H[1-6]|OL|UL|BLOCKQUOTE/;v&&v!==Q;){if(lb.test(v.nodeName))break a;v=v.parentNode}v=null}v=!v}if(v){if(Tb(z,$a,$a,p),z.collapse(!0),J=z.endContainer,U=z.endOffset,hd($a,p,!1),C(J)&&(V=La(J,U,H(J,p),p),J=V.parentNode,U=vb.call(J.childNodes,
V)),U!==ca(J))for(w=p.ownerDocument.createDocumentFragment();v=J.childNodes[U];)w.appendChild(v);za(J,Xa,z,p);U=vb.call(J.parentNode.childNodes,J)+1;J=J.parentNode;z.setEnd(J,U)}ca(Q)&&(Tb(z,Na,Na,p),V=La(z.endContainer,z.endOffset,Na,p),ma=V?V.previousSibling:Na.lastChild,Na.insertBefore(Q,V),V?z.setEndBefore(V):z.setEnd(Na,ca(Na)),$a=Ib(z,p),Sb(z),J=z.endContainer,U=z.endOffset,V&&G(V)&&Ha(V,p),V=ma&&ma.nextSibling,V&&G(V)&&Ha(V,p),z.setEnd(J,U));w&&(Ia=z.cloneRange(),za($a,w,Ia,p),z.setEnd(Ia.endContainer,
Ia.endOffset));Sb(z)},pc=function(z,Q,p){var v=Q.ownerDocument.createRange();if(v.selectNode(Q),p)return Q=-1<z.compareBoundaryPoints(3,v),z=1>z.compareBoundaryPoints(1,v),!Q&&!z;Q=1>z.compareBoundaryPoints(0,v);z=-1<z.compareBoundaryPoints(2,v);return Q&&z},Sb=function(z){for(var Q,p=z.startContainer,v=z.startOffset,w=z.endContainer,J=z.endOffset,U=!0;p.nodeType!==Ba&&(Q=p.childNodes[v])&&!F(Q);)p=Q,v=0;if(J)for(;w.nodeType!==Ba;){if(!(Q=w.childNodes[J-1])||F(Q)){if(U&&Q&&"BR"===Q.nodeName){--J;
U=!1;continue}break}w=Q;J=ca(w)}else for(;w.nodeType!==Ba&&(Q=w.firstChild)&&!F(Q);)w=Q;z.collapsed?(z.setStart(w,J),z.setEnd(p,v)):(z.setStart(p,v),z.setEnd(w,J))},Tb=function(z,Q,p,v){var w=z.startContainer,J=z.startOffset,U=z.endContainer,V=z.endOffset,ma=!0;Q||(Q=z.commonAncestorContainer);for(p||(p=Q);!J&&w!==Q&&w!==v;){var Ia=w.parentNode;J=vb.call(Ia.childNodes,w);w=Ia}for(;ma&&U.nodeType!==Ba&&U.childNodes[V]&&"BR"===U.childNodes[V].nodeName&&(V+=1,ma=!1),U!==p&&U!==v&&V===ca(U);)Ia=U.parentNode,
V=vb.call(Ia.childNodes,U)+1,U=Ia;z.setStart(w,J);z.setEnd(U,V)},Xb=function(z,Q){var p,v=z.startContainer;return C(v)?p=H(v,Q):v!==Q&&A(v)?p=v:(p=Gc(v,z.startOffset),p=N(p,Q)),p&&pc(z,p,!0)?p:null},Ib=function(z,Q){var p=z.endContainer;if(C(p))var v=H(p,Q);else if(p!==Q&&A(p))v=p;else{if(!(v=Hc(p,z.endOffset))||!T(Q,v))for(v=Q;p=v.lastChild;)v=p;v=H(v,Q)}return v&&pc(z,v,!0)?v:null},ic=new I(null,4|ra,function(z){return z.nodeType===Ba?oc.test(z.data):"IMG"===z.nodeName}),Nc=function(z,Q){var p=
z.startContainer,v=z.startOffset;if(ic.root=null,p.nodeType===Ba){if(v)return!1;var w=p}else if(w=Hc(p,v),w&&!T(Q,w)&&(w=null),!w&&(w=Gc(p,v),w.nodeType===Ba&&w.length))return!1;return ic.currentNode=w,ic.root=Xb(z,Q),!ic.previousNode()},qc=function(z,Q){var p,v=z.endContainer,w=z.endOffset;if(ic.root=null,v.nodeType===Ba){if((p=v.data.length)&&w<p)return!1;ic.currentNode=v}else ic.currentNode=Gc(v,w);return ic.root=Ib(z,Q),!ic.nextNode()},Oc=function(z,Q){var p,v=Xb(z,Q);Q=Ib(z,Q);v&&Q&&(p=v.parentNode,
z.setStart(p,vb.call(p.childNodes,v)),p=Q.parentNode,z.setEnd(p,vb.call(p.childNodes,Q)+1))},vc={8:"backspace",9:"tab",13:"enter",32:"space",33:"pageup",34:"pagedown",37:"left",39:"right",46:"delete",219:"[",221:"]"},rd=function(z){var Q=z.keyCode,p=vc[Q],v="",w=this.getSelection();z.defaultPrevented||(p||(p=String.fromCharCode(Q).toLowerCase(),/^[A-Za-z0-9]$/.test(p)||(p="")),nc&&46===z.which&&(p="."),111<Q&&124>Q&&(p="f"+(Q-111)),"backspace"!==p&&"delete"!==p&&(z.altKey&&(v+="alt-"),z.ctrlKey&&
(v+="ctrl-"),z.metaKey&&(v+="meta-")),z.shiftKey&&(v+="shift-"),p=v+p,this._keyHandlers[p]?this._keyHandlers[p](this,z,w):w.collapsed||z.isComposing||z.ctrlKey||z.metaKey||1!==(ab?p:z.key||p).length||(this.saveUndoState(w),Ic(w,this._root),this._ensureBottomLine(),this.setSelection(w),this._updatePath(w,!0)))},wc=function(z){return function(Q,p){p.preventDefault();Q[z]()}},Pc=function(z,Q){return Q=Q||null,function(p,v){v.preventDefault();v=p.getSelection();p.hasFormat(z,null,v)?p.changeFormat(null,
{tag:z},v):p.changeFormat({tag:z},Q,v)}},gd=function(z,Q){try{Q||(Q=z.getSelection());var p,v=Q.startContainer;v.nodeType===Ba&&(v=v.parentNode);for(p=v;C(p)&&(!p.textContent||p.textContent===qa);)v=p,p=v.parentNode;v!==p&&(Q.setStart(p,vb.call(p.childNodes,v)),Q.collapse(!0),p.removeChild(v),A(p)||(p=H(p,z._root)),fa(p,z._root),Sb(Q));v===z._root&&(v=v.firstChild)&&"BR"===v.nodeName&&oa(v);z._ensureBottomLine();z.setSelection(Q);z._updatePath(Q,!0)}catch(w){z.didError(w)}},Jb={enter:function(z,Q,
p){var v,w,J,U,V,ma=z._root;if(Q.preventDefault(),z._recordUndoState(p),W(p.startContainer,ma,"PRE",{"data-te-codeblock":""})||Jc(p.startContainer,ma,z),z._removeZWS(),z._getRangeAndRemoveBookmark(p),p.collapsed||Ic(p,ma),(v=Xb(p,ma))&&(w=W(v,ma,"PRE")))return Sb(p),J=p.startContainer,U=p.startOffset,J.nodeType!==Ba&&(J=z._doc.createTextNode(""),w.insertBefore(J,w.firstChild)),Q.shiftKey||"\n"!==J.data.charAt(U-1)&&!Nc(p,ma)||"\n"!==J.data.charAt(U)&&!qc(p,ma)?(J.insertData(U,"\n"),fa(w,ma),J.length===
U+1?p.setStartAfter(J):p.setStart(J,U+1)):(J.deleteData(U&&U-1,U?2:1),V=La(J,U&&U-1,ma,ma),J=V.previousSibling,J.textContent||oa(J),J=z.createDefaultBlock(),V.parentNode.insertBefore(J,V),V.textContent||oa(V),p.setStart(J,0)),p.collapse(!0),z.setSelection(p),z._updatePath(p,!0),void z._docWasChanged();if(!v||Q.shiftKey||/^T[HD]$/.test(v.nodeName))return w=W(p.endContainer,ma,"A"),w&&(w=w.parentNode,Tb(p,w,w,ma),p.collapse(!1)),$b(p,z.createElement("BR")),p.collapse(!1),z.setSelection(p),void z._updatePath(p,
!0);if((w=W(v,ma,"LI"))&&(v=w),!v.textContent&&!v.querySelector("IMG")){if(W(v,ma,"UL")||W(v,ma,"OL"))return z.decreaseListLevel(p);if(W(v,ma,"BLOCKQUOTE"))return z.modifyBlocks(Rc,p)}V=ud(z,v,p.startContainer,p.startOffset);rc(v);id(v);for(fa(v,ma);V.nodeType===Aa;){var Ia;Q=V.firstChild;if("A"===V.nodeName&&(!V.textContent||V.textContent===qa)){Q=z._doc.createTextNode("");na(V,Q);V=Q;break}for(;Q&&Q.nodeType===Ba&&!Q.data&&(Ia=Q.nextSibling)&&"BR"!==Ia.nodeName;)oa(Q),Q=Ia;if(!Q||"BR"===Q.nodeName||
Q.nodeType===Ba&&!nc)break;V=Q}p=z.createRange(V,0);z.setSelection(p);z._updatePath(p,!0)},"shift-enter":function(z,Q,p){return z._keyHandlers.enter(z,Q,p)},backspace:function(z,Q,p){var v=z._root;if(z._removeZWS(),z.saveUndoState(p),p.collapsed)if(Nc(p,v)){Q.preventDefault();var w=Xb(p,v);if(w)if(Ea(w.parentNode,v),Q=H(w,v)){if(!Q.isContentEditable){for(;!Q.parentNode.isContentEditable;)Q=Q.parentNode;return void oa(Q)}za(Q,w,p,v);for(w=Q.parentNode;w!==v&&!w.nextSibling;)w=w.parentNode;w!==v&&(w=
w.nextSibling)&&Ha(w,v);z.setSelection(p)}else if(w){if(W(w,v,"UL")||W(w,v,"OL"))return z.decreaseListLevel(p);if(W(w,v,"BLOCKQUOTE"))return z.modifyBlocks(Hd,p);z.setSelection(p);z._updatePath(p,!0)}}else z.setSelection(p),setTimeout(function(){gd(z)},0);else Q.preventDefault(),Ic(p,v),gd(z,p)},delete:function(z,Q,p){var v,w,J,U,V=z._root;if(z._removeZWS(),z.saveUndoState(p),p.collapsed)if(qc(p,V)){if(Q.preventDefault(),Q=Xb(p,V))if(Ea(Q.parentNode,V),v=N(Q,V)){if(!v.isContentEditable){for(;!v.parentNode.isContentEditable;)v=
v.parentNode;return void oa(v)}za(Q,v,p,V);for(v=Q.parentNode;v!==V&&!v.nextSibling;)v=v.parentNode;v!==V&&(v=v.nextSibling)&&Ha(v,V);z.setSelection(p);z._updatePath(p,!0)}}else{if(v=p.cloneRange(),Tb(p,V,V,V),w=p.endContainer,J=p.endOffset,w.nodeType===Aa&&(U=w.childNodes[J])&&"IMG"===U.nodeName)return Q.preventDefault(),oa(U),Sb(p),void gd(z,p);z.setSelection(v);setTimeout(function(){gd(z)},0)}else Q.preventDefault(),Ic(p,V),gd(z,p)},tab:function(z,Q,p){var v=z._root;if(z._removeZWS(),p.collapsed&&
Nc(p,v))for(v=Xb(p,v);v=v.parentNode;)if("UL"===v.nodeName||"OL"===v.nodeName){Q.preventDefault();z.increaseListLevel(p);break}},"shift-tab":function(z,Q,p){var v,w=z._root;z._removeZWS();p.collapsed&&Nc(p,w)&&(v=p.startContainer,(W(v,w,"UL")||W(v,w,"OL"))&&(Q.preventDefault(),z.decreaseListLevel(p)))},space:function(z,Q,p){var v;Q=z._root;if(z._recordUndoState(p),Jc(p.startContainer,Q,z),z._getRangeAndRemoveBookmark(p),v=p.endContainer,p.collapsed&&p.endOffset===ca(v)){do if("A"===v.nodeName){p.setStartAfter(v);
break}while(!v.nextSibling&&(v=v.parentNode)&&v!==Q)}p.collapsed||(Ic(p,Q),z._ensureBottomLine(),z.setSelection(p),z._updatePath(p,!0));z.setSelection(p)},left:function(z){z._removeZWS()},right:function(z){z._removeZWS()}};Rb&&gb&&(Jb["meta-left"]=function(z,Q){Q.preventDefault();(z=z._win.getSelection()||null)&&z.modify&&z.modify("move","backward","lineboundary")},Jb["meta-right"]=function(z,Q){Q.preventDefault();(z=z._win.getSelection()||null)&&z.modify&&z.modify("move","forward","lineboundary")});
Rb||(Jb.pageup=function(z){z.moveCursorToStart()},Jb.pagedown=function(z){z.moveCursorToEnd()});Jb[Hb+"b"]=Pc("B");Jb[Hb+"i"]=Pc("I");Jb[Hb+"u"]=Pc("U");Jb[Hb+"shift-7"]=Pc("S");Jb[Hb+"shift-5"]=Pc("SUB",{tag:"SUP"});Jb[Hb+"shift-6"]=Pc("SUP",{tag:"SUB"});Jb[Hb+"shift-8"]=wc("makeUnorderedList");Jb[Hb+"shift-9"]=wc("makeOrderedList");Jb[Hb+"["]=wc("decreaseQuoteLevel");Jb[Hb+"]"]=wc("increaseQuoteLevel");Jb[Hb+"d"]=wc("toggleCode");Jb[Hb+"y"]=wc("redo");Jb[Hb+"z"]=wc("undo");Jb[Hb+"shift-z"]=wc("redo");
var mf={1:10,2:13,3:16,4:18,5:24,6:32,7:48},Ie={backgroundColor:{regexp:oc,replace:function(z,Q,p){return Z(z,"SPAN",{class:Q.highlight,style:"background-color:"+p})}},color:{regexp:oc,replace:function(z,Q,p){return Z(z,"SPAN",{class:Q.colour,style:"color:"+p})}},fontWeight:{regexp:/^bold|^700/i,replace:function(z){return Z(z,"B")}},fontStyle:{regexp:/^italic/i,replace:function(z){return Z(z,"I")}},fontFamily:{regexp:oc,replace:function(z,Q,p){return Z(z,"SPAN",{class:Q.fontFamily,style:"font-family:"+
p})}},fontSize:{regexp:oc,replace:function(z,Q,p){return Z(z,"SPAN",{class:Q.fontSize,style:"font-size:"+p})}},textDecoration:{regexp:/^underline/i,replace:function(z){return Z(z,"U")}}},Qc=function(z){return function(Q,p){var v=Z(Q.ownerDocument,z);return p.replaceChild(v,Q),v.appendChild(Y(Q)),v}},he=function(z,Q,p){var v,w,J,U,V,ma=z.style,Ia=z.ownerDocument;for(v in Ie){var Na=Ie[v];(w=ma[v])&&Na.regexp.test(w)&&(V=Na.replace(Ia,p.classNames,w),U||(U=V),J&&J.appendChild(V),J=V,z.style[v]="")}return U&&
(J.appendChild(Y(z)),"SPAN"===z.nodeName?Q.replaceChild(U,z):z.appendChild(U)),J||z},Fd={P:he,SPAN:he,STRONG:Qc("B"),EM:Qc("I"),INS:Qc("U"),STRIKE:Qc("S"),FONT:function(z,Q,p){var v,w,J,U,V,ma=z.face,Ia=z.size,Na=z.color,$a=z.ownerDocument;p=p.classNames;return ma&&(v=Z($a,"SPAN",{class:p.fontFamily,style:"font-family:"+ma}),V=v,U=v),Ia&&(w=Z($a,"SPAN",{class:p.fontSize,style:"font-size:"+mf[Ia]+"px"}),V||(V=w),U&&U.appendChild(w),U=w),Na&&/^#?([\dA-F]{3}){1,2}$/i.test(Na)&&("#"!==Na.charAt(0)&&(Na=
"#"+Na),J=Z($a,"SPAN",{class:p.colour,style:"color:"+Na}),V||(V=J),U&&U.appendChild(J),U=J),V||(V=U=Z($a,"SPAN")),Q.replaceChild(V,z),U.appendChild(Y(z)),U},TT:function(z,Q,p){p=Z(z.ownerDocument,"SPAN",{class:p.classNames.fontFamily,style:'font-family:menlo,consolas,"courier new",monospace'});return Q.replaceChild(p,z),p.appendChild(Y(z)),p}},of=/^(?:A(?:DDRESS|RTICLE|SIDE|UDIO)|BLOCKQUOTE|CAPTION|D(?:[DLT]|IV)|F(?:IGURE|IGCAPTION|OOTER)|H[1-6]|HEADER|HR|L(?:ABEL|EGEND|I)|O(?:L|UTPUT)|P(?:RE)?|SECTION|T(?:ABLE|BODY|D|FOOT|H|HEAD|R)|COL(?:GROUP)?|UL)$/,
Db=/^(?:HEAD|META|STYLE)/,sd=new I(null,4|ra),kc=function w(Q,p,v){var J,U,V,ma,Ia,Na,$a,Xa,lb,rb,Sa,Vb=Q.childNodes;for(J=Q;C(J);)J=J.parentNode;sd.root=J;J=0;for(U=Vb.length;J<U;J+=1)if(V=Vb[J],ma=V.nodeName,Ia=V.nodeType,Na=Fd[ma],Ia===Aa){if($a=V.childNodes.length,Na)V=Na(V,Q,p);else{if(Db.test(ma)){Q.removeChild(V);--J;--U;continue}Na=ma;var bc=p.allowedBlocks;var Ja=!1;var cc=bc.length;if(cc){for(Ja=0;Ja<cc;Ja+=1)bc[Ja]=bc[Ja].toUpperCase();Ja=(new RegExp(bc.join("|"))).test(Na)}if(!of.test(Na)&&
!Ja&&!C(V)){--J;U+=$a-1;Q.replaceChild(Y(V),V);continue}}$a&&w(V,p,v||"PRE"===ma)}else{if(Ia===Ba){if(rb=V.data,Xa=!oc.test(rb.charAt(0)),lb=!oc.test(rb.charAt(rb.length-1)),v||!Xa&&!lb)continue;if(Xa){for(sd.currentNode=V;(Sa=sd.previousPONode())&&!("IMG"===(ma=Sa.nodeName)||"#text"===ma&&oc.test(Sa.data));)if(!C(Sa)){Sa=null;break}rb=rb.replace(/^[ \t\r\n]+/g,Sa?" ":"")}if(lb){for(sd.currentNode=V;(Sa=sd.nextNode())&&!("IMG"===ma||"#text"===ma&&oc.test(Sa.data));)if(!C(Sa)){Sa=null;break}rb=rb.replace(/[ \t\r\n]+$/g,
Sa?" ":"")}if(rb){V.data=rb;continue}}Q.removeChild(V);--J;--U}return Q},id=function v(p){for(var w,J=p.childNodes,U=J.length;U--;)if(w=J[U],w.nodeType!==Aa||F(w))w.nodeType!==Ba||w.data||p.removeChild(w);else{v(w);var V="FIGURE"===w.tagName;!C(w)&&!V||w.firstChild||p.removeChild(w)}},td=function(p){return p.nodeType===Aa?"BR"===p.nodeName||"IMG"===p.nodeName:oc.test(p.data)},Gd=function(p,v){for(var w,J=p.parentNode;C(J);)J=J.parentNode;return w=new I(J,4|ra,td),w.currentNode=p,!!w.nextNode()||v&&
!w.previousNode()},hd=function(p,v,w){var J,U;p=p.querySelectorAll("BR");var V=[],ma=p.length;for(J=0;J<ma;J+=1)V[J]=Gd(p[J],w);for(;ma--;)w=p[ma],(U=w.parentNode)&&(V[ma]?C(U)||Ea(U,v):oa(w))},Je=function(p,v,w,J){var U=v.ownerDocument.body;J=J.willCutCopy;hd(v,w,!0);v.setAttribute("style","position:fixed;overflow:hidden;bottom:100%;right:100%;");U.appendChild(v);w=v.innerHTML;var V=v.innerText||v.textContent;J&&(w=J(w));Kb&&(V=V.replace(/\r?\n/g,"\r\n"));p.setData("text/html",w);p.setData("text/plain",
V);U.removeChild(v)},Qb=function(p){var v=p.clipboardData,w=this.getSelection(),J=this._root,U=this;if(w.collapsed)return void p.preventDefault();if(this.saveUndoState(w),dd||ob||!v)setTimeout(function(){try{U._ensureBottomLine()}catch($a){U.didError($a)}},0);else{var V=Xb(w,J);var ma=Ib(w,J);ma=V===ma&&V||J;V=Ic(w,J);var Ia=w.commonAncestorContainer;for(Ia.nodeType===Ba&&(Ia=Ia.parentNode);Ia&&Ia!==ma;){var Na=Ia.cloneNode(!1);Na.appendChild(V);V=Na;Ia=Ia.parentNode}ma=this.createElement("div");
ma.appendChild(V);Je(v,ma,J,this._config);p.preventDefault()}this.setSelection(w)},Ke=function(p){var v=p.clipboardData;var w=this.getSelection();var J=this._root;if(!dd&&!ob&&v){var U=Xb(w,J);var V=Ib(w,J);V=U===V&&U||J;w=w.cloneRange();Sb(w);Tb(w,V,V,J);U=w.cloneContents();w=w.commonAncestorContainer;for(w.nodeType===Ba&&(w=w.parentNode);w&&w!==V;){var ma=w.cloneNode(!1);ma.appendChild(U);U=ma;w=w.parentNode}V=this.createElement("div");V.appendChild(U);Je(v,V,J,this._config);p.preventDefault()}},
Va=function(p){var v,w,J,U,V=p.clipboardData,ma=V&&V.items,Ia=this.isShiftDown,Na=!1,$a=!1,Xa=null,lb=this;if(ma){p.preventDefault();for(p=ma.length;p--;){if(v=ma[p],w=v.type,!Ia&&"text/html"===w)return void v.getAsString(function(cc){lb.insertHTML(cc,!0)});"text/plain"===w&&(Xa=v);!Ia&&/^image\/.*/.test(w)&&($a=!0)}return void($a?(this.fireEvent("dragover",{dataTransfer:V,preventDefault:function(){Na=!0}}),Na&&this.fireEvent("drop",{dataTransfer:V})):Xa&&Xa.getAsString(function(cc){lb.insertPlainText(cc,
!0)}))}if(J=V&&V.types,!dd&&J&&(-1<vb.call(J,"text/html")||!gb&&-1<vb.call(J,"text/plain")&&0>vb.call(J,"text/rtf")))return p.preventDefault(),void(!Ia&&(U=V.getData("text/html"))?this.insertHTML(U,!0):((U=V.getData("text/plain"))||(U=V.getData("text/uri-list")))&&this.insertPlainText(U,!0));this._awaitingPaste=!0;v=this._doc.body;w=this.getSelection();var rb=w.startContainer,Sa=w.startOffset,Vb=w.endContainer,bc=w.endOffset,Ja=this.createElement("DIV",{contenteditable:"true",style:"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"});
v.appendChild(Ja);w.selectNodeContents(Ja);this.setSelection(w);setTimeout(function(){try{lb._awaitingPaste=!1;for(var cc,zc,hb="",Mb=Ja;Ja=Mb;)Mb=Ja.nextSibling,oa(Ja),(cc=Ja.firstChild)&&cc===Ja.lastChild&&"DIV"===cc.nodeName&&(Ja=cc),hb+=Ja.innerHTML;zc=lb.createRange(rb,Sa,Vb,bc);lb.setSelection(zc);hb&&lb.insertHTML(hb,!0)}catch(Ac){lb.didError(Ac)}},0)},yc=function(p){p=p.dataTransfer.types;for(var v=p.length,w=!1,J=!1;v--;)switch(p[v]){case "text/plain":w=!0;break;case "text/html":J=!0;break;
default:return}(J||w)&&this.saveUndoState()},Ca=t.prototype,Le=function(p,v,w){v=w._doc;return(p=p?DOMPurify.sanitize(p,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0}):null)?v.importNode(p,!0):v.createDocumentFragment()};Ca.setConfig=function(p){return p=da({blockTag:"DIV",blockAttributes:null,tagAttributes:{blockquote:null,ul:null,ol:null,li:null,a:null},classNames:{colour:"colour",fontFamily:"font",fontSize:"size",highlight:"highlight"},leafNodeNames:od,undo:{documentSizeThreshold:-1,
undoLimit:-1},isInsertedHTMLSanitized:!0,isSetHTMLSanitized:!0,sanitizeToDOMFragment:"undefined"!=typeof DOMPurify&&DOMPurify.isSupported?Le:null,willCutCopy:null,allowedBlocks:[]},p,!0),p.blockTag=p.blockTag.toUpperCase(),this._config=p,this};Ca.createElement=function(p,v,w){return Z(this._doc,p,v,w)};Ca.createDefaultBlock=function(p){var v=this._config;return fa(this.createElement(v.blockTag,v.blockAttributes,p),this._root)};Ca.didError=function(p){console.log(p)};Ca.getDocument=function(){return this._doc};
Ca.getRoot=function(){return this._root};Ca.modifyDocument=function(p){var v=this._mutation;v&&(v.takeRecords().length&&this._docWasChanged(),v.disconnect());this._ignoreAllChanges=!0;p();this._ignoreAllChanges=!1;v&&(v.observe(this._root,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._ignoreChange=!1)};var db={pathChange:1,select:1,input:1,undoStateChange:1};Ca.fireEvent=function(p,v){var w,J=this._events[p];if(/^(?:focus|blur)/.test(p))if(w=this._root===this._doc.activeElement,"focus"===
p){if(!w||this._isFocused)return this;this._isFocused=!0}else{if(w||!this._isFocused)return this;this._isFocused=!1}if(J)for(v||(v={}),v.type!==p&&(v.type=p),J=J.slice(),w=J.length;w--;){var U=J[w];try{U.handleEvent?U.handleEvent(v):U.call(this,v)}catch(V){V.details="Squire: fireEvent error. Event type: "+p,this.didError(V)}}return this};Ca.destroy=function(){var p,v=this._events;for(p in v)this.removeEventListener(p);this._mutation&&this._mutation.disconnect();delete this._root.__squire__;this._undoIndex=
-1;this._undoStack=[];this._undoStackLength=0};Ca.handleEvent=function(p){this.fireEvent(p.type,p)};Ca.addEventListener=function(p,v){var w=this._events[p],J=this._root;return v?(w||(w=this._events[p]=[],db[p]||("selectionchange"===p&&(J=this._doc),J.addEventListener(p,this,!0))),w.push(v),this):(this.didError({name:"Squire: addEventListener with null or undefined fn",message:"Event type: "+p}),this)};Ca.removeEventListener=function(p,v){var w,J=this._events[p],U=this._root;if(J){if(v)for(w=J.length;w--;)J[w]===
v&&J.splice(w,1);else J.length=0;J.length||(delete this._events[p],db[p]||("selectionchange"===p&&(U=this._doc),U.removeEventListener(p,this,!0)))}return this};Ca.createRange=function(p,v,w,J){if(p instanceof this._win.Range)return p.cloneRange();var U=this._doc.createRange();return U.setStart(p,v),w?U.setEnd(w,J):U.setEnd(p,v),U};Ca.getCursorPosition=function(p){if(!p&&!(p=this.getSelection())||!p.getBoundingClientRect)return null;var v,w,J=p.getBoundingClientRect();return J&&!J.top&&(this._ignoreChange=
!0,v=this._doc.createElement("SPAN"),v.textContent=qa,$b(p,v),J=v.getBoundingClientRect(),w=v.parentNode,w.removeChild(v),Ya(w,p),this._ignoreChange=!1),J};Ca._moveCursorTo=function(p){var v=this._root;p=this.createRange(v,p?0:v.childNodes.length);return Sb(p),this.setSelection(p),this};Ca.moveCursorToStart=function(){return this._moveCursorTo(!0)};Ca.moveCursorToEnd=function(){return this._moveCursorTo(!1)};Ca.setSelection=function(p){if(p)if(this._lastSelection=p,this._isFocused)if(Ga&&!this._restoreSelection)this._restoreSelection=
!0,this.blur(),this.focus();else{ob&&this._win.focus();var v=this._win.getSelection()||null;v&&(v.removeAllRanges(),v.addRange(p))}else this._restoreSelection=!0;return this};Ca.getSelection=function(){var p,v,w,J,U=this._win.getSelection()||null,V=this._root;return this._isFocused&&U&&U.rangeCount&&(p=U.getRangeAt(0).cloneRange(),v=p.startContainer,w=p.endContainer,v&&F(v)&&p.setStartBefore(v),w&&F(w)&&p.setEndBefore(w)),p&&T(V,p.commonAncestorContainer)?this._lastSelection=p:(p=this._lastSelection,
J=p.commonAncestorContainer,T(J.ownerDocument,J)||(p=null)),p||(p=this.createRange(V.firstChild,0)),p};Ca.getSelectedText=function(){var p=this.getSelection();if(!p||p.collapsed)return"";var v,w=new I(p.commonAncestorContainer,4|ra,function(Na){return pc(p,Na,!0)}),J=p.startContainer,U=p.endContainer,V=w.currentNode=J,ma="",Ia=!1;for(w.filter(V)||(V=w.nextNode());V;)V.nodeType===Ba?(v=V.data)&&/\S/.test(v)&&(V===U&&(v=v.slice(0,p.endOffset)),V===J&&(v=v.slice(p.startOffset)),ma+=v,Ia=!0):("BR"===
V.nodeName||Ia&&!C(V))&&(ma+="\n",Ia=!1),V=w.nextNode();return ma};Ca.getPath=function(){return this._path};var rc=function(p,v){for(var w,J=new I(p,4);p=J.nextNode();)for(;-1<(w=p.data.indexOf(qa))&&(!v||p.parentNode!==v);){if(1===p.length){do w=p.parentNode,w.removeChild(p),p=w,J.currentNode=w;while(C(p)&&!ca(p));break}p.deleteData(w,1)}};Ca._didAddZWS=function(){this._hasZWS=!0};Ca._removeZWS=function(){this._hasZWS&&(rc(this._root),this._hasZWS=!1)};Ca._updatePath=function(p,v){if(p){var w,J=
p.startContainer,U=p.endContainer;(v||J!==this._lastAnchorNode||U!==this._lastFocusNode)&&(this._lastAnchorNode=J,this._lastFocusNode=U,w=J&&U?J===U?ka(U,this._root,this._config):"(selection)":"",this._path!==w&&(this._path=w,this.fireEvent("pathChange",{path:w})));this.fireEvent(p.collapsed?"cursor":"select",{range:p})}};Ca._updatePathOnEvent=function(p){var v=this;v._isFocused&&!v._willUpdatePath&&(v._willUpdatePath=!0,setTimeout(function(){v._willUpdatePath=!1;v._updatePath(v.getSelection())},
0))};Ca.focus=function(){if(ab){try{this._root.setActive()}catch(p){}this.fireEvent("focus")}else this._root.focus();return this};Ca.blur=function(){return this._root.blur(),ab&&this.fireEvent("blur"),this};Ca._saveRangeToBookmark=function(p){var v,w=this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),J=this.createElement("INPUT",{id:"squire-selection-end",type:"hidden"});$b(p,w);p.collapse(!1);$b(p,J);2&w.compareDocumentPosition(J)&&(w.id="squire-selection-end",J.id="squire-selection-start",
v=w,w=J,J=v);p.setStartAfter(w);p.setEndBefore(J)};Ca._getRangeAndRemoveBookmark=function(p){var v=this._root,w=v.querySelector("#squire-selection-start");v=v.querySelector("#squire-selection-end");if(w&&v){var J=w.parentNode,U=v.parentNode,V=vb.call(J.childNodes,w),ma=vb.call(U.childNodes,v);J===U&&--ma;oa(w);oa(v);p||(p=this._doc.createRange());p.setStart(J,V);p.setEnd(U,ma);Ya(J,p);J!==U&&Ya(U,p);p.collapsed&&(J=p.startContainer,J.nodeType===Ba&&(U=J.childNodes[p.startOffset],U&&U.nodeType===Ba||
(U=J.childNodes[p.startOffset-1]),U&&U.nodeType===Ba&&(p.setStart(U,0),p.collapse(!0))))}return p||null};Ca._keyUpDetectChange=function(p){var v=p.keyCode;p.ctrlKey||p.metaKey||p.altKey||!(16>v||20<v)||!(33>v||45<v)||this._docWasChanged()};Ca._docWasChanged=function(){if(nd&&(pd=new WeakMap),!this._ignoreAllChanges){if(Ta&&this._ignoreChange)return void(this._ignoreChange=!1);this._isInUndoState&&(this._isInUndoState=!1,this.fireEvent("undoStateChange",{canUndo:!0,canRedo:!1}));this.fireEvent("input")}};
Ca._recordUndoState=function(p,v){if(!this._isInUndoState||v){var w=this._undoIndex,J=this._undoStack,U=this._config.undo,V=U.documentSizeThreshold;U=U.undoLimit;v||(w+=1);w<this._undoStackLength&&(J.length=this._undoStackLength=w);p&&this._saveRangeToBookmark(p);p=this._getHTML();-1<V&&2*p.length>V&&-1<U&&w>U&&(J.splice(0,w-U),w=U,this._undoStackLength=U);J[w]=p;this._undoIndex=w;this._undoStackLength+=1;this._isInUndoState=!0}};Ca.saveUndoState=function(p){return p===R&&(p=this.getSelection()),
this._recordUndoState(p,this._isInUndoState),this._getRangeAndRemoveBookmark(p),this};Ca.undo=function(){if(0!==this._undoIndex||!this._isInUndoState){this._recordUndoState(this.getSelection(),!1);--this._undoIndex;this._setHTML(this._undoStack[this._undoIndex]);var p=this._getRangeAndRemoveBookmark();p&&this.setSelection(p);this._isInUndoState=!0;this.fireEvent("undoStateChange",{canUndo:0!==this._undoIndex,canRedo:!0});this.fireEvent("input")}return this};Ca.redo=function(){var p=this._undoIndex,
v=this._undoStackLength;if(p+1<v&&this._isInUndoState){this._undoIndex+=1;this._setHTML(this._undoStack[this._undoIndex]);var w=this._getRangeAndRemoveBookmark();w&&this.setSelection(w);this.fireEvent("undoStateChange",{canUndo:!0,canRedo:p+2<v});this.fireEvent("input")}return this};Ca.hasFormat=function(p,v,w){if(p=p.toUpperCase(),v||(v={}),!w&&!(w=this.getSelection()))return!1;!w.collapsed&&w.startContainer.nodeType===Ba&&w.startOffset===w.startContainer.length&&w.startContainer.nextSibling&&w.setStartBefore(w.startContainer.nextSibling);
!w.collapsed&&w.endContainer.nodeType===Ba&&0===w.endOffset&&w.endContainer.previousSibling&&w.setEndAfter(w.endContainer.previousSibling);var J,U=this._root;var V=w.commonAncestorContainer;if(W(V,U,p,v))return!0;if(V.nodeType===Ba)return!1;V=new I(V,4,function(Ia){return pc(w,Ia,!0)});for(var ma=!1;J=V.nextNode();){if(!W(J,U,p,v))return!1;ma=!0}return ma};Ca.getFontInfo=function(p){var v,w,J,U={color:R,backgroundColor:R,family:R,size:R},V=0;if(!p&&!(p=this.getSelection()))return U;if(v=p.commonAncestorContainer,
p.collapsed||v.nodeType===Ba)for(v.nodeType===Ba&&(v=v.parentNode);4>V&&v;)(w=v.style)&&(!U.color&&(J=w.color)&&(U.color=J,V+=1),!U.backgroundColor&&(J=w.backgroundColor)&&(U.backgroundColor=J,V+=1),!U.family&&(J=w.fontFamily)&&(U.family=J,V+=1),!U.size&&(J=w.fontSize)&&(U.size=J,V+=1)),v=v.parentNode;return U};Ca._addFormat=function(p,v,w){var J,U,V,ma,Ia,Na=this._root;if(w.collapsed){var $a=fa(this.createElement(p,v),Na);$b(w,$a);w.setStart($a.firstChild,$a.firstChild.length);w.collapse(!0);for(p=
$a;C(p);)p=p.parentNode;rc(p,$a)}else{if(J=new I(w.commonAncestorContainer,4|ra,function(lb){return(lb.nodeType===Ba||"BR"===lb.nodeName||"IMG"===lb.nodeName)&&pc(w,lb,!0)}),U=w.startContainer,ma=w.startOffset,V=w.endContainer,Ia=w.endOffset,J.currentNode=U,J.filter(U)||(U=J.nextNode(),ma=0),!U)return w;do{var Xa=J.currentNode;!W(Xa,Na,p,v)&&(Xa===V&&Xa.length>Ia&&Xa.splitText(Ia),Xa===U&&ma&&(Xa=Xa.splitText(ma),V===U&&(V=Xa,Ia-=ma),U=Xa,ma=0),$a=this.createElement(p,v),na(Xa,$a),$a.appendChild(Xa))}while(J.nextNode());
V.nodeType!==Ba&&(Xa.nodeType===Ba?(V=Xa,Ia=Xa.length):(V=Xa.parentNode,Ia=1));w=this.createRange(U,ma,V,Ia)}return w};Ca._removeFormat=function(p,v,w,J){this._saveRangeToBookmark(w);var U,V=this._doc;w.collapsed&&(ed?(U=V.createTextNode(qa),this._didAddZWS()):U=V.createTextNode(""),$b(w,U));for(V=w.commonAncestorContainer;C(V);)V=V.parentNode;var ma=w.startContainer,Ia=w.startOffset,Na=w.endContainer,$a=w.endOffset,Xa=[],lb=function(Sa,Vb){if(!pc(w,Sa,!1)){var bc=Sa.nodeType===Ba;if(!pc(w,Sa,!0))return void("INPUT"===
Sa.nodeName||bc&&!Sa.data||Xa.push([Vb,Sa]));if(bc)Sa===Na&&$a!==Sa.length&&Xa.push([Vb,Sa.splitText($a)]),Sa===ma&&Ia&&(Sa.splitText(Ia),Xa.push([Vb,Sa]));else for(Sa=Sa.firstChild;Sa;Sa=bc)bc=Sa.nextSibling,lb(Sa,Vb)}},rb=Array.prototype.filter.call(V.getElementsByTagName(p),function(Sa){return pc(w,Sa,!0)&&S(Sa,p,v)});return J||rb.forEach(function(Sa){lb(Sa,Sa)}),Xa.forEach(function(Sa){var Vb=Sa[0].cloneNode(!1);Sa=Sa[1];na(Sa,Vb);Vb.appendChild(Sa)}),rb.forEach(function(Sa){na(Sa,Y(Sa))}),this._getRangeAndRemoveBookmark(w),
U&&w.collapse(!1),Ya(V,w),w};Ca.changeFormat=function(p,v,w,J){return w||(w=this.getSelection())?(this.saveUndoState(w),v&&(w=this._removeFormat(v.tag.toUpperCase(),v.attributes||{},w,J)),p&&(w=this._addFormat(p.tag.toUpperCase(),p.attributes||{},w)),this.setSelection(w),this._updatePath(w,!0),Ta||this._docWasChanged(),this):this};var ie={DT:"DD",DD:"DT",LI:"LI",PRE:"PRE"},ud=function(p,v,w,J){var U=ie[v.nodeName],V=null;w=La(w,J,v.parentNode,p._root);p=p._config;return U||(U=p.blockTag,V=p.blockAttributes),
S(w,U,V)||(v=Z(w.ownerDocument,U,V),w.dir&&(v.dir=w.dir),na(w,v),v.appendChild(Y(w)),w=v),w};Ca.forEachBlock=function(p,v,w){if(!w&&!(w=this.getSelection()))return this;v&&this.saveUndoState(w);var J=this._root,U=Xb(w,J),V=Ib(w,J);if(U&&V){do if(p(U)||U===V)break;while(U=N(U,J))}return v&&(this.setSelection(w),this._updatePath(w,!0),Ta||this._docWasChanged()),this};Ca.modifyBlocks=function(p,v){if(!v&&!(v=this.getSelection()))return this;this._recordUndoState(v,this._isInUndoState);var w,J=this._root;
return Oc(v,J),Tb(v,J,J,J),w=qd(v,J,J),$b(v,p.call(this,w)),v.endOffset<v.endContainer.childNodes.length&&Ha(v.endContainer.childNodes[v.endOffset],J),Ha(v.startContainer.childNodes[v.startOffset],J),this._getRangeAndRemoveBookmark(v),this.setSelection(v),this._updatePath(v,!0),Ta||this._docWasChanged(),this};var Hd=function(p){var v=this._root,w=p.querySelectorAll("blockquote");return Array.prototype.filter.call(w,function(J){return!W(J.parentNode,v,"BLOCKQUOTE")}).forEach(function(J){na(J,Y(J))}),
p},Rc=function(){return this.createDefaultBlock([this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),this.createElement("INPUT",{id:"squire-selection-end",type:"hidden"})])},lc=function(p,v,w){var J,U,V;v=D(v,p._root);var ma=p._config.tagAttributes;for(var Ia=ma[w.toLowerCase()],Na=ma.li;ma=v.nextNode();)"LI"===ma.parentNode.nodeName&&(ma=ma.parentNode,v.currentNode=ma.lastChild),"LI"!==ma.nodeName?(V=p.createElement("LI",Na),ma.dir&&(V.dir=ma.dir),(U=ma.previousSibling)&&U.nodeName===
w?(U.appendChild(V),oa(ma)):na(ma,p.createElement(w,Ia,[V])),V.appendChild(Y(ma)),v.currentNode=V):(ma=ma.parentNode,(J=ma.nodeName)!==w&&/^[OU]L$/.test(J)&&na(ma,p.createElement(w,Ia,[Y(ma)])))},Eb=function(p,v){for(var w=p.commonAncestorContainer,J=p.startContainer,U=p.endContainer;w&&w!==v&&!/^[OU]L$/.test(w.nodeName);)w=w.parentNode;if(!w||w===v)return null;J===w&&(J=J.childNodes[p.startOffset]);for(U===w&&(U=U.childNodes[p.endOffset]);J&&J.parentNode!==w;)J=J.parentNode;for(;U&&U.parentNode!==
w;)U=U.parentNode;return[w,J,U]};Ca.increaseListLevel=function(p){if(!p&&!(p=this.getSelection()))return this.focus();var v=this._root,w=Eb(p,v);if(!w)return this.focus();var J=w[0],U=w[1];w=w[2];if(!U||U===J.firstChild)return this.focus();this._recordUndoState(p,this._isInUndoState);var V,ma=J.nodeName,Ia=U.previousSibling;Ia.nodeName!==ma&&(V=this._config.tagAttributes[ma.toLowerCase()],Ia=this.createElement(ma,V),J.insertBefore(Ia,U));do J=U===w?null:U.nextSibling,Ia.appendChild(U);while(U=J);
return J=Ia.nextSibling,J&&Ha(J,v),this._getRangeAndRemoveBookmark(p),this.setSelection(p),this._updatePath(p,!0),Ta||this._docWasChanged(),this.focus()};Ca.decreaseListLevel=function(p){if(!p&&!(p=this.getSelection()))return this.focus();var v=this._root,w=Eb(p,v);if(!w)return this.focus();var J=w[0],U=w[1];w=w[2];U||(U=J.firstChild);w||(w=J.lastChild);this._recordUndoState(p,this._isInUndoState);var V=J.parentNode,ma=w.nextSibling?La(J,w.nextSibling,V,v):J.nextSibling;if(V!==v&&"LI"===V.nodeName){for(V=
V.parentNode;ma;){var Ia=ma.nextSibling;w.appendChild(ma);ma=Ia}ma=J.parentNode.nextSibling}var Na=!/^[OU]L$/.test(V.nodeName);do Ia=U===w?null:U.nextSibling,J.removeChild(U),Na&&"LI"===U.nodeName&&(U=this.createDefaultBlock([Y(U)])),V.insertBefore(U,ma);while(U=Ia);return J.firstChild||oa(J),ma&&Ha(ma,v),this._getRangeAndRemoveBookmark(p),this.setSelection(p),this._updatePath(p,!0),Ta||this._docWasChanged(),this.focus()};Ca._ensureBottomLine=function(){var p=this._root,v=p.lastElementChild;v&&v.nodeName===
this._config.blockTag&&A(v)||p.appendChild(this.createDefaultBlock())};Ca.setKeyHandler=function(p,v){return this._keyHandlers[p]=v,this};Ca._getHTML=function(){return this._root.innerHTML};Ca._setHTML=function(p){var v=this._root,w=v;w.innerHTML=p;do fa(w,v);while(w=N(w,v));this._ignoreChange=!0};Ca.getHTML=function(p){var v,w,J,U=[];if(p&&(J=this.getSelection())&&this._saveRangeToBookmark(J),md)for(v=p=this._root;v=N(v,p);)v.textContent||v.querySelector("BR")||(w=this.createElement("BR"),v.appendChild(w),
U.push(w));if(w=this._getHTML().replace(/\u200B/g,""),md)for(p=U.length;p--;)oa(U[p]);return J&&this._getRangeAndRemoveBookmark(J),w};Ca.setHTML=function(p){var v,w,J=this._config,U=J.isSetHTMLSanitized?J.sanitizeToDOMFragment:null,V=this._root;"function"==typeof U?w=U(p,!1,this):(v=this.createElement("DIV"),v.innerHTML=p,w=this._doc.createDocumentFragment(),w.appendChild(Y(v)));kc(w,J);hd(w,V,!1);Ea(w,V);for(p=w;p=N(p,V);)fa(p,V);for(this._ignoreChange=!0;p=V.lastChild;)V.removeChild(p);V.appendChild(w);
fa(V,V);this._undoIndex=-1;this._undoStackLength=this._undoStack.length=0;this._isInUndoState=!1;w=this._getRangeAndRemoveBookmark()||this.createRange(V.firstChild,0);this.saveUndoState(w);this._lastSelection=w;this._restoreSelection=!0;return this._updatePath(w,!0),this};Ca.insertElement=function(p,v){if(v||(v=this.getSelection()),v.collapse(!0),C(p))$b(v,p),v.setStartAfter(p);else{for(var w,J,U=this._root,V=Xb(v,U)||U;V!==U&&!V.nextSibling;)V=V.parentNode;V!==U&&(w=V.parentNode,J=La(w,V.nextSibling,
U,U));J?U.insertBefore(p,J):(U.appendChild(p),J=this.createDefaultBlock(),U.appendChild(J));v.setStart(J,0);v.setEnd(J,0);Sb(v)}return this.focus(),this.setSelection(v),this._updatePath(v),Ta||this._docWasChanged(),this};Ca.insertImage=function(p,v){p=this.createElement("IMG",da({src:p},v,!0));return this.insertElement(p),p};Ca.linkRegExp=/\b((?:(?:ht|f)tps?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,}\/)(?:[^\s()<>]+|\([^\s()<>]+\))+(?:\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))|([\w\-.%+]+@(?:[\w\-]+\.)+[A-Z]{2,}\b)(?:\?[^&?\s]+=[^&?\s]+(?:&[^&?\s]+=[^&?\s]+)*)?/i;
var Jc=function(p,v,w){var J,U,V,ma=p.ownerDocument,Ia=new I(p,4,function(Sa){return!W(Sa,v,"A")}),Na=w.linkRegExp,$a=w._config.tagAttributes.a;if(Na)for(;p=Ia.nextNode();){var Xa=p.data;for(J=p.parentNode;U=Na.exec(Xa);){var lb=U.index;var rb=lb+U[0].length;lb&&(V=ma.createTextNode(Xa.slice(0,lb)),J.insertBefore(V,p));V=w.createElement("A",da({href:U[1]?/^(?:ht|f)tps?:/i.test(U[1])?U[1]:"http://"+U[1]:"mailto:"+U[0]},$a,!1));V.textContent=Xa.slice(lb,rb);J.insertBefore(V,p);p.data=Xa=Xa.slice(rb)}}};
Ca.insertHTML=function(p,v){var w,J,U,V,ma=this._config,Ia=ma.isInsertedHTMLSanitized?ma.sanitizeToDOMFragment:null,Na=this.getSelection(),$a=this._doc;"function"==typeof Ia?V=Ia(p,v,this):(v&&(w=p.indexOf("\x3c!--StartFragment--\x3e"),J=p.lastIndexOf("\x3c!--EndFragment--\x3e"),-1<w&&-1<J&&(p=p.slice(w+20,J))),/<\/td>((?!<\/tr>)[\s\S])*$/i.test(p)&&(p="<TR>"+p+"</TR>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(p)&&(p="<TABLE>"+p+"</TABLE>"),U=this.createElement("DIV"),U.innerHTML=p,V=$a.createDocumentFragment(),
V.appendChild(Y(U)));this.saveUndoState(Na);try{var Xa=this._root;var lb=V;var rb={fragment:V,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1};Jc(V,V,this);kc(V,ma);hd(V,Xa,!1);id(V);for(V.normalize();lb=N(lb,V);)fa(lb,Xa);v&&this.fireEvent("willPaste",rb);rb.defaultPrevented||(fe(Na,rb.fragment,Xa),Ta||this._docWasChanged(),Na.collapse(!1),this._ensureBottomLine());this.setSelection(Na);this._updatePath(Na,!0);v&&this.focus()}catch(Sa){this.didError(Sa)}return this};var Sc=
function(p){return p.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")};Ca.insertPlainText=function(p,v){var w=this.getSelection();if(w.collapsed&&W(w.startContainer,this._root,"PRE")){var J,U,V=w.startContainer,ma=w.startOffset;return V&&V.nodeType===Ba||(J=this._doc.createTextNode(""),V.insertBefore(J,V.childNodes[ma]),V=J,ma=0),U={text:p,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},v&&this.fireEvent("willPaste",U),U.defaultPrevented||
(p=U.text,V.insertData(ma,p),w.setStart(V,ma+p.length),w.collapse(!0)),this.setSelection(w),this}p=p.split("\n");w=this._config;J=w.blockTag;U=w.blockAttributes;w="</"+J+">";J="<"+J;for(V in U)J+=" "+V+'="'+Sc(U[V])+'"';J+=">";V=0;for(U=p.length;V<U;V+=1)ma=p[V],ma=Sc(ma).replace(/ (?= )/g,"&nbsp;"),p[V]=J+(ma||"<BR>")+w;return this.insertHTML(p.join(""),v)};var Fb=function(p,v,w){return function(){return this[p](v,w),this.focus()}};Ca.addStyles=function(p){if(p){var v=this._doc.documentElement.firstChild,
w=this.createElement("STYLE",{type:"text/css"});w.appendChild(this._doc.createTextNode(p));v.appendChild(w)}return this};Ca.bold=Fb("changeFormat",{tag:"B"});Ca.italic=Fb("changeFormat",{tag:"I"});Ca.underline=Fb("changeFormat",{tag:"U"});Ca.strikethrough=Fb("changeFormat",{tag:"S"});Ca.subscript=Fb("changeFormat",{tag:"SUB"},{tag:"SUP"});Ca.superscript=Fb("changeFormat",{tag:"SUP"},{tag:"SUB"});Ca.removeBold=Fb("changeFormat",null,{tag:"B"});Ca.removeItalic=Fb("changeFormat",null,{tag:"I"});Ca.removeUnderline=
Fb("changeFormat",null,{tag:"U"});Ca.removeStrikethrough=Fb("changeFormat",null,{tag:"S"});Ca.removeSubscript=Fb("changeFormat",null,{tag:"SUB"});Ca.removeSuperscript=Fb("changeFormat",null,{tag:"SUP"});Ca.makeLink=function(p,v){var w=this.getSelection();if(w.collapsed){var J=p.indexOf(":")+1;if(J)for(;"/"===p[J];)J+=1;$b(w,this._doc.createTextNode(p.slice(J)))}return v=da(da({href:p},v,!0),this._config.tagAttributes.a,!1),this.changeFormat({tag:"A",attributes:v},{tag:"A"},w),this.focus()};Ca.removeLink=
function(){return this.changeFormat(null,{tag:"A"},this.getSelection(),!0),this.focus()};Ca.setFontFace=function(p){var v=this._config.classNames.fontFamily;return this.changeFormat(p?{tag:"SPAN",attributes:{class:v,style:"font-family: "+p+", sans-serif;"}}:null,{tag:"SPAN",attributes:{class:v}}),this.focus()};Ca.setFontSize=function(p){var v=this._config.classNames.fontSize;return this.changeFormat(p?{tag:"SPAN",attributes:{class:v,style:"font-size: "+("number"==typeof p?p+"px":p)}}:null,{tag:"SPAN",
attributes:{class:v}}),this.focus()};Ca.setTextColour=function(p){var v=this._config.classNames.colour;return this.changeFormat(p?{tag:"SPAN",attributes:{class:v,style:"color:"+p}}:null,{tag:"SPAN",attributes:{class:v}}),this.focus()};Ca.setHighlightColour=function(p){var v=this._config.classNames.highlight;return this.changeFormat(p?{tag:"SPAN",attributes:{class:v,style:"background-color:"+p}}:p,{tag:"SPAN",attributes:{class:v}}),this.focus()};Ca.setTextAlignment=function(p){return this.forEachBlock(function(v){var w=
v.className.split(/\s+/).filter(function(J){return!!J&&!/^align/.test(J)}).join(" ");p?(v.className=w+" align-"+p,v.style.textAlign=p):(v.className=w,v.style.textAlign="")},!0),this.focus()};Ca.setTextDirection=function(p){return this.forEachBlock(function(v){p?v.dir=p:v.removeAttribute("dir")},!0),this.focus()};var Me=function(p){for(var v=this._root,w=this._doc,J=w.createDocumentFragment(),U=D(p,v);p=U.nextNode();){var V,ma=p.querySelectorAll("BR"),Ia=[],Na=ma.length;for(V=0;V<Na;V+=1)Ia[V]=Gd(ma[V],
!1);for(;Na--;)V=ma[Na],Ia[Na]?na(V,w.createTextNode("\n")):oa(V);ma=p.querySelectorAll("CODE");for(Na=ma.length;Na--;)oa(ma[Na]);J.childNodes.length&&J.appendChild(w.createTextNode("\n"));J.appendChild(Y(p))}for(U=new I(J,4);p=U.nextNode();)p.data=p.data.replace(/\u00a0/g," ");return J.normalize(),fa(this.createElement("PRE",this._config.tagAttributes.pre,[J]),v)},je=function(p){for(var v,w,J,U,V,ma,Ia=this._doc,Na=this._root,$a=p.querySelectorAll("PRE"),Xa=$a.length;Xa--;){v=$a[Xa];for(w=new I(v,
4);J=w.nextNode();){U=J.data;U=U.replace(/ (?= )/g,"\u00a0");for(V=Ia.createDocumentFragment();-1<(ma=U.indexOf("\n"));)V.appendChild(Ia.createTextNode(U.slice(0,ma))),V.appendChild(Ia.createElement("BR")),U=U.slice(ma+1);J.parentNode.insertBefore(V,J);J.data=U}Ea(v,Na);na(v,Y(v))}return p};Ca.code=function(){var p=this.getSelection();return p.collapsed||G(p.commonAncestorContainer)?this.modifyBlocks(Me,p):this.changeFormat({tag:"CODE",attributes:this._config.tagAttributes.code},null,p),this.focus()};
Ca.removeCode=function(){var p=this.getSelection();return W(p.commonAncestorContainer,this._root,"PRE")?this.modifyBlocks(je,p):this.changeFormat(null,{tag:"CODE"},p),this.focus()};Ca.toggleCode=function(){return this.hasFormat("PRE")||this.hasFormat("CODE")?this.removeCode():this.code(),this};Ca.removeAllFormatting=function(p){if(!p&&!(p=this.getSelection())||p.collapsed)return this;for(var v=this._root,w=p.commonAncestorContainer;w&&!A(w);)w=w.parentNode;if(w||(Oc(p,v),w=v),w.nodeType===Ba)return this;
this.saveUndoState(p);Tb(p,w,w,v);var J,U=w.ownerDocument,V=p.startContainer,ma=p.startOffset,Ia=p.endContainer,Na=p.endOffset,$a=U.createDocumentFragment();U=U.createDocumentFragment();Ia=La(Ia,Na,w,v);for(v=La(V,ma,w,v);v!==Ia;){var Xa=v.nextSibling;$a.appendChild(v);v=Xa}return Da(this,$a,U),U.normalize(),v=U.firstChild,Xa=U.lastChild,J=w.childNodes,v?(w.insertBefore(U,Ia),ma=vb.call(J,v),Na=vb.call(J,Xa)+1):(ma=vb.call(J,Ia),Na=ma),p.setStart(w,ma),p.setEnd(w,Na),Ya(w,p),Sb(p),this.setSelection(p),
this._updatePath(p,!0),this.focus()};Ca.increaseQuoteLevel=Fb("modifyBlocks",function(p){return this.createElement("BLOCKQUOTE",this._config.tagAttributes.blockquote,[p])});Ca.decreaseQuoteLevel=Fb("modifyBlocks",Hd);Ca.makeUnorderedList=Fb("modifyBlocks",function(p){return lc(this,p,"UL"),p});Ca.makeOrderedList=Fb("modifyBlocks",function(p){return lc(this,p,"OL"),p});Ca.removeList=Fb("modifyBlocks",function(p){var v,w=p.querySelectorAll("UL, OL"),J=p.querySelectorAll("LI"),U=this._root;var V=0;for(v=
w.length;V<v;V+=1){var ma=w[V];var Ia=Y(ma);Ea(Ia,U);na(ma,Ia)}V=0;for(v=J.length;V<v;V+=1)ma=J[V],A(ma)?na(ma,this.createDefaultBlock([Y(ma)])):(Ea(ma,U),na(ma,Y(ma)));return p});t.isInline=C;t.isBlock=A;t.isContainer=G;t.getBlockWalker=D;t.getPreviousBlock=H;t.getNextBlock=N;t.areAlike=K;t.hasTagAttributes=S;t.getNearest=W;t.isOrContains=T;t.detach=oa;t.replaceWith=na;t.empty=Y;t.getNodeBefore=Gc;t.getNodeAfter=Hc;t.insertNodeInRange=$b;t.extractContentsOfRange=qd;t.deleteContentsOfRange=Ic;t.insertTreeFragmentIntoRange=
fe;t.isNodeContainedInRange=pc;t.moveRangeBoundariesDownTree=Sb;t.moveRangeBoundariesUpTree=Tb;t.getStartBlockOfRange=Xb;t.getEndBlockOfRange=Ib;t.contentWalker=ic;t.rangeDoesStartAtBlockBoundary=Nc;t.rangeDoesEndAtBlockBoundary=qc;t.expandRangeToBlockBoundaries=Oc;t.onPaste=Va;t.addLinks=Jc;t.splitBlock=ud;t.startSelectionId="squire-selection-start";t.endSelectionId="squire-selection-end";ba.exports=t}(document)},function(ba,ja,y){ba.exports=function(u){return"boolean"===typeof u||u instanceof Boolean}},
function(ba,ja,y){(function(u){function R(Y,Z){function fa(){Wa&&(Wa=!1,Y());Ya&&La()}function Ea(){A(fa)}function La(){var za=Date.now();if(Wa){if(2>za-ta)return;Ya=!0}else Wa=!0,Ya=!1,setTimeout(Ea,Z);ta=za}var Wa=!1,Ya=!1,ta=0;return La}function I(Y){for(var Z=[],fa=1;fa<arguments.length;fa++)Z[fa-1]=arguments[fa];return Z.reduce(function(Ea,La){return Ea+(parseFloat(Y["border-"+La+"-width"])||0)},0)}var F=function(){function Y(Z,fa){var Ea=-1;Z.some(function(La,Wa){return La[0]===fa?(Ea=Wa,!0):
!1});return Ea}return"undefined"!==typeof Map?Map:function(){function Z(){this.__entries__=[]}Object.defineProperty(Z.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0});Z.prototype.get=function(fa){fa=Y(this.__entries__,fa);return(fa=this.__entries__[fa])&&fa[1]};Z.prototype.set=function(fa,Ea){var La=Y(this.__entries__,fa);~La?this.__entries__[La][1]=Ea:this.__entries__.push([fa,Ea])};Z.prototype.delete=function(fa){var Ea=this.__entries__;fa=Y(Ea,fa);
~fa&&Ea.splice(fa,1)};Z.prototype.has=function(fa){return!!~Y(this.__entries__,fa)};Z.prototype.clear=function(){this.__entries__.splice(0)};Z.prototype.forEach=function(fa,Ea){void 0===Ea&&(Ea=null);for(var La=0,Wa=this.__entries__;La<Wa.length;La++){var Ya=Wa[La];fa.call(Ea,Ya[1],Ya[0])}};return Z}()}(),L="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,C="undefined"!==typeof u&&u.Math===Math?u:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==
typeof window&&Math===Math?window:Function("return this")(),A=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(C):function(Y){return setTimeout(function(){return Y(Date.now())},1E3/60)}}(),G="top right bottom left width height size weight".split(" "),D="undefined"!==typeof MutationObserver,H=function(){function Y(){this.mutationEventsAdded_=this.connected_=!1;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);
this.refresh=R(this.refresh.bind(this),20)}Y.prototype.addObserver=function(Z){~this.observers_.indexOf(Z)||this.observers_.push(Z);this.connected_||this.connect_()};Y.prototype.removeObserver=function(Z){var fa=this.observers_;Z=fa.indexOf(Z);~Z&&fa.splice(Z,1);!fa.length&&this.connected_&&this.disconnect_()};Y.prototype.refresh=function(){this.updateObservers_()&&this.refresh()};Y.prototype.updateObservers_=function(){var Z=this.observers_.filter(function(fa){return fa.gatherActive(),fa.hasActive()});
Z.forEach(function(fa){return fa.broadcastActive()});return 0<Z.length};Y.prototype.connect_=function(){L&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),D?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=
!0)};Y.prototype.disconnect_=function(){L&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.connected_=this.mutationEventsAdded_=!1)};Y.prototype.onTransitionEnd_=function(Z){Z=Z.propertyName;var fa=void 0===Z?"":Z;G.some(function(Ea){return!!~fa.indexOf(Ea)})&&
this.refresh()};Y.getInstance=function(){this.instance_||(this.instance_=new Y);return this.instance_};Y.instance_=null;return Y}(),N=function(Y,Z){for(var fa=0,Ea=Object.keys(Z);fa<Ea.length;fa++){var La=Ea[fa];Object.defineProperty(Y,La,{value:Z[La],enumerable:!1,writable:!1,configurable:!0})}return Y},K=function(Y){return Y&&Y.ownerDocument&&Y.ownerDocument.defaultView||C},S={x:0,y:0,width:0,height:0},W=function(){return"undefined"!==typeof SVGGraphicsElement?function(Y){return Y instanceof K(Y).SVGGraphicsElement}:
function(Y){return Y instanceof K(Y).SVGElement&&"function"===typeof Y.getBBox}}(),T=function(){function Y(Z){this.broadcastHeight=this.broadcastWidth=0;this.contentRect_={x:0,y:0,width:0,height:0};this.target=Z}Y.prototype.isActive=function(){var Z=this.target;if(L)if(W(Z)){var fa=Z.getBBox();fa={x:0,y:0,width:fa.width,height:fa.height}}else{var Ea=Z.clientWidth,La=Z.clientHeight;if(Ea||La){var Wa=K(Z).getComputedStyle(Z);fa={};for(var Ya=0,ta=["top","right","bottom","left"];Ya<ta.length;Ya++){var za=
ta[Ya];fa[za]=parseFloat(Wa["padding-"+za])||0}var Ha=fa.left+fa.right;za=fa.top+fa.bottom;Ya=parseFloat(Wa.width)||0;ta=parseFloat(Wa.height)||0;"border-box"===Wa.boxSizing&&(Math.round(Ya+Ha)!==Ea&&(Ya-=I(Wa,"left","right")+Ha),Math.round(ta+za)!==La&&(ta-=I(Wa,"top","bottom")+za));Z!==K(Z).document.documentElement&&(Z=Math.round(Ya+Ha)-Ea,La=Math.round(ta+za)-La,1!==Math.abs(Z)&&(Ya-=Z),1!==Math.abs(La)&&(ta-=La));fa={x:fa.left,y:fa.top,width:Ya,height:ta}}else fa=S}else fa=S;this.contentRect_=
fa;return fa.width!==this.broadcastWidth||fa.height!==this.broadcastHeight};Y.prototype.broadcastRect=function(){var Z=this.contentRect_;this.broadcastWidth=Z.width;this.broadcastHeight=Z.height;return Z};return Y}(),ka=function(){return function(Y,Z){var fa=Z.x,Ea=Z.y,La=Z.width;Z=Z.height;var Wa=Object.create(("undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype);N(Wa,{x:fa,y:Ea,width:La,height:Z,top:Ea,right:fa+La,bottom:Z+Ea,left:fa});N(this,{target:Y,contentRect:Wa})}}(),ca=
function(){function Y(Z,fa,Ea){this.activeObservations_=[];this.observations_=new F;if("function"!==typeof Z)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=Z;this.controller_=fa;this.callbackCtx_=Ea}Y.prototype.observe=function(Z){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(Z instanceof K(Z).Element))throw new TypeError('parameter 1 is not of type "Element".');
var fa=this.observations_;fa.has(Z)||(fa.set(Z,new T(Z)),this.controller_.addObserver(this),this.controller_.refresh())}};Y.prototype.unobserve=function(Z){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(Z instanceof K(Z).Element))throw new TypeError('parameter 1 is not of type "Element".');var fa=this.observations_;fa.has(Z)&&(fa.delete(Z),fa.size||this.controller_.removeObserver(this))}};Y.prototype.disconnect=
function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};Y.prototype.gatherActive=function(){var Z=this;this.clearActive();this.observations_.forEach(function(fa){fa.isActive()&&Z.activeObservations_.push(fa)})};Y.prototype.broadcastActive=function(){if(this.hasActive()){var Z=this.callbackCtx_,fa=this.activeObservations_.map(function(Ea){return new ka(Ea.target,Ea.broadcastRect())});this.callback_.call(Z,fa,Z);this.clearActive()}};Y.prototype.clearActive=function(){this.activeObservations_.splice(0)};
Y.prototype.hasActive=function(){return 0<this.activeObservations_.length};return Y}(),oa="undefined"!==typeof WeakMap?new WeakMap:new F,na=function(){function Y(Z){if(!(this instanceof Y))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var fa=H.getInstance();fa=new ca(Z,fa,this);oa.set(this,fa)}return Y}();["observe","unobserve","disconnect"].forEach(function(Y){na.prototype[Y]=function(){var Z;return(Z=
oa.get(this))[Y].apply(Z,arguments)}});u="undefined"!==typeof C.ResizeObserver?C.ResizeObserver:na;ja.a=u}).call(this,y(59))},function(ba,ja,y){function u(){this.contexts=this.events=null}var R=y(7),I=y(28),F=y(9),L=y(54),C=y(17),A=y(27),G=y(26),D=/\s+/g;u.mixin=function(H){R(H.prototype,u.prototype)};u.prototype._getHandlerItem=function(H,N){H={handler:H};N&&(H.context=N);return H};u.prototype._safeEvent=function(H){var N=this.events;N||(N=this.events={});if(H){var K=N[H];K||(K=[],N[H]=K);N=K}return N};
u.prototype._safeContext=function(){var H=this.contexts;H||(H=this.contexts=[]);return H};u.prototype._indexOfContext=function(H){for(var N=this._safeContext(),K=0;N[K];){if(H===N[K][0])return K;K+=1}return-1};u.prototype._memorizeContext=function(H){if(I(H)){var N=this._safeContext();var K=this._indexOfContext(H);-1<K?N[K][1]+=1:N.push([H,1])}};u.prototype._forgetContext=function(H){if(I(H)){var N=this._safeContext();H=this._indexOfContext(H);-1<H&&(--N[H][1],0>=N[H][1]&&N.splice(H,1))}};u.prototype._bindEvent=
function(H,N,K){H=this._safeEvent(H);this._memorizeContext(K);H.push(this._getHandlerItem(N,K))};u.prototype.on=function(H,N,K){var S=this;F(H)?(H=H.split(D),G(H,function(W){S._bindEvent(W,N,K)})):L(H)&&(K=N,G(H,function(W,T){S.on(T,W,K)}))};u.prototype.once=function(H,N,K){function S(){N.apply(K,arguments);W.off(H,S,K)}var W=this;if(L(H))K=N,G(H,function(T,ka){W.once(ka,T,K)});else this.on(H,S,K)};u.prototype._spliceMatches=function(H,N){var K=0,S;if(C(H))for(S=H.length;K<S;K+=1)!0===N(H[K])&&(H.splice(K,
1),--S,--K)};u.prototype._matchHandler=function(H){var N=this;return function(K){var S=H===K.handler;S&&N._forgetContext(K.context);return S}};u.prototype._matchContext=function(H){var N=this;return function(K){var S=H===K.context;S&&N._forgetContext(K.context);return S}};u.prototype._matchHandlerAndContext=function(H,N){var K=this;return function(S){var W=N===S.context;(W=H===S.handler&&W)&&K._forgetContext(S.context);return W}};u.prototype._offByEventName=function(H,N){var K=this,S=A(N),W=K._matchHandler(N);
H=H.split(D);G(H,function(T){var ka=K._safeEvent(T);S?K._spliceMatches(ka,W):(G(ka,function(ca){K._forgetContext(ca.context)}),K.events[T]=[])})};u.prototype._offByHandler=function(H){var N=this,K=this._matchHandler(H);G(this._safeEvent(),function(S){N._spliceMatches(S,K)})};u.prototype._offByObject=function(H,N){var K=this;if(0>this._indexOfContext(H))G(H,function(W,T){K.off(T,W)});else if(F(N)){var S=this._matchContext(H);K._spliceMatches(this._safeEvent(N),S)}else A(N)?(S=this._matchHandlerAndContext(N,
H),G(this._safeEvent(),function(W){K._spliceMatches(W,S)})):(S=this._matchContext(H),G(this._safeEvent(),function(W){K._spliceMatches(W,S)}))};u.prototype.off=function(H,N){F(H)?this._offByEventName(H,N):arguments.length?A(H)?this._offByHandler(H):L(H)&&this._offByObject(H,N):(this.events={},this.contexts=[])};u.prototype.fire=function(H){this.invoke.apply(this,arguments)};u.prototype.invoke=function(H){var N;if(!this.hasListener(H))return!0;var K=this._safeEvent(H);var S=Array.prototype.slice.call(arguments,
1);for(N=0;K[N];){var W=K[N];if(!1===W.handler.apply(W.context,S))return!1;N+=1}return!0};u.prototype.hasListener=function(H){return 0<this.getListenerLength(H)};u.prototype.getListenerLength=function(H){return this._safeEvent(H).length};ba.exports=u},function(ba,ja){ja=function(){return this}();try{ja=ja||(new Function("return this"))()}catch(y){"object"===typeof window&&(ja=window)}ba.exports=ja},,,,,,function(ba,ja,y){function u(l,k,b,c){var g=b,m=c.getLine(l);do{var x=Jc.exec(m);b=x[1];var M=
x[4];x=x[5];var la=b.length;if(la===k)c.replaceRange(""+b+g+M+x,{line:l,ch:0},{line:l,ch:m.length}),g+=1,l+=1;else if(la>k)l=u(l,la,1,c);else break;m=c.getLine(l)}while(Jc.test(m));return l}function R(l){return l.anchor.line===l.head.line&&l.anchor.ch===l.head.ch}function I(l,k,b,c){var g=l.getLine(b.line),m=l.getLine(b.line+c),x={anchor:k,head:b};l.replaceRange(m,{line:b.line,ch:0},{line:b.line,ch:g.length},"+input");l.replaceRange(g,{line:b.line+c,ch:0},{line:b.line+c,ch:m.length},"+input");R(x)?
l.setCursor({line:b.line+c,ch:b.ch}):l.setSelection({line:k.line+c,ch:k.ch},{line:b.line+c,ch:b.ch})}function F(l,k,b,c){var g=l.getRange({line:k.line,ch:0},{line:b.line,ch:l.getLine(b.line).length}),m=l.getLine((0<c?b:k).line+c);var x=0<c?k:b;l.replaceRange(m,{line:x.line,ch:0},{line:x.line,ch:l.getLine(x.line).length},"+input");l.replaceRange(g,{line:k.line+c,ch:0},{line:b.line+c,ch:l.getLine(b.line+c).length},"+input");l.setSelection({line:k.line+c,ch:k.ch},{line:b.line+c,ch:b.ch})}function L(l){l.state.placeholder&&
(l.state.placeholder.parentNode.removeChild(l.state.placeholder),l.state.placeholder=null)}function C(l){L(l);var k=l.state.placeholder=document.createElement("pre");k.style.cssText="height: 0; overflow: visible";k.className="CodeMirror-placeholder";var b=l.getOption("placeholder");"string"==typeof b&&(b=document.createTextNode(b));k.appendChild(b);l.display.lineSpace.insertBefore(k,l.display.lineSpace.firstChild)}function A(l){D(l)&&C(l)}function G(l){var k=l.getWrapperElement(),b=D(l);k.className=
k.className.replace(" CodeMirror-empty","")+(b?" CodeMirror-empty":"");b?C(l):L(l)}function D(l){return 1===l.lineCount()&&""===l.getLine(0)}function H(){H=Object.assign||function(l){for(var k=1;k<arguments.length;k++){var b=arguments[k],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(l[c]=b[c])}return l};return H.apply(this,arguments)}function N(){N=Object.assign||function(l){for(var k=1;k<arguments.length;k++){var b=arguments[k],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(l[c]=
b[c])}return l};return N.apply(this,arguments)}function K(){for(var l=arguments.length,k=Array(l),b=0;b<l;b++)k[b]=arguments[b];return k.map(function(c){return"tui-md-"+c}).join(" ")}function S(l,k,b){return{start:l,end:k,className:b}}function W(l,k,b){l=l.type;return{marks:[S(k,b,K(""+l)),S(k,Object(Ja.a)(k,Mb[l]),hb.DELIM),S(Object(Ja.a)(b,-Mb[l]),b,hb.DELIM)]}}function T(l,k,b,c){return[S(l,k,K("link")),S(b,Object(Ja.m)(k,c),K("link-desc")),S(Object(Ja.m)(l,b.ch+1),Object(Ja.m)(k,c-1),hb.TEXT),
S(Object(Ja.m)(k,c),k,K("link-url")),S(Object(Ja.m)(k,c+1),Object(Ja.a)(k,-1),hb.TEXT)]}function ka(l,k){for(var b=[];l;){var c=l.type;"paragraph"!==c&&"codeBlock"!==c||b.push(S({line:Object(Ja.f)(l)-1,ch:Object(Ja.e)(l)-1},{line:Object(Ja.d)(l)-1,ch:Object(Ja.c)(l)},k));l=l.next}return b}function ca(l,k,b,c){var g=l.type;return zc()(Ac[g])?Ac[g](l,k,b,c):Tc[g]?{marks:[S(k,b,Tc[g])]}:null}function oa(l,k){var b;if("undefined"===typeof Symbol||null==l[Symbol.iterator]){if(Array.isArray(l)||(b=na(l))||
k&&l&&"number"===typeof l.length){b&&(l=b);var c=0;return function(){return c>=l.length?{done:!0}:{done:!1,value:l[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}b=l[Symbol.iterator]();return b.next.bind(b)}function na(l,k){if(l){if("string"===typeof l)return Y(l,k);var b=Object.prototype.toString.call(l).slice(8,-1);"Object"===b&&l.constructor&&(b=l.constructor.name);if("Map"===b||
"Set"===b)return Array.from(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Y(l,k)}}function Y(l,k){if(null==k||k>l.length)k=l.length;for(var b=0,c=Array(k);b<k;b++)c[b]=l[b];return c}function Z(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function fa(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function Ea(){Ea=Object.assign||function(l){for(var k=1;k<arguments.length;k++){var b=
arguments[k],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(l[c]=b[c])}return l};return Ea.apply(this,arguments)}function La(l,k,b,c){var g=Ea({},pf),m=!1;Object(Ja.n)(l,function(x){var M=x.type;x=x.listData;M="list"===M||"item"===M?x.task?"taskList":"ordered"===x.type?"orderedList":"list":-1!==M.indexOf("table")?"table":M;Rc()(g[M])&&("list"===M||"orderedList"===M?m||(m=g[M]=!0):g[M]=!0)});Object(Ja.k)(l)&&(c===k&&Object(Ja.d)(l)===b||c===Object(Ja.c)(l)+1&&b===Object(Ja.d)(l)||c===Object(Ja.e)(l)&&
b===Object(Ja.f)(l))&&(g[l.type]=!1);return g}function Wa(l,k){return l||k?!l&&k||l&&!k?!0:Object.keys(k).some(function(b){return l[b]!==k[b]}):!1}function Ya(l){for(var k=[],b=document.createTreeWalker(l,1,null,!1);b.nextNode();){var c=b.currentNode;if(E.a.isElemNode(c)){var g=c.outerHTML,m=c.textContent,x=Vc.test(g);g=Kd.test(g);x&&!g&&m?k.push([c,!0]):(Ld.test(c.nodeName)||x&&!m||g)&&k.push([c,!1])}}k.forEach(function(M){var la=M[0];M[1]?E.a.unwrap(la):E.a.remove(la)});return l.innerHTML.trim()}
function ta(l){var k=[];l.forEach(function(b,c){var g=k[c-1],m=b.getAttribute("style").match(Kd)[1].trim().split(" ")[1];m=parseInt(m.replace("level",""),10);var x=cg.test(b.textContent);b={id:c,level:m,prev:null,parent:null,children:[],unorderedListItem:x,contents:Ya(b)};if(g)if(g.level<b.level)g.children.push(b),b.parent=g;else{for(;g&&g.level!==b.level;)g=g.parent;g&&(b.prev=g,b.parent=g.parent,b.parent&&b.parent.children.push(b))}k.push(b)});return k}function za(l){var k=document.createElement(l[0].unorderedListItem?
"ul":"ol");l.forEach(function(b){var c=b.children;b=b.contents;var g=document.createElement("li");g.innerHTML=b;k.appendChild(g);c.length&&k.appendChild(za(c))});return k}function Ha(l){l=ta(l).filter(function(k){return!k.parent});return za(l)}function ya(l){var k=[];E.a.findAll(l,"p.MsoListParagraph").forEach(function(b){var c;for(c=b.nextSibling;c&&!E.a.isElemNode(c);)c=c.nextSibling;c=c?!ag.test(c.className):!0;k.push(b);if(c){c=Ha(k);var g=b.nextSibling;g?E.a.insertBefore(c,g):E.a.append(l,c);
k=[]}E.a.remove(b)});return l}function da(l,k){k="<"+k+"><br /></"+k+">";for(var b="",c=0;c<l;c+=1)b+=k;return b}function t(l){return l?l.replace(/[<>&]/g,function(k){return yf[k]||k}):""}function P(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function X(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function sa(l,k,b){k in l?Object.defineProperty(l,k,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[k]=b;return l}function Da(l,
k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function Aa(l,k,b){k in l?Object.defineProperty(l,k,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[k]=b;return l}function Ba(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Qa(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function ha(l,k,b){k in l?Object.defineProperty(l,k,{value:b,enumerable:!0,configurable:!0,
writable:!0}):l[k]=b;return l}function ra(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function qa(l,k,b){k in l?Object.defineProperty(l,k,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[k]=b;return l}function va(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Ma(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function Ga(l,k,b){k in l?Object.defineProperty(l,
k,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[k]=b;return l}function ob(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Rb(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function Kb(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function gb(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return l}function fc(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function nc(l,k,b){k in l?Object.defineProperty(l,k,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[k]=b;return l}function dd(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function Fa(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function ab(l,k){l.prototype=Object.create(k.prototype);
l.prototype.constructor=l;l.__proto__=k}function Hb(l,k,b){k in l?Object.defineProperty(l,k,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[k]=b;return l}function md(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function ed(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function Ed(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function Ta(l,k){l.prototype=Object.create(k.prototype);
l.prototype.constructor=l;l.__proto__=k}function nd(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function oc(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function vb(l){return l.map(function(k){return'<button type="button" class="te-popup-code-block-lang-'+k+'" data-lang="'+k+'">'+k+"</button>"}).join("")}function Mc(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function de(l){if(void 0===
l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Ge(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function od(l,k){l.prototype=Object.create(k.prototype);l.prototype.constructor=l;l.__proto__=k}function hc(l,k,b){k in l?Object.defineProperty(l,k,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[k]=b;return l}function fd(l,k,b){var c=k.match(/^(\s*)((?:.|\n)*\S)(\s*)$/m);k=c[1];var g=c[2];c=c[3];var m=
E.a.isElemNode,x=E.a.isTextNode,M=x(l.previousSibling)&&m(l.firstChild);m=x(l.nextSibling)&&m(l.lastChild);M||m?(l=l.nodeName.toLowerCase(),l="<"+l+">"+g+"</"+l+">"):l=""+b+g+b;return""+k+l+c}function be(l){for(var k=[],b=Uf.exec(l);b;){var c=b.index;k.push([c,c+b[0].length]);b=Uf.exec(l)}return l.replace(Pg,function(g,m){return k.some(function(x){return m>x[0]&&m<x[1]})?g:"\\"+g})}function ce(l){l.hasFormat("b")||l.hasFormat("strong")?l.changeFormat(null,{tag:"b"}):l.hasFormat("PRE")||(l.hasFormat("code")&&
l.changeFormat(null,{tag:"code"}),l.bold())}function pd(l){l.hasFormat("i")||l.hasFormat("em")?l.changeFormat(null,{tag:"i"}):l.hasFormat("PRE")||(l.hasFormat("code")&&l.changeFormat(null,{tag:"code"}),l.italic())}function Gc(l){l.hasFormat("S")?l.changeFormat(null,{tag:"S"}):l.hasFormat("PRE")||(l.hasFormat("code")&&l.changeFormat(null,{tag:"code"}),l.strikethrough())}function Hc(l,k){ib()(k).forEach(function(b){l.appendChild(b.cloneNode(!0))})}function $b(l){l=l.cloneNode(!0);var k=yb.a.msie?"":
"<br />";E.a.findAll(l,"td").forEach(function(b){b.innerHTML=k});return l}function qd(l,k){var b=l.getSelection();b.selectNodeContents(k.querySelector("td"));b.collapse(!0);l.setSelection(b)}function Ic(l,k){void 0===k&&(k=1);var b=E.a.parents(l,"table")[0];if(b){var c=Zc()(l,ib()(l.parentNode.childNodes)),g;E.a.findAll(b,"tr").forEach(function(m){var x="TBODY"===E.a.getNodeName(m.parentNode),M=yb.a.msie;m=m.children[c];for(var la=0;la<k;la+=1)g=x?document.createElement("td"):document.createElement("th"),
M||g.appendChild(document.createElement("br")),E.a.insertAfter(g,m)})}}function fe(l,k,b,c){b=b.querySelector("td");k.setStart(b,0);k.collapse(!0);c.setLastCellNode(b);l.setSelection(k)}function pc(l,k,b){var c=b.querySelectorAll("tbody tr").length;l=E.a.parents(l,"thead").length;var g=k.from.row;k=k.to.row;l&&(g+=1);1!==g&&!l||k!==c||--k;return E.a.findAll(b,"tr").slice(g,k+1)}function Sb(l,k,b){var c=k.getSelectedCells();c.length?(k=k.getSelectionRangeFromTable(c[0],c[c.length-1]),b=pc(c[0],k,b)):
(c=E.a.closest(l.startContainer,"td,th"),k=k.getSelectionRangeFromTable(c,c),b=pc(c,k,b));return b}function Tb(l){var k=E.a.parents(l,"table")[0];if(k){var b=Zc()(l,ib()(l.parentNode.childNodes));E.a.findAll(k,"tr").forEach(function(c){E.a.remove(c.children[b])})}}function Xb(l,k,b){var c=b.isDivided||!1,g=b.startColumnIndex,m=b.endColumnIndex;l=E.a.findAll(l,"tr");var x=l.length?l[0].querySelectorAll("td,th").length:0;l.forEach(function(M){ib()(E.a.children(M,"td,th")).forEach(function(la,ua){c&&
(g<=ua&&ua<=x||ua<=m)?la.setAttribute("align",k):g<=ua&&ua<=m&&la.setAttribute("align",k)})})}function Ib(l){l=l.getEditor().getSelection();return E.a.closest(l.startContainer,"li")}function ic(l,k){!k.hasFormat("PRE")&&k.hasFormat("code")?(k.changeFormat(null,{tag:"code"}),k=l.getSelection().cloneRange(),"CODE"===E.a.getNodeName(k.startContainer.nextSibling)&&0===E.a.getTextLength(k.startContainer.nextSibling)&&E.a.remove(k.startContainer.nextSibling)):k.hasFormat("a")||k.hasFormat("PRE")||(k.hasFormat("b")?
k.removeBold():k.hasFormat("i")&&k.removeItalic(),k.changeFormat({tag:"code"}),l=k.getSelection().cloneRange(),l.setStart(l.endContainer,l.endOffset),l.collapse(!0),k.setSelection(l))}function Nc(l,k){var b=k.syncScrollTop,c=k.releaseEventBlock;clearTimeout(Cg);b(l);Cg=setTimeout(function(){c()},15)}function qc(l,k,b){var c=k-l,g=Date.now();(function x(){var M=(Date.now()-g)/200;kf&&clearTimeout(kf);1>M?(M=l+c*Math.cos((1-M)*Math.PI/2),Nc(Math.ceil(M),b),kf=setTimeout(x,1)):(Nc(k,b),kf=null)})()}
function Oc(l,k){var b=Object(ad.a)(k);l=b||l.offsetHeight;b||Object(ad.d)(k,l);return l}function vc(l,k,b,c,g){var m=Object(Ja.f)(b);l=l.lineInfo(k).handle.height;var x=Oc(g,0);c=c.getBoundingClientRect().top-g.getBoundingClientRect().top;g=.5*-x;Object(Ja.j)(b)&&(g=k=(k-m+1)*l,c+=k);return{top:c,additionalScrollTop:g}}function rd(l,k,b){var c=k._previewContent,g=k.el;k=l.cm;var m=l.toastMark;l=k.getScrollInfo();var x=l.left,M=l.top,la=l.height-M<=l.clientHeight;l=g.scrollTop;var ua=la?g.scrollHeight:
0;if(M&&!la){x=(b?k.coordsChar({left:x,top:M},"local"):k.getCursor("from")).line;ua=m.findFirstNodeAtLine(x+1);if(!ua||Object(Ja.g)(ua))return;ua=Object(ac.f)(ua);var Oa=ua.node;m=ua.mdNode;var cb=Object(Ja.f)(m);la=Oc(g,0);ua=Object(ac.g)(Oa,c)||Oa.offsetTop;if(!b){k=vc(k,x,m,Oa,g);M=k.top;if(0<M&&M<la)return;ua+=k.additionalScrollTop;cd=null}else if(Object(ac.h)(m)&&(b=Oc(Oa,m.id),c=k.heightAtLine(cb-1,"local"),k=Object(ac.c)(m,k),ua+=Object(ac.b)(M,c,k,b),ua=Object(ac.d)({latestScrollTop:cd,scrollTop:M,
targetScrollTop:ua,sourceScrollTop:l}),cd=M,ua===l))return}bd=!0;qc(l,ua,{syncScrollTop:function(kb){return g.scrollTop=kb},releaseEventBlock:function(){return bd=!1}})}function wc(l,k,b){var c=Object(ad.a)(k),g=Object(ad.b)(k),m=c||l.offsetHeight;l=g||Object(ac.g)(l,b)||l.offsetTop;c||Object(ad.d)(k,m);g||Object(ad.e)(k,l);return{offsetHeight:m,offsetTop:l}}function Pc(l,k){for(;!l.getAttribute("data-nodeid")&&l.parentElement!==k;)l=l.parentElement;return l}function gd(l,k,b){var c=l.toastMark,g=
l.cm,m=k.el;l=m.scrollTop;k=k._previewContent;var x=m.scrollHeight-l<=m.clientHeight,M=g.getScrollInfo(),la=M.left;m=M.top;M=M.height;M=x?M:0;if(l&&b&&!x){b=Pc(b,k);if(!b.getAttribute("data-nodeid"))return;x=g.coordsChar({left:la,top:m},"local").line;b=Number(b.getAttribute("data-nodeid"));M=Object(ac.f)(c.findNodeById(b));c=M.mdNode;la=M.node;var ua=Object(Ja.f)(c);M=g.heightAtLine(ua-1,"local");Object(Ja.i)(c)&&(M+=Object(ac.e)(g,ua,x));if(Object(ac.h)(c)&&(c=Object(ac.c)(c,g),k=wc(la,b,k),M+=Object(ac.b)(l,
k.offsetTop,k.offsetHeight,c),M=Object(ac.d)({latestScrollTop:ee,scrollTop:l,targetScrollTop:M,sourceScrollTop:m}),ee=l,M===m))return}Cb=!0;qc(m,M,{syncScrollTop:function(Oa){return g.scrollTo(0,Oa)},releaseEventBlock:function(){return Cb=!1}})}function Jb(l){if(!l.isViewer()&&"default"===l.getUI().name){var k=l.i18n;k={ACTIVE:k.get("Auto scroll enabled"),INACTIVE:k.get("Auto scroll disabled")};var b=l.getUI().getToolbar(),c=document.createElement("button");c.className="tui-scrollsync active";b.addItem("divider");
b.addItem({type:"button",options:{command:"scrollSyncToggle",tooltip:k.ACTIVE,el:c}});c=b.getItems();b=c[c.length-2].el;c=c[c.length-1];Qc(l,c,b);mf(l,c,b);Ie(l,c,k)}}function mf(l,k,b){l.on("changeMode",function(){return Qc(l,k,b)});l.on("changePreviewStyle",function(){return Qc(l,k,b)})}function Ie(l,k,b){l.addCommand("markdown",{name:"scrollSyncToggle",exec:function(){gc=!gc;k._onOut();gc?(k.el.className="tui-scrollsync active",k.setTooltip(b.ACTIVE)):(k.el.className="tui-scrollsync",k.setTooltip(b.INACTIVE));
k._onOver()}})}function Qc(l,k,b){"vertical"===l.mdPreviewStyle&&"markdown"===l.currentMode?(Va()(k.el,{display:"inline-block"}),Va()(b,{display:"inline-block"})):(Va()(k.el,{display:"none"}),Va()(b,{display:"none"}))}function he(l){var k=l.mdEditor,b=l.preview;Jb(l);of(k,b);Fd(k,b);k.cm.on("change",function(){return He=!1})}function Fd(l,k){l.eventManager.listen("previewRenderAfter",function(){setTimeout(function(){gc&&rd(l,k);He=!0},200)})}function of(l,k){l.eventManager.listen("scroll",function(b){var c=
b.source;b=b.data;gc&&He&&k.isVisible()&&("markdown"!==c||Cb?"preview"!==c||bd||gd(l,k,b):rd(l,k,!0))})}function Db(){Db=Object.assign||function(l){for(var k=1;k<arguments.length;k++){var b=arguments[k],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(l[c]=b[c])}return l};return Db.apply(this,arguments)}y.r(ja);var sd=y(10),kc=y.n(sd),id=y(28),td=y.n(id),Gd=y(34),hd=y.n(Gd),Je=y(7),Qb=y.n(Je),Ke=y(4),Va=y.n(Ke),yc=y(5),Ca=y.n(yc),Le=y(6),db=y.n(Le),rc=y(22),ie=y(29),ud=y(12),Hd=y(56),Rc=y.n(Hd),
lc=y(15),Eb=y.n(lc),Jc=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/;Eb.a.commands.indentLessOrderedList=function(l){if(l.getOption("disableInput"))return Eb.a.Pass;l.execCommand("indentLess");l.execCommand("fixOrderedListNumber");return null};Eb.a.commands.fixOrderedListNumber=function(l){if(l.getOption("disableInput")||l.state.isCursorInCodeBlock)return Eb.a.Pass;for(var k=l.listSelections(),b=0;b<k.length;b+=1){var c=k[b].head.line;for(var g=l,m=c,x=g.getLine(c);Jc.test(x);)--m,x=g.getLine(m);
c=m=c===m?-1:m+1;0<=c&&(g=l.getLine(c),g=Jc.exec(g),u(c,g[1].length,parseInt(g[3],10),l))}return null};Eb.a.overlayMode=function(l,k,b){return{startState:function(){return{base:Eb.a.startState(l),overlay:Eb.a.startState(k),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(c){return{base:Eb.a.copyState(l,c.base),overlay:Eb.a.copyState(k,c.overlay),basePos:c.basePos,baseCur:null,overlayPos:c.overlayPos,overlayCur:null}},token:function(c,g){if(c!=g.streamSeen||
Math.min(g.basePos,g.overlayPos)<c.start)g.streamSeen=c,g.basePos=g.overlayPos=c.start;c.start==g.basePos&&(g.baseCur=l.token(c,g.base),g.basePos=c.pos);c.start==g.overlayPos&&(c.pos=c.start,g.overlayCur=k.token(c,g.overlay),g.overlayPos=c.pos);c.pos=Math.min(g.basePos,g.overlayPos);return null==g.overlayCur?g.baseCur:null!=g.baseCur&&g.overlay.combineTokens||b&&null==g.overlay.combineTokens?g.baseCur+" "+g.overlayCur:g.overlayCur},indent:l.indent&&function(c,g){return l.indent(c.base,g)},electricChars:l.electricChars,
innerMode:function(c){return{state:c.base,mode:l}},blankLine:function(c){l.blankLine&&l.blankLine(c.base);k.blankLine&&k.blankLine(c.overlay)}}};var Sc=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]\s))(\s*)/,Fb=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,Me=/[*+-]\s/;Eb.a.commands.indentOrderedList=function(l){if(l.getOption("disableInput"))return Eb.a.Pass;for(var k=l.listSelections(),b=0;b<k.length;b++){var c=k[b].head;c=l.getLine(c.line).substr(0,c.ch);Sc.test(c)||l.somethingSelected()?
l.indentSelection("add"):l.execCommand("insertSoftTab")}l.execCommand("fixOrderedListNumber")};Eb.a.commands.newlineAndIndentContinueMarkdownList=function(l){if(l.getOption("disableInput")||l.state.isCursorInCodeBlock)l.execCommand("newlineAndIndent");else{for(var k=l.listSelections(),b=[],c=0;c<k.length;c++){var g=k[c].head,m=l.getLine(g.line),x=Sc.exec(m),M=/^\s*$/.test(m.slice(0,g.ch));if(!k[c].empty()||!x||M){l.execCommand("newlineAndIndent");return}if(Fb.test(m))/>\s*$/.test(m)||l.replaceRange("",
{line:g.line,ch:0},{line:g.line,ch:g.ch+1}),b[c]="\n";else{m=x[1];M=x[5];var la=!(Me.test(x[2])||0<=x[2].indexOf(">"));x=la?parseInt(x[3],10)+1+x[4]:x[2].replace("x"," ");b[c]="\n"+m+x+M;if(la)a:{x=l;g=g.line;M=m=0;la=Sc.exec(x.getLine(g));var ua=la[1];do{m+=1;var Oa=g+m,cb=x.getLine(Oa),kb=Sc.exec(cb);if(kb){var Gb=kb[1],Pb=parseInt(la[3],10)+m-M,eb=parseInt(kb[3],10),Bd=eb;if(ua!==Gb||isNaN(eb)){if(ua.length>Gb.length)break a;if(ua.length<Gb.length&&1===m)break a;M+=1}else Pb===eb&&(Bd=eb+1),Pb>
eb&&(Bd=Pb+1),x.replaceRange(cb.replace(Sc,Gb+Bd+kb[4]+kb[5]),{line:Oa,ch:0},{line:Oa,ch:cb.length})}}while(kb)}}}l.replaceSelections(b)}};Eb.a.commands.replaceLineTextToUpper=function(l){if(l.getOption("disableInput"))return Eb.a.Pass;for(var k=l.listSelections(),b=0;b<k.length;b++){var c=k[b],g=c.anchor,m=c.head;c.anchor.line===c.head.line&&0<m.line?I(l,g,m,-1):R(c)||(c=g.line<m.line?g.line:m.line,0<c&&F(l,g.line===c?g:m,g.line===c?m:g,-1))}};Eb.a.commands.replaceLineTextToLower=function(l){if(l.getOption("disableInput"))return Eb.a.Pass;
for(var k=l.listSelections(),b=0;b<k.length;b++){var c=k[b],g=c.anchor,m=c.head,x=m.line===l.lastLine();c.anchor.line!==c.head.line||x?R(c)||(x=g.line<m.line?g.line:m.line,c=g.line===x?g:m,g=g.line===x?m:g,g.line<l.lastLine()&&F(l,c,g,1)):I(l,g,m,1)}};Eb.a.defineOption("placeholder","",function(l,k,b){b=b&&b!=Eb.a.Init;k&&!b?(l.on("blur",A),l.on("change",G),l.on("swapDoc",G),G(l)):!k&&b&&(l.off("blur",A),l.off("change",G),l.off("swapDoc",G),L(l),b=l.getWrapperElement(),b.className=b.className.replace(" CodeMirror-empty",
""));k&&!l.hasFocus()&&A(l)});var je=function(){function l(b,c){void 0===c&&(c={});this.editorContainerEl=b;this.cm=null;this._init(c)}var k=l.prototype;k._init=function(b){var c=document.createElement("textarea");this.editorContainerEl.appendChild(c);b=H({},b,{lineWrapping:!0,theme:"default",extraKeys:H({"Shift-Tab":"indentLess","Alt-Up":"replaceLineTextToUpper","Alt-Down":"replaceLineTextToLower"},b.extraKeys),indentUnit:4,cursorScrollMargin:12,specialCharPlaceholder:function(){return document.createElement("span")}});
this.cm=Eb.a.fromTextArea(c,b)};k.getCurrentRange=function(){var b=this.cm.getCursor("from"),c=this.cm.getCursor("to");return{from:b,to:c,collapsed:b.line===c.line&&b.ch===c.ch}};k.focus=function(){this.cm.focus()};k.blur=function(){this.cm.getInputField().blur()};k.remove=function(){this.cm.toTextArea()};k.setValue=function(b,c){void 0===c&&(c=!0);this.cm.setValue(b);c&&this.moveCursorToEnd();this.cm.doc.clearHistory();this.cm.refresh()};k.getValue=function(){return this.cm.getValue("\n")};k.getEditor=
function(){return this.cm};k.reset=function(){this.setValue("")};k.getCaretPosition=function(){return this.cm.cursorCoords()};k.addWidget=function(b,c,g,m){m&&(b.ch+=m);this.cm.addWidget(b.end,c,!0,g)};k.replaceSelection=function(b,c){c&&this.cm.setSelection(c.from,c.to);this.cm.replaceSelection(b);this.focus()};k.replaceRelativeOffset=function(b,c,g){var m=this.cm.getCursor();this.replaceSelection(b,{from:{line:m.line,ch:m.ch+c},to:{line:m.line,ch:m.ch+c+g}})};k.setHeight=function(b){var c=this.getWrapperElement();
Va()(c,{height:b+"px"})};k.setMinHeight=function(b){var c=this.getWrapperElement();Va()(c,{minHeight:b+"px"})};k.setPlaceholder=function(b){b&&this.cm.setOption("placeholder",b)};k.getWrapperElement=function(){return this.cm.getWrapperElement()};k.getCursor=function(b){return this.cm.getCursor(b)};k.moveCursorToEnd=function(){var b=this.getEditor().getDoc(),c=b.lastLine();b.setCursor(c,b.getLine(c).length)};k.moveCursorToStart=function(){var b=this.getEditor().getDoc(),c=b.firstLine();b.setCursor(c,
0)};k.scrollTop=function(b){b&&this.cm.scrollTo(0,b);return this.cm.getScrollInfo().top};k.getRange=function(){var b=this.cm.getCursor("from"),c=this.cm.getCursor("to");return{start:{line:b.line,ch:b.ch},end:{line:c.line,ch:c.ch}}};k.on=function(b,c){this.cm.on(b,c)};k.off=function(b,c){this.cm.off(b,c)};return l}(),z="   CANCEL   HELP  BACK_SPACE TAB   CLEAR ENTER ENTER_SPECIAL     PAUSE CAPS_LOCK KANA EISU JUNJA FINAL HANJA  ESCAPE CONVERT NONCONVERT ACCEPT MODECHANGE SPACE PAGE_UP PAGE_DOWN END HOME LEFT UP RIGHT DOWN SELECT PRINT EXECUTE PRINTSCREEN INSERT DELETE  0 1 2 3 4 5 6 7 8 9 : ; < = > ? AT A B C D E F G H I J K L M N O P Q R S T U V W X Y Z   CONTEXT_MENU  SLEEP NUMPAD0 NUMPAD1 NUMPAD2 NUMPAD3 NUMPAD4 NUMPAD5 NUMPAD6 NUMPAD7 NUMPAD8 NUMPAD9 MULTIPLY ADD SEPARATOR SUBTRACT DECIMAL DIVIDE F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 F16 F17 F18 F19 F20 F21 F22 F23 F24         NUM_LOCK SCROLL_LOCK WIN_OEM_FJ_JISHO WIN_OEM_FJ_MASSHOU WIN_OEM_FJ_TOUROKU WIN_OEM_FJ_LOYA WIN_OEM_FJ_ROYA          @ ! \" # $ % & _ ( ) * + | - { } ~     VOLUME_MUTE VOLUME_DOWN VOLUME_UP   ; = , - . / `                           [ \\ ] '  META ALTGR  WIN_ICO_HELP WIN_ICO_00  WIN_ICO_CLEAR   WIN_OEM_RESET WIN_OEM_JUMP WIN_OEM_PA1 WIN_OEM_PA2 WIN_OEM_PA3 WIN_OEM_WSCTRL WIN_OEM_CUSEL WIN_OEM_ATTN WIN_OEM_FINISH WIN_OEM_COPY WIN_OEM_AUTO WIN_OEM_ENLW WIN_OEM_BACKTAB ATTN CRSEL EXSEL EREOF PLAY ZOOM  PA1 WIN_OEM_CLEAR ".split(" "),
Q,p=function(){function l(b){this._setSplitter(b)}var k=l.prototype;k._setSplitter=function(b){this._splitter=b?b.splitter:"+"};k.convert=function(b){var c=[];b.shiftKey&&c.push("SHIFT");b.ctrlKey&&c.push("CTRL");b.metaKey&&c.push("META");b.altKey&&c.push("ALT");(b=this._getKeyCodeChar(b.keyCode))&&c.push(b);return c.join(this._splitter)};k._getKeyCodeChar=function(b){return z[b]};l.getSharedInstance=function(){Q||(Q=new l);return Q};l.keyCode=function(b){return z.indexOf(b)};return l}(),v=/^[ \t]*([-*]|[\d]+\.)( \[[ xX]])? /,
w=/^[ \t]*([*-] |[\d]+\. )(\[[ xX]] )/,J=/^[ \t]*[-*] .*/,U=/^[ \t]*[\d]+\. \[[ xX]] .*/,V=/([*-] |[\d]+\. )/,ma=/([-*] |[\d]+\. )(\[[ xX]] )/,Ia=/([-*]|[\d]+\.)( \[[ xX]])? /,Na=/([-*])( \[[ xX]]) /,$a=/([\d])+\.( \[[ xX]])? /,Xa=/^\|([-\s\w\d\t<>?!@#$%^&*()_=+\\/'";: \r[\]]*\|+)+/i,lb=/^#+\s/,rb=/^ {0,3}(```|\||>)/,Sa=function(){function l(b){this.cm=b.getEditor();this.doc=this.cm.getDoc();this.toastMark=b.getToastMark();this.name="list"}var k=l.prototype;k._createSortedLineRange=function(b){var c=
b.from.line>b.to.line;return{start:c?b.to.line:b.from.line,end:c?b.from.line:b.to.line}};k._calculateOrdinalNumber=function(b){var c=1;for(--b;0<=b;--b){var g=this._getListDepth(b);if(1===g&&$a.exec(this.doc.getLine(b))){c=parseInt(RegExp.$1,10)+1;break}else if(0===g)break}return c};k._isListLine=function(b){return!!v.exec(this.doc.getLine(b))};k._isCanBeList=function(b){b=this.doc.getLine(b);return!rb.test(b)&&!Xa.test(b)&&!lb.test(b)};k._getChangeFn=function(b){var c=this;switch(b){case "ol":case "ul":var g=
function(m){return c._changeToList(m,b)};break;case "task":g=function(m){return c._changeToTask(m)}}return g};k.changeSyntax=function(b,c){var g=[],m=this._createSortedLineRange(b);b=m.start;m=m.end;for(c=this._getChangeFn(c);b<=m&&this._isCanBeList(b);b+=1)this._isListLine(b)||g.push(b),c(b);this._insertBlankLineForNewList(g);this.cm.focus()};k._replaceLineText=function(b,c){this.doc.replaceRange(b,{line:c,ch:0})};k._changeToList=function(b,c){var g=this;this._isListLine(b)?this._changeSameDepthList(b,
"ol"===c?function(m,x){g._replaceListTypeToOL(m,x)}:function(m){g._replaceListTypeToUL(m)}):this._replaceLineText("ol"===c?this._calculateOrdinalNumber(b)+". ":"* ",b)};k._changeToTask=function(b){w.exec(this.doc.getLine(b))?this._replaceLineTextByRegexp(b,ma,"$1"):this._isListLine(b)?this._replaceLineTextByRegexp(b,V,"$1[ ] "):this._replaceLineText("* [ ] ",b)};k._getListDepth=function(b){var c=0;if(this.doc.getLine(b))for(b=this.toastMark.findFirstNodeAtLine(b+1);b&&"document"!==b.type;)"list"===
b.type&&(c+=1),b=b.parent;return c};k._findSameDepthList=function(b,c,g){for(var m=this.doc.lineCount(),x=[],M;g?b<m-1:0<b;)if(b=g?b+1:b-1,M=this._getListDepth(b),M===c)x.push(b);else if(M<c)break;return x};k._changeSameDepthList=function(b,c){var g=this._getListDepth(b),m=this._findSameDepthList(b,g,!1).reverse();g=this._findSameDepthList(b,g,!0);m.concat([b]).concat(g).forEach(function(x,M){c(x,M+1)})};k._replaceLineTextByRegexp=function(b,c,g){var m=this.doc.getLine(b),x={line:b,ch:0};b={line:b,
ch:m.length};m=m.replace(c,g);this.doc.replaceRange(m,x,b)};k._replaceListTypeToUL=function(b){var c=this.doc.getLine(b);Na.exec(c)?this._replaceLineTextByRegexp(b,Na,"$1 "):$a.exec(c)&&this._replaceLineTextByRegexp(b,$a,"* ")};k._replaceListTypeToOL=function(b,c){var g=this.doc.getLine(b);J.exec(g)||U.exec(g)?this._replaceLineTextByRegexp(b,Ia,c+". "):$a.exec(g)&&parseInt(RegExp.$1,10)!==c&&this._replaceLineTextByRegexp(b,$a,c+". ")};k._insertBlankLineForNewList=function(b){var c=b.length;if(c){var g=
b[0];b=b[c-1];this._isNotBlankNotListLine(b+1)&&this.doc.replaceRange("\n",{line:b,ch:this.doc.getLine(b).length});0<g&&this._isNotBlankNotListLine(g-1)&&this.doc.replaceRange("\n",{line:g,ch:0})}};k._isNotBlankNotListLine=function(b){return!!this.doc.getLine(b)&&!this._isListLine(b)};return l}(),Vb=function(){function l(b){this._managers={};this._editor=b}var k=l.prototype;k.addManager=function(b,c){c||(c=b,b=null);c=new c(this._editor);this._managers[b||c.name]=c};k.getManager=function(b){return this._managers[b]};
k.removeManager=function(b){var c=this.getManager(b);c&&(c.destroy&&c.destroy(),delete this._managers[b])};return l}(),bc=function(){function l(b,c){this._mde=b;this.setRange(c||b.getRange())}var k=l.prototype;k._setStart=function(b){this._start=b};k._setEnd=function(b){this._end=b};k.setRange=function(b){this._setStart(b.start);this._setEnd(b.end)};k.setEndBeforeRange=function(b){this._setEnd(b.start)};k.expandStartOffset=function(){var b=this._start;0!==b.ch&&--b.ch};k.expandEndOffset=function(){var b=
this._end;b.ch<this._mde.getEditor().getDoc().getLine(b.line).length&&(b.ch+=1)};k.getTextContent=function(){return this._mde.getEditor().getRange(this._start,this._end)};k.replaceContent=function(b){this._mde.getEditor().replaceRange(b,this._start,this._end,"+input")};k.deleteContent=function(){this._mde.getEditor().replaceRange("",this._start,this._end,"+delete")};k.peekStartBeforeOffset=function(b){b={line:this._start.line,ch:Math.max(this._start.ch-b,0)};return this._mde.getEditor().getRange(b,
this._start)};return l}(),Ja=y(2),cc=y(27),zc=y.n(cc),hb=function(l){kc()(l,function(k,b){l[b]=K(k)});return l}({DELIM:"delimiter",META:"meta",TEXT:"marked-text",THEMATIC_BREAK:"thematic-break",CODE_BLOCK:"code-block",TABLE:"table",HTML:"html"}),Mb={strong:2,emph:1,strike:2},Ac={heading:function(l,k,b){var c=l.level;l=l.headingType;var g=[S(k,b,K("heading","heading"+c))];"atx"===l?g.push(S(k,Object(Ja.a)(k,c),hb.DELIM)):g.push(S(Object(Ja.m)(b,0),b,hb.DELIM+" setext"));return{marks:g}},strong:W,emph:W,
strike:W,link:function(l,k,b){var c=l.lastChild;l=l.extendedAutolink;c=c?Object(Ja.c)(c)+1:2;return{marks:l?[S(k,b,K("link","link-desc")+" "+hb.TEXT)]:T(k,b,k,c)}},image:function(l,k,b){l=(l=l.lastChild)?Object(Ja.c)(l)+1:3;var c=Object(Ja.a)(k,1);return{marks:[S(k,c,hb.META)].concat(T(k,b,c,l))}},code:function(l,k,b){var c=l.tickCount;l=Object(Ja.a)(k,c);c=Object(Ja.a)(b,-c);return{marks:[S(k,b,K("code")),S(k,l,hb.DELIM+" start"),S(l,c,hb.TEXT),S(c,b,hb.DELIM+" end")]}},codeBlock:function(l,k,b,
c){var g=l.fenceLength,m=l.fenceChar,x=l.info,M=l.infoPadding,la=l.parent;l=l.fenceOffset+g;var ua=[S(Object(Ja.m)(k,0),b,hb.CODE_BLOCK)];m&&ua.push(S(k,Object(Ja.a)(k,l),hb.DELIM));x&&ua.push(S(Object(Ja.m)(k,l),Object(Ja.m)(k,l+M+x.length),hb.META));(new RegExp("^(\\s{0,3})("+m+"{"+g+",})")).test(c)&&ua.push(S(Object(Ja.m)(b,0),b,hb.DELIM));return{marks:ua,lineBackground:N({},"item"!==la.type&&"blockQuote"!==la.type?{start:k.line,end:b.line,className:hb.CODE_BLOCK}:null)}},blockQuote:function(l,
k,b){k=l.parent&&"blockQuote"!==l.parent.type?[S(k,b,K("block-quote"))]:[];if(l.firstChild){b=[];if("paragraph"===l.firstChild.type)for(l=l.firstChild.firstChild,b=[];l;)b.push(S({line:Object(Ja.f)(l)-1,ch:Object(Ja.e)(l)-1},{line:Object(Ja.d)(l)-1,ch:Object(Ja.c)(l)},hb.TEXT)),l=l.next;else"list"===l.firstChild.type&&(b=ka(l.firstChild,hb.TEXT));k=[].concat(k,b)}return{marks:k}},item:function(l,k){var b,c=l;for(b=0;c.parent.parent&&"item"===c.parent.parent.type;)c=c.parent.parent,b+=1;c=["fisrt",
"second","third"][b%3];b=K("list-item",""+["list-item-odd","list-item-even"][b%2])+" "+c;var g=l.listData;c=g.padding;g=g.task;return{marks:[S(k,Object(Ja.a)(k,c),b+" "+K("list-item-bullet"))].concat(g?[S(Object(Ja.a)(k,c),Object(Ja.a)(k,c+3),b+" "+hb.DELIM),S(Object(Ja.a)(k,c+1),Object(Ja.a)(k,c+2),hb.META)]:[],ka(l.firstChild,b+" "+hb.TEXT))}}},Tc={thematicBreak:hb.THEMATIC_BREAK,table:hb.TABLE,tableCell:hb.TEXT,htmlInline:hb.HTML},Pe=p.getSharedInstance(),pf={strong:!1,emph:!1,strike:!1,thematicBreak:!1,
blockQuote:!1,code:!1,codeBlock:!1,list:!1,taskList:!1,orderedList:!1,heading:!1,table:!1},ke=/x|backspace/i,Yf=function(l){function k(c,g,m,x){var M=l.call(this,c,{dragDrop:!0,allowDropFileTypes:["image"],extraKeys:{Enter:function(){return M.eventManager.emit("command","AddLine")},Tab:function(){return M.eventManager.emit("command","MoveNextCursorOrIndent")},"Shift-Tab":function(){return M.eventManager.emit("command","MovePrevCursorOrOutdent")},"Shift-Ctrl-X":function(){return M.eventManager.emit("command",
"ToggleTaskMarker")}},viewportMargin:x&&"auto"===x.height?Infinity:10})||this;M.eventManager=g;M.componentManager=new Vb(Z(M));M.toastMark=m;M.componentManager.addManager(Sa);M._latestState=null;M._markedLines={};M._initEvent();return M}fa(k,l);var b=k.prototype;b._initEvent=function(){var c=this;this.cm.getWrapperElement().addEventListener("click",function(){c.eventManager.emit("click",{source:"markdown"})});this.cm.on("beforeChange",function(g,m){"paste"===m.origin&&c.eventManager.emit("pasteBefore",
{source:"markdown",data:m})});this.cm.on("change",function(g,m){c._refreshCodeMirrorMarks(m);c._emitMarkdownEditorChangeEvent(m)});this.cm.on("focus",function(){c.eventManager.emit("focus",{source:"markdown"})});this.cm.on("blur",function(){c.eventManager.emit("blur",{source:"markdown"})});this.cm.on("scroll",function(g,m){c.eventManager.emit("scroll",{source:"markdown",data:m})});this.cm.on("keydown",function(g,m){c.eventManager.emit("keydown",{source:"markdown",data:m});c.eventManager.emit("keyMap",
{source:"markdown",keyMap:Pe.convert(m),data:m})});this.cm.on("keyup",function(g,m){c.eventManager.emit("keyup",{source:"markdown",data:m});ke.test(m.key)&&c.eventManager.emit("command","ChangeTaskMarker")});this.cm.on("copy",function(g,m){c.eventManager.emit("copy",{source:"markdown",data:m})});this.cm.on("cut",function(g,m){c.eventManager.emit("cut",{source:"markdown",data:m})});this.cm.on("paste",function(g,m){c.eventManager.emit("paste",{source:"markdown",data:m})});this.cm.on("drop",function(g,
m){m.preventDefault();c.eventManager.emit("drop",{source:"markdown",data:m})});this.cm.on("cursorActivity",function(){return c._onChangeCursorActivity()})};b.setValue=function(c,g){l.prototype.setValue.call(this,c,g)};b.getTextObject=function(c){return new bc(this,c)};b._emitMarkdownEditorContentChangedEvent=function(c){this.eventManager.emit("contentChangedFromMarkdown",c)};b._emitMarkdownEditorChangeEvent=function(c){"setValue"!==c.origin&&(c={source:"markdown"},this.eventManager.emit("changeFromMarkdown",
c),this.eventManager.emit("change",c))};b._refreshCodeMirrorMarks=function(c){var g=this,m=c.from,x=c.to;c=this.toastMark.editMarkdown([m.line+1,m.ch+1],[x.line+1,x.ch+1],c.text.join("\n"));this._emitMarkdownEditorContentChangedEvent(c);c.length&&c.forEach(function(M){return g._markNodes(M)})};b._markNodes=function(c){var g=c.nodes;(c=c.removedNodeRange)&&this._removeBackgroundOfLines(c);if(g.length){c=g[0].sourcepos[0];var m=g[g.length-1].sourcepos[1];c=this.cm.findMarks({line:c[0]-1,ch:c[1]-1},
{line:m[0]-1,ch:m[1]});for(c=oa(c);!(m=c()).done;)m=m.value,m.attributes&&"data-tui-mark"in m.attributes&&m.clear();for(g=oa(g);!(c=g()).done;)for(c=c.value.walker(),m=c.next();m;){var x=m.node;m.entering&&this._markNode(x);m=c.next()}}};b._removeBackgroundOfLines=function(c){var g=c.line;c=g[1];for(g=g[0];g<=c;g+=1)this._markedLines[g]&&(this.cm.removeLineClass(g,"background"),this._markedLines[g]=!1)};b._markCodeBlockBackground=function(c){var g=c.start,m=c.end;c=c.className;for(var x=g;x<=m;x+=
1){var M=c;x===g?M+=" start":x===m&&(M+=" end");this.cm.addLineClass(x,"background",M);this._markedLines[x]=!0}};b._markNode=function(c){var g=this,m={line:Object(Ja.f)(c)-1,ch:Object(Ja.e)(c)-1},x={line:Object(Ja.d)(c)-1,ch:Object(Ja.c)(c)};if(m=ca(c,m,x,this.cm.getLine(x.line)))c=m.marks,m=m.lineBackground,m=void 0===m?{}:m,(void 0===c?[]:c).forEach(function(M){var la,ua=M.start,Oa=M.end;M=M.className;var cb=(la={},la["data-tui-mark"]="",la);g.cm.markText(ua,Oa,{className:M,attributes:cb})}),this._markCodeBlockBackground(m)};
b._setToolbarState=function(c){if(Wa(this._latestState,c)){var g=Ea({source:"markdown"},c?c:pf);this.eventManager.emit("stateChange",g)}this._latestState=c};b._onChangeCursorActivity=function(){var c=this.cm.getCursor(),g=c.line;c=c.ch;var m=g+1,x=this.cm.getLine(g).length===c?c:c+1,M=this.toastMark.findNodeAtPosition([m,x]),la=null;this.cm.state.isCursorInCodeBlock=M&&"codeBlock"===M.type;this.eventManager.emit("cursorActivity",{source:"markdown",cursor:{line:g,ch:c},markdownNode:M});M&&(M="text"===
M.type?M.parent:M,la=La(M,c,m,x));this._setToolbarState(la)};b.resetState=function(){this._latestState=null};b.getToastMark=function(){return this.toastMark};k.factory=function(c,g,m,x){return new k(c,g,m,x)};return k}(je),Zf=y(35),Qe=y(3),ib=y.n(Qe),qf=y(21),ne=y.n(qf),rf=y(8),oe=y.n(rf),Id=y(17),Re=y.n(Id),$f=y(11),yb=y.n($f),sf=y(47),wd=y.n(sf),Jd=y(19),Kc=y.n(Jd),Se=y(20),xd=y.n(Se),E=y(0),ag=/MsoListParagraph/,Vc=/style=(.|\n)*mso-/,Kd=/mso-list:(.*)/,Ld=/O:P/,cg=/^(n|u|l)/,dg=y(13),Wb=y.n(dg),
Cc=y(25),mc=function(){function l(b){this.wwe=b}var k=l.prototype;k.preparePaste=function(b){var c=this.wwe.getEditor().getSelection().cloneRange(),g=this.wwe.componentManager.getManager("codeblock"),m=!1,x=document.createElement("div");this._pasteFirstAid(b);for(var M=ib()(b.childNodes);M.length;){var la=M[0];la=E.a.getNodeName(la);la="LI"===la||"UL"===la||"OL"===la;g.isInCodeBlock(c)?E.a.append(x,g.prepareToPasteOnCodeblock(M)):la?(E.a.append(x,this._prepareToPasteList(M,c,m)),m=!0):E.a.append(x,
M.shift())}b.innerHTML=x.innerHTML};k._wrapOrphanNodeWithDiv=function(b){var c=document.createElement("div"),g;ib()(b.childNodes).forEach(function(m){var x=3===m.nodeType,M=/^(SPAN|A|CODE|EM|I|STRONG|B|S|U|ABBR|ACRONYM|CITE|DFN|KBD|SAMP|VAR|BDO|Q|SUB|SUP)$/gi.test(m.tagName),la="BR"===m.nodeName;x||M||la?(g||(g=document.createElement("div"),c.appendChild(g)),g.appendChild(m),la&&(g=null)):(g&&"BR"!==g.lastChild.tagName&&g.appendChild(document.createElement("br")),g=null,c.appendChild(m))});return c.innerHTML};
k._sanitizeHtml=function(b){var c=this.wwe.getSanitizer(),g=Object(Cc.a)(b.innerHTML,!0);c&&c!==Cc.a&&(g=c(g));b.innerHTML=g};k._pasteFirstAid=function(b){var c=this;this._sanitizeHtml(b);E.a.findAll(b,"*").forEach(function(g){c._removeStyles(g)});this._unwrapIfNonBlockElementHasBr(b);this._unwrapNestedBlocks(b,"div, section, article, aside, nav, menus, p");this._removeUnnecessaryBlocks(b,"div, section, article, aside, nav, menus, p");b.innerHTML=this._wrapOrphanNodeWithDiv(b);this._preprocessPreElement(b);
this._preprocessListElement(b);this._preprocessTableElement(b);ib()(b.children).forEach(function(g){"BR"===E.a.getNodeName(g)&&E.a.remove(g)})};k._preprocessListElement=function(b){var c=this.wwe.componentManager.getManager("list");b.innerHTML=c.convertToArbitraryNestingList(b.innerHTML)};k._preprocessPreElement=function(b){this.wwe.componentManager.getManager("codeblock").modifyCodeBlockForWysiwyg(b)};k._unwrapIfNonBlockElementHasBr=function(b){E.a.findAll(b,"span, a, b, em, i, s").forEach(function(c){E.a.children(c,
"br").length&&"LI"!==c.nodeName&&"UL"!==c.nodeName&&E.a.unwrap(c)})};k._unwrapNestedBlocks=function(b,c){E.a.findAll(b,"*").filter(function(g){return!Wb()(g,"b,s,i,em,code,span,hr")&&!g.firstChild}).forEach(function(g){for(g="BR"===g.nodeName?g.parentNode:g;E.a.parents(g,c).length;){var m=E.a.parent(g,c);m&&m!==b?E.a.unwrap(m):g=g.parentElement}})};k._removeUnnecessaryBlocks=function(b,c){E.a.findAll(b,c).forEach(function(g){var m="DIV"===g.tagName,x=!!E.a.parent(g,"li"),M=!!E.a.parent(g,"blockquote"),
la=!!E.a.children(g,c).length;if(!m||!x&&!M&&la)g.lastChild&&"BR"!==g.lastChild.nodeName&&g.appendChild(document.createElement("br")),E.a.replaceWith(g,g.innerHTML)})};k._removeStyles=function(b){if("SPAN"!==E.a.getNodeName(b))b.removeAttribute("style");else{if(b.getAttribute("style"))var c=b.style.color;b.removeAttribute("style");c&&"rgb(34, 34, 34)"!==c?Va()(b,{color:c}):E.a.unwrap(b)}};k._prepareToPasteList=function(b,c,g){var m=E.a.getNodeName(b[0]),x=b.shift(),M=this.wwe.getEditor().getDocument().createDocumentFragment();
"LI"!==m&&b.length&&"LI"===b[0].tagName&&(m="LI",x=this._makeNodeAndAppend({tagName:m},x));if("OL"===m||"UL"===m)!g&&this.wwe.getEditor().hasFormat("LI")?E.a.append(M,this._wrapCurrentFormat(x)):M.appendChild(x);else if("LI"===m){m=this.wwe.getEditor().getDocument().createDocumentFragment();for(m.appendChild(x);b.length&&"LI"===b[0].tagName;)m.appendChild(b.shift());!g&&this.wwe.getEditor().hasFormat("LI")?E.a.append(M,this._wrapCurrentFormat(m)):!c||"UL"!==c.commonAncestorName&&"OL"!==c.commonAncestorName?
E.a.append(M,this._makeNodeAndAppend({tagName:"UL"},m)):E.a.append(M,this._makeNodeAndAppend({tagName:c.commonAncestorName},m))}return this._getResolvePastedListDepthToCurrentDepth(c.startContainer,x,M)};k._unwrapFragmentFirstChildForPasteAsInline=function(b){E.a.findAll(b,"br").forEach(function(c){return E.a.remove(c)});return b.childNodes};k._wrapCurrentFormat=function(b){var c=this,g;this._eachCurrentPath(function(m){"DIV"!==m.tagName&&(g=E.a.isElemNode(b)?b.tagName:b.firstChild.tagName,m.tagName!==
g&&(b=c._makeNodeAndAppend(m,b)))});return b};k._eachCurrentPath=function(b){for(var c=E.a.getPath(this.wwe.getEditor().getSelection().startContainer,this.wwe.getBody()),g=c.length-1;-1<g;--g)b(c[g])};k._makeNodeAndAppend=function(b,c){var g=document.createElement(""+b.tagName);g.appendChild(c);b.id&&g.setAttribute("id",b.id);b.className&&Ca()(g,b.className);return g};k._preprocessTableElement=function(b){this._removeColgroup(b);this._completeTableIfNeed(b);this._updateTableIDClassName(b)};k._removeColgroup=
function(b){(b=b.querySelector("colgroup"))&&E.a.remove(b)};k._completeTableIfNeed=function(b){var c=this.wwe.componentManager.getManager("table"),g=c.wrapDanglingTableCellsIntoTrIfNeed(b);g&&E.a.append(b,g);(g=c.wrapTrsIntoTbodyIfNeed(b))&&E.a.append(b,g);(c=c.wrapTheadAndTbodyIntoTableIfNeed(b))&&E.a.append(b,c)};k._updateTableIDClassName=function(b){var c=this.wwe.componentManager.getManager("table");b=E.a.findAll(b,"table");b.forEach(function(g){var m=g.className.match(/.*\s*(te-content-table-\d+)\s*.*/);
m&&db()(g,m[0])});b.forEach(function(g){Ca()(g,c.getTableIDClassName())})};k._getResolvePastedListDepthToCurrentDepth=function(b,c,g){var m=this._getListDepth(b),x=this._getContinuousDepth(c);for(g=this._getRemovedUnnecessaryListWrapper(g,c);m<x&&("UL"===g.firstChild.tagName||"OL"===g.firstChild.tagName);)c=ib()(g.childNodes),g=g.firstChild,c.filter(function(la){return la!==g}).forEach(function(la){g.insertAdjacentElement("beforeend",la)}),--x;for(;m&&m>x;){c=g.firstChild.parentElement;var M=document.createElement(c.tagName);
M.appendChild(c);g=M;x+=1}m&&!b.textContent&&E.a.remove(b);return g};k._getListDepth=function(b){for(var c=0,g=this.wwe.getBody();b&&b!==g;){if("UL"===b.tagName||"OL"===b.tagName)c+=1;b=b.parentNode}return c};k._getContinuousDepth=function(b){for(var c=0;b&&("UL"===b.tagName||"OL"===b.tagName);){c+=1;if(1<b.childNodes.length)break;b=b.firstChild}return c};k._getRemovedUnnecessaryListWrapper=function(b,c){for(;b.querySelectorAll("ul,ol").length>c.querySelectorAll("ul,ol").length;)b=b.firstChild;return b};
return l}(),Nb=function(){function l(b){this.wwe=b}var k=l.prototype;k.pasteClipboard=function(b){var c=b.clipboardData||window.clipboardData;(c=c&&c.items)?(this._pasteClipboardItem(c),b.preventDefault()):(this._pasteClipboardUsingPasteArea(),b.squirePrevented=!0)};k._pasteClipboardUsingPasteArea=function(){var b=this,c=this.wwe.getEditor(),g=c.getSelection(),m=g.startContainer,x=g.startOffset,M=g.endContainer,la=g.endOffset,ua=document.createElement("div"),Oa=document.body;ua.setAttribute("contenteditable",
!0);ua.setAttribute("style","position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;");Oa.appendChild(ua);g.selectNodeContents(ua);c.setSelection(g);setTimeout(function(){var cb=Oa.removeChild(ua);g.setStart(m,x);g.setEnd(M,la);c.focus();c.setSelection(g);b._pasteClipboardHtml(cb.innerHTML)})};k._pasteClipboardItem=function(b){var c=this,g=null,m=null;ib()(b).forEach(function(x){"text/html"===x.type?m=x:"text/plain"===x.type&&(g=x)});m?m.getAsString(function(x){c._pasteClipboardHtml(x)}):
g&&g.getAsString(function(x){x=E.a.getFragmentReplacedByNewlineToBr(x);c._pasteClipboardContainer(x)})};k._getSanitizedHtml=function(b){var c=this.wwe.getSanitizer();b=Object(Cc.a)(b,!0);c&&c!==Cc.a&&(b=c(b));c=document.createElement("div");c.innerHTML=b;return E.a.finalizeHtml(c)};k._convertToMsoList=function(b){var c=document.createElement("div");c.innerHTML=b;ya(c);return c.innerHTML};k._pasteClipboardHtml=function(b){var c=document.createDocumentFragment(),g=b.indexOf("\x3c!--StartFragment--\x3e"),
m=b.lastIndexOf("\x3c!--EndFragment--\x3e");-1<g&&-1<m&&(b=b.slice(g+20,m));/<\/td>((?!<\/tr>)[\s\S])*$/i.test(b)&&(b="<TR>"+b+"</TR>");/<\/tr>((?!<\/table>)[\s\S])*$/i.test(b)&&(b="<TABLE>"+b+"</TABLE>");Vc.test(b)&&(b=this._convertToMsoList(b));c.appendChild(this._getSanitizedHtml(b));this._pasteClipboardContainer(c)};k._pasteClipboardContainer=function(b){var c=this.wwe.getEditor(),g=b.childNodes;1===g.length&&"TABLE"===g[0].nodeName?this.wwe.componentManager.getManager("table").pasteTableData(b):
(g=c.getSelection().cloneRange(),b=this._preparePasteDocumentFragment(b),c.saveUndoState(g),g.collapsed||this._deleteContentsRange(g),E.a.isTextNode(g.startContainer)?this._pasteIntoTextNode(g,b):this._pasteIntoElements(g,b),c.setSelection(g))};k._preparePasteDocumentFragment=function(b){var c=b.childNodes,g=document.createDocumentFragment();c.length?g.appendChild(this._unwrapBlock(b)):this._isPossibleInsertToTable(b)&&g.appendChild(b);return g};k._unwrapBlock=function(b){var c=document.createDocumentFragment();
for(b=ib()(b.childNodes);b.length;){var g=b.shift();this._isPossibleInsertToTable(g)?c.appendChild(g):(c.appendChild(this._unwrapBlock(g)),g=c.lastChild,b.length&&g&&"BR"!==g.nodeName&&c.appendChild(document.createElement("br")))}return c};k._isPossibleInsertToTable=function(b){var c=b.nodeName;return!("CODE"===c&&1<b.childNodes.length)&&("UL"===c||"OL"===c||E.a.isMDSupportInlineNode(b)||E.a.isTextNode(b))};k._pasteIntoElements=function(b,c){var g=b.startContainer,m=E.a.getChildNodeByOffset(g,b.startOffset);
m?(g.insertBefore(c,m),b.setStart(m,0)):"TD"===g.nodeName?(g.appendChild(c),b.setStart(g,g.childNodes.length)):(m=g.parentNode,g=g.nextSibling,m.insertBefore(c,g),g?b.setStart(g,0):b.setStartAfter(m.lastChild));b.collapse(!0)};k._pasteIntoTextNode=function(b,c){var g=b.startContainer,m=b.startOffset,x=g.parentNode,M=g.textContent,la=M.slice(0,m),ua=M.slice(m,M.length);M=c.childNodes;m=M[0];M=1===M.length&&E.a.isTextNode(m);if(la)if(ua)if(M)c=m.textContent,g.textContent=""+la+c+ua,b.setStart(g,la.length+
c.length);else{m=document.createDocumentFragment();m.appendChild(document.createTextNode(la));m.appendChild(c);m.appendChild(document.createTextNode(ua));x.replaceChild(m,g);var Oa=0;ib()(x.childNodes).forEach(function(cb,kb){cb.textContent===ua&&(Oa=kb)});b.setStart(x.childNodes[Oa],0)}else g=g.nextSibling,x.insertBefore(c,g),b.setStartAfter(g);else x.insertBefore(c,g),b.setStart(g,0);b.collapse(!0)};k._deleteContentsRange=function(b){var c=b.startContainer,g=b.startOffset,m=b.endOffset;c===b.endContainer?
(this._deleteContentsByOffset(c,g,m),b.setStart(c,g),b.collapse(!0)):this._deleteNotCollapsedRangeContents(b)};k._deleteNotCollapsedRangeContents=function(b){var c=b.startContainer,g=b.startOffset,m=b.endContainer,x=b.endOffset,M=b.commonAncestorContainer,la=this._getBlock(c,M,g),ua=this._getBlock(m,M,x-1);if(la===ua)this._removeInSameBlock(la,c,m,g,x),ua=m!==ua?null:ua;else{var Oa=la.nextSibling;"TD"===c.nodeName?Oa=this._removeOneLine(la):(this._deleteContentsByOffset(c,g,E.a.getOffsetLength(c)),
E.a.removeNodesByDirection(la,c,!1));"TD"===m.nodeName?ua=this._removeOneLine(ua):(this._deleteContentsByOffset(m,0,x),E.a.removeNodesByDirection(ua,m,!0));E.a.removeChildFromStartToEndNode(M,Oa,ua)}ua?b.setStart(ua,0):b.setStartAfter(la);b.collapse(!0)};k._removeInSameBlock=function(b,c,g,m,x){c=c===b?m:0;g=g===b?x:E.a.getOffsetLength(b);this._deleteContentsByOffset(b,c,g)};k._removeOneLine=function(b){var c=b.nextSibling,g=b.parentNode,m=c;g.removeChild(b);c&&"BR"===c.nodeName&&(m=c.nextSibling,
g.removeChild(c));return m};k._getBlock=function(b,c,g){return E.a.getParentUntil(b,c)||E.a.getChildNodeByOffset(b,g)};k._deleteContentsByOffset=function(b,c,g){if(E.a.isTextNode(b)){var m=b.textContent;c=m.slice(0,c);g=m.slice(g,m.length);b.textContent=""+c+g}else m=E.a.getChildNodeByOffset(b,c),g=E.a.getChildNodeByOffset(b,g),m&&E.a.removeChildFromStartToEndNode(b,m,g||null)};return l}(),Zb=function(){function l(b){this.wwe=b;this._pch=new mc(this.wwe);this._tablePasteHelper=new Nb(this.wwe);this._selectedSellCount=
0;this._clipboardArea=null}var k=l.prototype;k.init=function(){var b=this;this.wwe.eventManager.listen("willPaste",function(c){return b._executeHandler(b._onWillPaste.bind(b),c)});this.wwe.eventManager.listen("copy",function(c){return b._executeHandler(b._onCopyCut.bind(b),c)});this.wwe.eventManager.listen("copyAfter",function(c){return b._executeHandler(b._onCopyAfter.bind(b),c)});this.wwe.eventManager.listen("cut",function(c){return b._executeHandler(b._onCopyCut.bind(b),c)});this.wwe.eventManager.listen("cutAfter",
function(c){return b._executeHandler(b._onCutAfter.bind(b),c)});this.wwe.eventManager.listen("paste",function(c){return b._executeHandler(b._onPasteIntoTable.bind(b),c)})};k._executeHandler=function(b,c){"wysiwyg"===c.source&&b(c)};k._onCopyCut=function(b){var c=this.wwe.componentManager.getManager("tableSelection");if(c.getSelectedCells().length)if(c.mergedTableSelectionManager){c=this.wwe.getEditor();b=b.data;c=c.getSelection().cloneRange();var g=document.createElement("div");this._extendRange(c);
g.innerHTML=c.cloneContents();this._updateCopyDataForListTypeIfNeed(c,g);this.wwe.eventManager.emit("copyBefore",{source:"wysiwyg",clipboardContainer:g});this._setClipboardData(b,g.innerHTML,g.textContent)}else c.createRangeBySelectedCells()};k._clearClipboardArea=function(){this._clipboardArea&&(E.a.remove(this._clipboardArea),this._clipboardArea=null)};k._onCopyAfter=function(){this.wwe.getEditor().getBody().focus();this._clearClipboardArea()};k._onCutAfter=function(){this.wwe.getEditor().getSelection().deleteContents();
this.wwe.getEditor().focus();this._clearClipboardArea()};k._onPasteIntoTable=function(b){b=b.data;var c=this.wwe.getEditor().getSelection();this.wwe.isInTable(c)&&this._isSingleCellSelected(c)&&this._tablePasteHelper.pasteClipboard(b)};k._isSingleCellSelected=function(b){var c=b.endContainer;return this._getCell(b.startContainer)===this._getCell(c)};k._getCell=function(b){return"TD"===b.nodeName?b:E.a.getParentUntil(b,"TR")};k._replaceNewLineToBr=function(b){E.a.getAllTextNode(b).forEach(function(c){/\n/.test(c.nodeValue)&&
(c.parentNode.innerHTML=c.nodeValue.replace(/\n/g,"<br>"))})};k._onWillPaste=function(b){var c=this,g=b.data;b=document.createElement("div");b.appendChild(g.fragment.cloneNode(!0));this._preparePaste(b);this._setTableBookmark(b);g.fragment=document.createDocumentFragment();ib()(b.childNodes).forEach(function(m){"DIV"===E.a.getNodeName(m)&&c._replaceNewLineToBr(m);g.fragment.appendChild(m)});this.wwe.getEditor().addEventListener("input",function x(){c.wwe.getEditor().removeEventListener("input",x);
c.wwe.eventManager.emit("wysiwygRangeChangeAfter",c);c._focusTableBookmark()})};k._setClipboardData=function(b,c,g){yb.a.msie?(b.squirePrevented=!0,this._clipboardArea=this._createClipboardArea(),this._clipboardArea.innerHTML=c,this._clipboardArea.focus(),window.getSelection().selectAllChildren(this._clipboardArea)):(b.preventDefault(),b.stopPropagation(),b.clipboardData.setData("text/html",c),b.clipboardData.setData("text/plain",g))};k._createClipboardArea=function(){var b=document.createElement("div");
b.setAttribute("contenteditable",!0);Va()(b,{position:"fixed",overflow:"hidden",top:0,right:"100%",width:"1px",height:"1px"});document.body.appendChild(b);return b};k._updateCopyDataForListTypeIfNeed=function(b,c){b=b.commonAncestorContainer.nodeName;if("UL"===b||"OL"===b)b=document.createElement(b),b.appendChild(c),c.innerHTML="",c.appendChild(b)};k._removeEmptyFontElement=function(b){E.a.children(b,"font").forEach(function(c){c.textContent.trim()||E.a.remove(c)})};k._preProcessPtag=function(b){E.a.findAll(b,
"p").forEach(function(c){c.lastChild&&"BR"!==c.lastChild.nodeName&&c.appendChild(document.createElement("br"));c.appendChild(document.createElement("br"))})};k._preparePaste=function(b){Vc.test(b.innerHTML)?ya(b):this._preProcessPtag(b);this._removeEmptyFontElement(b);this._pch.preparePaste(b);this.wwe.eventManager.emit("pasteBefore",{source:"wysiwyg",clipboardContainer:b})};k._setTableBookmark=function(b){(b=b.lastChild)&&"TABLE"===b.nodeName&&Ca()(b,"tui-paste-table-bookmark")};k._focusTableBookmark=
function(){var b=this.wwe.getEditor(),c=b.getSelection().cloneRange(),g=b.getBody().querySelector(".tui-paste-table-bookmark"),m=b.getBody().querySelector(".tui-paste-table-cell-bookmark");g&&(db()(g,"tui-paste-table-bookmark"),c.setEndAfter(g),c.collapse(!1),b.setSelection(c));m&&(db()(m,"tui-paste-table-cell-bookmark"),c.selectNodeContents(m),c.collapse(!1),b.setSelection(c))};k._extendRange=function(b){if(!E.a.isTextNode(b.commonAncestorContainer)||0===b.startOffset&&b.commonAncestorContainer.textContent.length===
b.endOffset||"TD"===b.commonAncestorContainer.nodeName)0===b.startOffset&&(b=this._extendStartRange(b)),b.endOffset===E.a.getOffsetLength(b.endContainer)&&(b=this._extendEndRange(b)),this._isWholeCommonAncestorContainerSelected(b)&&b.selectNode(b.commonAncestorContainer),this.wwe.getEditor().setSelection(b)};k._extendStartRange=function(b){for(var c=b.startContainer;c.parentNode!==b.commonAncestorContainer&&c.parentNode!==this.wwe.getBody()&&!c.previousSibling;)c=c.parentNode;b.setStart(c.parentNode,
E.a.getNodeOffsetOfParent(c));return b};k._extendEndRange=function(b){for(var c=b.endContainer,g=c.nextSibling;c.parentNode!==b.commonAncestorContainer&&c.parentNode!==this.wwe.getBody()&&(!g||"BR"===E.a.getNodeName(g)&&c.parentNode.lastChild===g);)c=c.parentNode,g=c.nextSibling;b.setEnd(c.parentNode,E.a.getNodeOffsetOfParent(c)+1);return b};k._isWholeCommonAncestorContainerSelected=function(b){return b.commonAncestorContainer.nodeType===Node.ELEMENT_NODE&&b.commonAncestorContainer!==this.wwe.getBody()&&
0===b.startOffset&&b.endOffset===b.commonAncestorContainer.childNodes.length&&b.commonAncestorContainer===b.startContainer&&b.commonAncestorContainer===b.endContainer};return l}(),Ob=y(16),dc=y.n(Ob),Zg=function(){function l(b){this.wwe=b;this.eventManager=b.eventManager;this.name="link";this._init()}var k=l.prototype;k._init=function(){var b=this;this.eventManager.listen("wysiwygSetValueAfter",function(){b._addClassNameToAllImageLinks()});this.wwe.getEditor().addEventListener("click",function(c){var g=
c.target,m=c.offsetX;c=c.offsetY;var x=getComputedStyle(g,":before");dc()(g,"image-link")&&E.a.isInsideButtonBox(x,m,c)&&(b._selectImageLink(g.parentNode),b.eventManager.emit("openPopupAddLink",{url:g.getAttribute("href")}))})};k._selectImageLink=function(b){var c=this.wwe.getEditor().getSelection().cloneRange();c.selectNode(b);this.wwe.getEditor().setSelection(c)};k._addClassNameToImageLinks=function(b){b.forEach(function(c){c.firstChild&&"IMG"===c.firstChild.nodeName&&Ca()(c,"image-link")})};k._addClassNameToAllImageLinks=
function(){var b=E.a.findAll(this.wwe.getBody(),"a");this._addClassNameToImageLinks(b)};k.addClassNameToImageLinksInSelection=function(){var b=this.wwe.getEditor().getSelection().commonAncestorContainer;E.a.isElemNode(b)&&(b="A"===b.nodeName?[b]:E.a.findAll(b,"a"),this._addClassNameToImageLinks(b))};return l}(),uf=/<li/i,eg=/(<(?:th|td)[^>]*>)(.*?)(<\/(?:th|td)>)/g,tf=/<(ul|ol|li)([^>]*)>/g,$g=function(){function l(b){this.wwe=b;this.eventManager=b.eventManager;this.name="list";this._init()}var k=
l.prototype;k._init=function(){this._initEvent();this._initKeyHandler()};k._initEvent=function(){var b=this;this.eventManager.listen("wysiwygSetValueBefore",function(c){return b.convertToArbitraryNestingList(c)});this.eventManager.listen("wysiwygRangeChangeAfter",function(){b._findAndRemoveEmptyList();b._removeBranchListAll()});this.eventManager.listen("wysiwygSetValueAfter",function(){b._removeBranchListAll()});this.eventManager.listen("wysiwygProcessHTMLText",function(c){return c=b._convertFromArbitraryNestingList(c)});
this.eventManager.listen("convertorBeforeHtmlToMarkdownConverted",function(c){return b._insertDataToMarkPassForListInTable(c)})};k._initKeyHandler=function(){var b=this;this.wwe.addKeyEventHandler(["TAB","CTRL+]","META+]"],function(c){if(b.wwe.getEditor().hasFormat("LI")){c.preventDefault();b.eventManager.emit("command","Indent");var g=!1}return g});this.wwe.addKeyEventHandler(["SHIFT+TAB","CTRL+[","META+["],function(c,g){if(b.wwe.getEditor().hasFormat("LI")){c.preventDefault();c=E.a.children(E.a.closest(g.startContainer,
"li"),"OL,UL");b.eventManager.emit("command","Outdent");c.length&&!c.previousSibling&&b._removeBranchList(c);var m=!1}return m});this.wwe.addKeyEventHandler("ENTER",function(c,g){g.collapsed&&b.wwe.getEditor().hasFormat("LI")&&b.wwe.defer(function(){var m=b.wwe.getRange();m=E.a.parents(m.startContainer,"li")[0];b._removeBranchListAll(m)})});this.wwe.addKeyEventHandler("BACK_SPACE",function(c,g){g.collapsed&&b.wwe.getEditor().hasFormat("LI")&&b.wwe.defer(function(){b._removeBranchListAll()})})};k._findAndRemoveEmptyList=
function(){E.a.findAll(this.wwe.getBody(),"OL,UL").forEach(function(b){uf.test(b.innerHTML)||E.a.remove(b)})};k._removeBranchListAll=function(b){var c=this;b=b?b:this.wwe.getBody();E.a.findAll(b,"li > ul, li > ol").forEach(function(g){g&&!g.previousSibling&&c._removeBranchList(g)})};k._removeBranchList=function(b){for(var c=b;!c.previousSibling&&c.parentElement.tagName.match(/UL|OL|LI/g);)c=c.parentElement;var g=E.a.children(c,"li")[0];b=E.a.unwrap(b);E.a.prepend(c,b);E.a.remove(g)};k.convertToArbitraryNestingList=
function(b){b=E.a.createElementWith("<div>"+b+"</div>");for(var c=b.querySelector("li > ul, li > ol");null!==c;){var g=c.parentNode;g.parentNode.insertBefore(c,g.nextElementSibling);c=b.querySelector("li > ul, li > ol")}return b.innerHTML};k._convertFromArbitraryNestingList=function(b){b=E.a.createElementWith("<div>"+b+"</div>");for(var c=b.querySelector("ol > ol, ol > ul, ul > ol, ul > ul");null!==c;){for(var g=c.previousElementSibling;g&&"LI"!==g.tagName;)g=g.previousElementSibling;g?g.appendChild(c):
this._unwrap(c);c=b.querySelector("ol > ol, ol > ul, ul > ol, ul > ul")}return b.innerHTML};k._unwrap=function(b){for(var c=document.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);b.parentNode.replaceChild(c,b)};k._insertDataToMarkPassForListInTable=function(b){return b.replace(eg,function(c,g,m,x){c=m.replace(tf,"<$1 data-tomark-pass $2>");return""+g+c+x})};k.getLinesOfSelection=function(b,c){var g=[],m=!1,x=!0,M;E.a.isTextNode(b)&&(b=E.a.parents(b,"DIV,LI")[0]);for(E.a.isTextNode(c)&&
(c=E.a.parents(c,"DIV,LI")[0]);x;b=M){if(Wb()(b,"DIV,LI"))g.push(b),b===c?m=!0:M=this._getNextLine(b,c);else break;x=M&&!m}return g};k._getNextLine=function(b,c){var g=b.nextElementSibling;g?Wb()(g,"OL,UL")&&(g=g.querySelector("li")):g=b.parentNode.nextElementSibling;return Wb()(g,"DIV,LI")||g===c?g:this._getNextLine(g)};k.mergeList=function(b){var c=b.parentNode,g=c.previousElementSibling,m=c.nextElementSibling;c.firstElementChild===b&&g&&Wb()(g,"OL,UL")&&(this._mergeList(c,g),c=g);c.lastElementChild===
b&&m&&Wb()(m,"OL,UL")&&this._mergeList(m,c)};k._mergeList=function(b,c){var g=b.firstElementChild;if(c&&Wb()(c,"OL,UL")){for(;g;){var m=g.nextElementSibling;c.appendChild(g);g=m}b.parentNode.removeChild(b)}};k.isAvailableMakeListInTable=function(){var b=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),c=this.wwe.getEditor();return b&&c.hasFormat("table")&&!c.hasFormat("OL")&&!c.hasFormat("UL")};k._getParentNodeBeforeTD=function(b,c){var g=E.a.getParentUntil(b,"TD");g||(g=
(g=b.childNodes)?g.length:0,g=E.a.getChildNodeByOffset(b,0<c&&c===g?c-1:c));return g};k._findLINodeInsideCell=function(b,c){var g=null;b&&E.a.isCellNode(b)&&(b=b.firstChild);var m=E.a.getParentUntilBy(b,function(x){return x&&E.a.isListNode(x)},function(x){return x&&E.a.isCellNode(x)});m?g=m:"LI"===b.nodeName?g=b:E.a.isListNode(b)&&(g=b.childNodes.length,g=b.childNodes[c>=g?g-1:c]);return g};k._getFirstNodeInLineOfTable=function(b,c){var g=this._findLINodeInsideCell(b,c);if(!g)for(g=this._getParentNodeBeforeTD(b,
c),b=g.previousSibling;b&&"BR"!==b.nodeName&&!E.a.isListNode(b);)g=b,b=g.previousSibling;return g};k._getLastNodeInLineOfTable=function(b,c){var g=this._findLINodeInsideCell(b,c);if(!g)for(g=this._getParentNodeBeforeTD(b,c);g.nextSibling&&"BR"!==g.nodeName&&!E.a.isListNode(g);)g=g.nextSibling;return g};k._isLastNodeInLineOfTable=function(b){b=b.nodeName;return"LI"===b||"BR"===b};k._getNextNodeInLineOfTable=function(b){var c=b.nextSibling;if("LI"!==b.nodeName||c)E.a.isListNode(c)&&(c=c.firstChild);
else for(b=b.parentNode;!E.a.isCellNode(b);){if(b.nextSibling){c=b.nextSibling;break}b=b.parentNode}return c};k._getLinesOfSelectionInTable=function(b){var c=b.endContainer,g=b.endOffset;b=this._getFirstNodeInLineOfTable(b.startContainer,b.startOffset);c=this._getLastNodeInLineOfTable(c,g);g=[];for(var m=[];b;){m.push(b);this._isLastNodeInLineOfTable(b)&&(g.push(m),m=[]);if(b===c){m.length&&g.push(m);break}b=this._getNextNodeInLineOfTable(b)}return g};k._createListElement=function(b){return document.createElement("TASK"===
b?"UL":b)};k._createListItemElement=function(b,c){var g=document.createElement("li");b.forEach(function(m){g.appendChild(m)});"TASK"===c&&this.wwe.componentManager.getManager("task").formatTask(g);return g};k._mergeListWithPreviousSibiling=function(b){var c=b.previousSibling,g=b;c&&b.nodeName===c.nodeName&&(this._mergeList(b,c),g=c);return g};k._mergeListWithNextSibiling=function(b){var c=b.nextSibling;c&&b.nodeName===c.nodeName&&this._mergeList(c,b);return b};k.createListInTable=function(b,c){var g=
this;b=this._getLinesOfSelectionInTable(b);var m=b[b.length-1],x=m[m.length-1];m=x.nextSibling;x=x.parentNode;var M=this._createListElement(c),la=M.nodeName,ua=[];b.forEach(function(Oa){var cb=Oa[0];if("LI"===cb.nodeName){var kb=cb.parentNode;Oa=cb;kb.nodeName!==la&&(cb=kb.childNodes,ib()(cb).forEach(function(){M.appendChild(kb.firstChild)}),kb.parentNode.replaceChild(M,kb));M=Oa.parentNode}else Oa=g._createListItemElement(Oa,c),M.appendChild(Oa);ua.push(Oa)});M.parentNode||x.insertBefore(M,m);M=
this._mergeListWithPreviousSibiling(M);this._mergeListWithNextSibiling(M);return ua};k.adjustRange=function(b,c,g,m,x){var M=E.a.containsNode(x[0],b)?b:x[0];x=E.a.containsNode(x[x.length-1],c)?c:x[x.length-1];this.wwe.setSelectionByContainerAndOffset(M,"TD"===b.nodeName?0:g,x,"TD"===c.nodeName?0:m)};return l}(),vf=function(){function l(b){this.wwe=b;this.eventManager=b.eventManager;this.name="task";this._init()}var k=l.prototype;k._init=function(){this._initKeyHandler();this._initEvent();this.wwe.getEditor().addEventListener("mousedown",
function(b){var c=getComputedStyle(b.target,":before");b.target.hasAttribute("data-te-task")&&E.a.isInsideButtonBox(c,b.offsetX,b.offsetY)&&(b.preventDefault(),E.a.toggleClass(b.target,"checked"))})};k._initEvent=function(){var b=this;this.eventManager.listen("wysiwygSetValueAfter",function(){b._removeTaskListClass()})};k._initKeyHandler=function(){var b=this;this.wwe.addKeyEventHandler("ENTER",function(c,g){b.isInTaskList(g)&&b.wwe.defer(function(){var m=b.wwe.getRange();(m=E.a.closest(m.startContainer,
"li"))&&db()(m,"checked")})})};k.isInTaskList=function(b){b||(b=this.wwe.getEditor().getSelection().cloneRange());b=b.startContainer.nodeType===Node.ELEMENT_NODE&&"LI"===b.startContainer.tagName?b.startContainer:E.a.parents(b.startContainer,"li")[0];return!!b&&dc()(b,"task-list-item")};k.unformatTask=function(b){b=E.a.closest(b,"li");db()(b,"task-list-item");db()(b,"checked");b.removeAttribute("data-te-task");b.getAttribute("class")||b.removeAttribute("class")};k.formatTask=function(b){b=E.a.closest(b,
"li");Ca()(b,"task-list-item");b.setAttribute("data-te-task","")};k._formatTaskIfNeed=function(){var b=this.wwe.getEditor().getSelection().cloneRange();this.isInTaskList(b)&&this.formatTask(b.startContainer)};k._removeTaskListClass=function(){E.a.findAll(this.wwe.getBody(),".task-list").forEach(function(b){db()(b,"task-list")})};return l}(),Md=yb.a.msie&&10===yb.a.version,bg=yb.a.msie&&(10===yb.a.version||11===yb.a.version),fg=yb.a.msie?"":"<br>",Te=function(){function l(b){this.wwe=b;this.eventManager=
b.eventManager;this.name="table";this._lastCellNode=null;this._init()}var k=l.prototype;k._init=function(){this._initKeyHandler();this._initEvent();this.tableID=0};k._initEvent=function(){var b=this;this.eventManager.listen("wysiwygRangeChangeAfter.table",function(){var c=b.wwe.getEditor().getSelection();c=b.wwe.isInTable(c);b._unwrapBlockInTable();b._completeTableIfNeed();c||b.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed();b._insertDefaultBlockBetweenTable()});
this.eventManager.listen("wysiwygSetValueAfter.table",function(){b._unwrapBlockInTable();b._insertDefaultBlockBetweenTable()});this.eventManager.listen("wysiwygProcessHTMLText.table",function(c){return c.replace(/<br \/>(<\/td>|<\/th>)/g,"$1")});this.eventManager.listen("cut.table",function(){var c=b.wwe.componentManager.getManager("tableSelection"),g=c.getSelectedCells();g.length&&g.forEach(function(m){m.innerHTML=fg});c.removeClassAttrbuteFromAllCellsIfNeed()});this.eventManager.listen("copyBefore.table",
function(c){return b.updateTableHtmlOfClipboardIfNeed(c.clipboardContainer)})};k.updateTableHtmlOfClipboardIfNeed=function(b){var c=this,g=this.wwe.componentManager.getManager("tableSelection");g.getSelectedCells().length&&(g.createRangeBySelectedCells(),g=this.wwe.getEditor().getSelection().cloneContents(),ib()(g.children).forEach(function(m){c.isTableOrSubTableElement(m.nodeName)&&("TABLE"===m.nodeName&&m.querySelector("thead")&&m.querySelector("tbody")?E.a.remove(m):m.previousSibling&&"TABLE"===
m.previousSibling.nodeName?m.previousSibling.appendChild(m):(c._completeIncompleteTable(m),"TABLE"!==m.nodeName&&"THEAD"!==m.nodeName&&(m=E.a.closest(m,"table").querySelector("thead"),E.a.remove(m))))}),b.appendChild(g),E.a.findAll(b,".te-cell-selected").forEach(function(m){db()(m,"te-cell-selected")}))};k.pasteTableData=function(b){this._expandTableIfNeed(b);this._pasteDataIntoTable(b)};k._initKeyHandler=function(){var b=this;this.keyEventHandlers={DEFAULT:function(c,g,m){var x=b.wwe.isInTable(g);
x&&!b._isModifierKey(m)?(b._recordUndoStateIfNeed(g),b._removeContentsAndChangeSelectionIfNeed(g,m,c)):!x&&b._lastCellNode&&b._recordUndoStateAndResetCellNode(g);x&&!b._isModifierKeyPushed(c)&&b.wwe.getEditor().modifyDocument(function(){b.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed()})},ENTER:function(c,g){if(b._isAfterTable(g)){c.preventDefault();g.setStart(g.startContainer,g.startOffset-1);b.wwe.breakToNewDefaultBlock(g);var m=!1}else b._isBeforeTable(g)?
(c.preventDefault(),b.wwe.breakToNewDefaultBlock(g,"before"),m=!1):b.wwe.isInTable(g)&&(!b._isInList(g.startContainer)&&b._isInStyledText(g)?b.wwe.defer(function(){b._removeBRinStyleText()}):b._isEmptyFirstLevelLI(g)&&b.wwe.defer(function(){var x=b.wwe.getRange().cloneRange(),M=x.startContainer,la=document.createElement("br");M.parentNode.replaceChild(la,M);x.setStartBefore(la);x.collapse(!0);b.wwe.getEditor().setSelection(x)}),b._appendBrIfTdOrThNotHaveAsLastChild(g),m=!1);return m},BACK_SPACE:function(c,
g,m){return b._handleBackspaceAndDeleteKeyEvent(c,g,m)},DELETE:function(c,g,m){return b._handleBackspaceAndDeleteKeyEvent(c,g,m)},TAB:function(){return b._moveCursorTo("next","cell")},"SHIFT+TAB":function(c){return b._moveCursorTo("previous","cell",c)},UP:function(c){return b._moveCursorTo("previous","row",c)},DOWN:function(c){return b._moveCursorTo("next","row",c)}};kc()(this.keyEventHandlers,function(c,g){return b.wwe.addKeyEventHandler(g,c)})};k._isEmptyListItem=function(b){var c=b.childNodes;
return"LI"===b.nodeName&&1===c.length&&"BR"===c[0].nodeName};k._isEmptyFirstLevelLI=function(b){var c=b.startContainer,g=b.startOffset;return b.collapsed&&0===g&&this._isEmptyListItem(c)&&E.a.isFirstLevelListItem(c)};k._isInStyledText=function(b){var c=b.startContainer;c=E.a.isTextNode(c)?c.parentNode:c;return b.collapsed&&E.a.isStyledNode(c)};k._removeBRinStyleText=function(){var b=this.wwe.getRange(),c=b.startContainer,g=b.startOffset;c="TD"===c.nodeName?E.a.getChildNodeByOffset(c,g-1):E.a.getParentUntil(c,
"TD");if(g=c.querySelector("br")){var m=c.parentNode,x=c.nodeName;"CODE"!==x||g.previousSibling?"CODE"!==x||g.nextSibling?(c=this._splitByBR(c,g),b.setStart(c,0)):(m.insertBefore(g,c.nextSibling),b.setStart(m,E.a.getNodeOffsetOfParent(g)+1)):(m.insertBefore(g,c),b.setStart(c,0));b.collapse(!0);this.wwe.getEditor().setSelection(b)}};k._splitByBR=function(b,c){var g=b.cloneNode(!0),m=document.createElement("br"),x=b.parentNode;E.a.removeNodesByDirection(b,c,!1);c.parentNode.removeChild(c);c=g.querySelector("br");
E.a.removeNodesByDirection(g,c,!0);c.parentNode.removeChild(c);x.insertBefore(g,b.nextSibling);x.insertBefore(m,g);b=E.a.getLeafNode(g);E.a.getTextLength(b)||(b.textContent="\u200b");return b};k._isBeforeTable=function(b){return"TABLE"===E.a.getNodeName(E.a.getChildNodeByOffset(b.startContainer,b.startOffset))};k._isAfterTable=function(b){var c=E.a.getPrevOffsetNodeUntil(b.startContainer,b.startOffset);return"TABLE"===E.a.getNodeName(c)&&b.commonAncestorContainer===this.wwe.getBody()};k._handleBackspaceAndDeleteKeyEvent=
function(b,c,g){var m="BACK_SPACE"===g,x=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),M=!0;if(c.collapsed)if(this.wwe.isInTable(c))m?this._tableHandlerOnBackspace(c,b):this._tableHandlerOnDelete(c,b),this._removeContentsAndChangeSelectionIfNeed(c,g,b),M=!1;else{if(!m&&this._isBeforeTable(c)||m&&this._isAfterTable(c))b.preventDefault(),this._removeTable(c,E.a.getChildNodeByOffset(c.startContainer,m?c.startOffset-1:c.startOffset)),M=!1}else this.wwe.isInTable(c)&&0<x.length&&
this._removeContentsAndChangeSelectionIfNeed(c,g,b)&&(b.preventDefault(),M=!1);return M};k._moveListItemToPreviousOfList=function(b,c){var g=b.parentNode,m=b.firstChild,x=document.createDocumentFragment();E.a.mergeNode(b,x);g.parentNode.insertBefore(x,g);c.setStart(m,0);c.collapse(!0);this.wwe.getEditor().setSelection(c);g.hasChildNodes()||g.parentNode.removeChild(g)};k._isInList=function(b){return E.a.getParentUntilBy(b,function(c){return c&&(E.a.isListNode(c)||"LI"===c.nodeName)},function(c){return c&&
("TD"===c.nodeName||"TH"===c.nodeName)})};k._findListItem=function(b){return E.a.getParentUntilBy(b,function(c){return c&&E.a.isListNode(c)},function(c){return c&&("TD"===c.nodeName||"TH"===c.nodeName)})};k._tableHandlerOnBackspace=function(b,c){var g=b.startContainer,m=b.startOffset,x=this._findListItem(g);x&&0===m&&E.a.isFirstListItem(x)&&E.a.isFirstLevelListItem(x)?(this.wwe.getEditor().saveUndoState(b),this._moveListItemToPreviousOfList(x,b),c.preventDefault()):(b=E.a.getPrevOffsetNodeUntil(g,
m,"TR"),"BR"===E.a.getNodeName(b)&&1!==b.parentNode.childNodes.length&&(c.preventDefault(),E.a.remove(b)))};k._isDeletingBR=function(b){var c=(b=this._getCurrentNodeInCell(b))&&b.nextSibling;return"BR"===E.a.getNodeName(b)&&!!c&&"BR"===E.a.getNodeName(c)};k._getCurrentNodeInCell=function(b){var c=b.startContainer;b=b.startOffset;var g;"TD"===E.a.getNodeName(c)?g=E.a.getChildNodeByOffset(c,b):E.a.getParentUntil(c,"TD")&&(g=c);return g};k._isEndOfList=function(b,c){var g=c.startContainer;c=c.startOffset;
var m=!1;b.nextSibling||(b===g?(g=E.a.getOffsetLength(b),"BR"===b.lastChild.nodeName&&--g,m=g===c):(m=E.a.getParentUntil(g,"li")||g,g=E.a.getOffsetLength(g),b=b.lastChild,"BR"===b.nodeName&&(b=b.previousSibling),m=b===m&&g===c));return m};k._getNextLineNode=function(b){var c=document.createDocumentFragment();for(b=E.a.getParentUntil(b,"TD").nextSibling;b;){var g=b.nextSibling;c.appendChild(b);if("BR"===b.nodeName)break;b=g}return c};k._tableHandlerOnDelete=function(b,c){var g=this._findListItem(b.startContainer);
g&&this._isEndOfList(g,b)?(this.wwe.getEditor().saveUndoState(b),"BR"===g.lastChild.nodeName&&g.removeChild(g.lastChild),E.a.mergeNode(this._getNextLineNode(g),g),c.preventDefault()):this._isDeletingBR(b)&&(b=this._getCurrentNodeInCell(b),b.parentNode.removeChild(b.nextSibling),c.preventDefault())};k._appendBrIfTdOrThNotHaveAsLastChild=function(b){var c=E.a.getNodeName(b.startContainer);"TD"===c||"TH"===c?b=b.startContainer:(b=E.a.parentsUntil(b.startContainer,"tr"),b=b[b.length-1]);c=E.a.getNodeName(b.lastChild);
"BR"===c||"DIV"===c||"UL"===c||"OL"===c||bg||E.a.append(b,"<br />")};k._unwrapBlockInTable=function(){E.a.findAll(this.wwe.getBody(),"td div,th div,tr>br,td>br,th>br").forEach(function(b){if("BR"===E.a.getNodeName(b)){var c=E.a.getNodeName(b.parentNode),g=/TD|TH/.test(c),m=0===b.parentNode.textContent.length,x=b.parentNode.lastChild===b;("TR"===c||g&&!m&&x)&&E.a.remove(b)}else E.a.unwrap(b)})};k._insertDefaultBlockBetweenTable=function(){E.a.findAll(this.wwe.getBody(),"table").forEach(function(b){if(b.nextElementSibling&&
"TABLE"===b.nextElementSibling.nodeName){var c=document.createElement("div");c.appendChild(document.createElement("br"));E.a.insertAfter(c,b)}})};k._removeTable=function(b,c){"TABLE"===c.tagName&&(this.wwe.getEditor().saveUndoState(b),this.wwe.saveSelection(b),E.a.remove(c),this.wwe.restoreSavedSelection())};k._recordUndoStateIfNeed=function(b){var c=E.a.getParentUntil(b.startContainer,"TR");b.collapsed&&c&&this._lastCellNode!==c&&(this.wwe.getEditor().saveUndoState(b),this._lastCellNode=c)};k._recordUndoStateAndResetCellNode=
function(b){this.wwe.getEditor().saveUndoState(b);this.resetLastCellNode()};k._pasteDataIntoTable=function(b){var c=this.wwe.getEditor().getSelection().startContainer;b=this._getTableDataFromTable(b);var g=Md?"":"<br />",m;var x="TD"===c.nodeName||"TH"===c.nodeName?c:(x=E.a.getParentUntilBy(c,function(la){return la&&("TD"===la.nodeName||"TH"===la.nodeName)},function(la){return!!E.a.closest(la,"table")}))?x.parentNode:null;for(c=x=x?x:c.querySelector("th,td");b.length;){for(m=b.shift();c&&m.length;){var M=
m.shift();M.length?c.textContent=M:c.innerHTML=g;c=E.a.getTableCellByDirection(c,"next")}x=c=E.a.getSiblingRowCellByDirection(x,"next",!1)}};k._getTableDataFromTable=function(b){var c=[];E.a.findAll(b,"tr").forEach(function(g){var m=[];ib()(g.children).forEach(function(x){m.push(x.textContent)});m.length&&c.push(m)});return c};k._removeTableContents=function(b){this.wwe.getEditor().saveUndoState();ib()(b).forEach(function(c){c.innerHTML=Md?"":"<br />"})};k.wrapDanglingTableCellsIntoTrIfNeed=function(b){b=
E.a.children(b,"td,th");if(b.length){var c=document.createElement("tr");ib()(b).forEach(function(m){E.a.append(c,m)});var g=c}return g};k.wrapTrsIntoTbodyIfNeed=function(b){b=E.a.children(b,"tr");var c=[];ib()(b).forEach(function(x){c=c.concat(x.querySelectorAll("th"))});c.length&&ib()(c).forEach(function(x){var M=document.createElement("td");M.innerHTML=x.innerHTML;E.a.insertBefore(x,M);E.a.remove(x)});if(b.length){var g=document.createElement("tbody");ib()(b).forEach(function(x){E.a.append(g,x)});
var m=g}return m};k.wrapTheadAndTbodyIntoTableIfNeed=function(b){var c=E.a.children(b,"thead");b=E.a.children(b,"tbody");var g=document.createElement("table");if(!b.length&&c.length){E.a.append(g,c[0]);E.a.append(g,this._createTheadOrTboday("tbody"));var m=g}else b.length&&!c.length?(E.a.append(g,this._createTheadOrTboday("thead")),E.a.append(g,b[0]),m=g):b.length&&c.length&&(E.a.append(g,c[0]),E.a.append(g,b[0]),m=g);return m};k.isTableOrSubTableElement=function(b){return"TABLE"===b||"TBODY"===b||
"THEAD"===b||"TR"===b||"TD"===b};k._createTheadOrTboday=function(b){b=document.createElement(b);var c=document.createElement("tr");b.appendChild(c);return b};k._stuffTableCellsIntoIncompleteRow=function(b,c){ib()(b).forEach(function(g){var m=g.querySelectorAll("th,td"),x="THEAD"===E.a.getNodeName(g.parentNode)?"th":"td";for(m=m.length;m<c;m+=1)E.a.append(g,da(1,x))})};k.prepareToTableCellStuffing=function(b){var c=b[0].querySelectorAll("th,td").length,g=!1;ib()(b).forEach(function(m){m=m.querySelectorAll("th,td").length;
c!==m&&(g=!0,c<m&&(c=m))});return{maximumCellLength:c,needTableCellStuffingAid:g}};k._addTbodyOrTheadIfNeed=function(b){var c=!b.querySelector("thead"),g=!b.querySelector("tbody");c?E.a.prepend(b,"<thead><tr></tr></thead>"):g&&E.a.append(b,"<tbody><tr></tr></tbody>")};k.tableCellAppendAidForTableElement=function(b){this._addTbodyOrTheadIfNeed(b);this._addTrIntoContainerIfNeed(b);b=b.querySelectorAll("tr");var c=this.prepareToTableCellStuffing(b),g=c.maximumCellLength;c.needTableCellStuffingAid&&this._stuffTableCellsIntoIncompleteRow(b,
g)};k._generateTheadAndTbodyFromTbody=function(b){var c=document.createElement("tr"),g=document.createElement("thead");E.a.append(c,da(b.querySelector("tr > td").length,"th"));E.a.append(g,c);return{thead:g,tbody:b}};k._generateTheadAndTbodyFromThead=function(b){var c=document.createElement("tr"),g=document.createElement("tbody");E.a.append(c,da(b.querySelectorAll("th").length,"td"));E.a.append(g,c);return{thead:b,tbody:g}};k._generateTheadAndTbodyFromTr=function(b){var c=document.createElement("thead"),
g=document.createElement("tbody");if("TH"===b.children[0].tagName){var m=b;b=E.a.createElementWith("<tr>"+da(b.querySelectorAll("th").length,"td")+"</tr>")}else m=E.a.createElementWith("<tr>"+da(b.querySelectorAll("td").length,"th")+"</tr>");E.a.append(c,m);E.a.append(g,b);return{thead:c,tbody:g}};k._completeIncompleteTable=function(b){var c=b.tagName,g;if("TABLE"===c)var m=b;else m=document.createElement("table"),b.parentNode.insertBefore(m,b.nextSibling),"TBODY"===c?g=this._generateTheadAndTbodyFromTbody(b):
"THEAD"===c?g=this._generateTheadAndTbodyFromThead(b):"TR"===c&&(g=this._generateTheadAndTbodyFromTr(b)),m.appendChild(g.thead),m.appendChild(g.tbody);this._removeEmptyRows(m);this.tableCellAppendAidForTableElement(m)};k._removeEmptyRows=function(b){E.a.findAll(b,"tr").forEach(function(c){c.cells.length||c.parentNode.removeChild(c)})};k._completeTableIfNeed=function(){var b=this,c=this.wwe.getEditor().getBody();ib()(c.children).forEach(function(g){b.isTableOrSubTableElement(g.nodeName)&&("TABLE"!==
g.nodeName||g.querySelector("tbody")?b._completeIncompleteTable(g):E.a.remove(g))})};k.resetLastCellNode=function(){this._lastCellNode=null};k.setLastCellNode=function(b){this._lastCellNode=b};k._isModifierKey=function(b){return/((META|SHIFT|ALT|CONTROL)\+?)/g.test(b)};k._isModifierKeyPushed=function(b){return b.metaKey||b.ctrlKey||b.altKey||b.shiftKey};k._addTrIntoContainerIfNeed=function(b){ib()(b.children).forEach(function(c){0===c.querySelectorAll("tr").length&&E.a.append(c,"<tr></tr>")})};k._expandTableIfNeed=
function(b){var c=this.wwe.getEditor().getSelection().cloneRange(),g=E.a.parents(c.startContainer,"table")[0];b=this._getColumnAndRowDifference(b,c);0>b.column&&this._appendCellForAllRow(g,b.column);0>b.row&&this._appendRow(g,b.row)};k._getColumnAndRowDifference=function(b,c){var g=this._getTableDataFromTable(b);b=g.length;g=g[0].length;var m=E.a.closest(c.startContainer,"th,td");c=m.parentNode;var x=E.a.getNodeOffsetOfParent(m);m=E.a.getNodeOffsetOfParent(m.parentNode);var M=E.a.parents(c,"table")[0],
la=M.querySelector("tr").children.length;M=M.querySelectorAll("tr").length;E.a.parents(c,"tbody").length&&(m+=1);return{row:M-(m+b),column:la-(x+g)}};k._appendCellForAllRow=function(b,c){var g=Md?"":"<br />";E.a.findAll(b,"tr").forEach(function(m,x){for(var M,la=c;0>la;la+=1)M=0===x?"th":"td",E.a.append(m,"<"+M+">"+g+"</"+M+">")})};k._appendRow=function(b,c){var g=b.querySelectorAll("tr");g=g[g.length-1].cloneNode(!0);var m=Md?"":"<br />";for(E.a.findAll(g,"td").forEach(function(x){x.innerHTML=m});0>
c;c+=1)E.a.append(b.querySelector("tbody"),g.cloneNode(!0))};k._changeSelectionToTargetCell=function(b,c,g,m){var x="next"===g;m="row"===m;if(m)var M=E.a.getSiblingRowCellByDirection(b,g,!1);else(M=E.a.getTableCellByDirection(b,g))||(M=E.a.getSiblingRowCellByDirection(b,g,!0));M?m&&!x?this._moveToCursorEndOfCell(M,c):c.setStart(M,0):(M=E.a.parents(b,"table")[0],x?c.setStart(M.nextElementSibling,0):M.previousElementSibling&&"TABLE"!==M.previousElementSibling.nodeName?c.setStart(M.previousElementSibling,
1):c.setStartBefore(M));c.collapse(!0)};k._moveToCursorEndOfCell=function(b,c){var g;E.a.isListNode(b.lastChild)&&(g=E.a.getLastNodeBy(b.lastChild,function(x){return"LI"!==x.nodeName||null!==x.nextSibling}));var m=E.a.getLastNodeBy(g||b,function(x){return!E.a.isTextNode(x)});b=m||g||b;c.setStart(b,m?m.length:b.childNodes.length-1)};k._moveCursorTo=function(b,c,g){var m=this.wwe.getEditor(),x=m.getSelection().cloneRange(),M=E.a.closest(x.startContainer,"td,th");if(x.collapsed&&this.wwe.isInTable(x)&&
M){if("row"===c&&!this._isMovedCursorToRow(x,b))return la;"previous"!==b&&"row"!==c||oe()(g)||g.preventDefault();this._changeSelectionToTargetCell(M,x,b,c);m.setSelection(x);var la=!1}return la};k._isMovedCursorToRow=function(b,c){var g=b.startContainer;return this._isInList(g)?this._isMovedCursorFromListToRow(g,c):this._isMovedCursorFromTextToRow(b,c)};k._isMovedCursorFromListToRow=function(b,c){var g=c+"Sibling";b=this._findListItem(b);b=E.a.getParentNodeBy(b,function(m,x){x=null===x[g]&&null===
m[g];return!E.a.isCellNode(m)&&x});c=E.a.isListNode(b)&&null===b[g];return E.a.isCellNode(b.parentNode)&&c};k._isMovedCursorFromTextToRow=function(b,c){var g=b.startContainer;b=b.startOffset;g=E.a.isCellNode(g)?g.childNodes[b]:g;g=E.a.getParentNodeBy(g,function(m){return!E.a.isCellNode(m)&&!E.a.isTextNode(m)});return(g=E.a.getSiblingNodeBy(g,c,function(m){return null!==m&&"BR"!==m.nodeName}))&&null===g[c+"Sibling"]};k._removeContentsAndChangeSelectionIfNeed=function(b,c,g){var m=1>=c.length;c="BACK_SPACE"===
c||"DELETE"===c;var x=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),M=x[0],la=!1;(m||c)&&!this._isModifierKeyPushed(g)&&x.length&&(c&&this._recordUndoStateIfNeed(b),this._removeTableContents(x),this._lastCellNode=M,b.setStart(M,0),b.collapse(!0),this.wwe.getEditor().setSelection(b),la=!0);return la};k.getTableIDClassName=function(){var b="te-content-table-"+this.tableID;this.tableID+=1;return b};k.destroy=function(){var b=this;this.eventManager.removeEventHandler("wysiwygRangeChangeAfter.table");
this.eventManager.removeEventHandler("wysiwygSetValueAfter.table");this.eventManager.removeEventHandler("wysiwygProcessHTMLText.table");this.eventManager.removeEventHandler("cut.table");this.eventManager.removeEventHandler("copyBefore.table");kc()(this.keyEventHandlers,function(c,g){return b.wwe.removeKeyEventHandler(g,c)})};return l}(),wf=function(){function l(b){this.wwe=b;this.eventManager=b.eventManager;this.name="tableSelection";this._init()}var k=l.prototype;k._init=function(){this._initEvent();
yb.a.firefox&&(document.execCommand("enableObjectResizing",!1,"false"),document.execCommand("enableInlineTableEditing",!1,"false"))};k._initEvent=function(){var b=this,c,g,m;this._removeSelectionTimer=this._tableSelectionTimer=null;this._isSelectionStarted=!1;var x=function(ua){g=E.a.closest(ua.data.target,"[contenteditable=true] td,th");var Oa=b.wwe.getEditor().getSelection();ua=E.a.parents(g,"[contenteditable=true] table");Oa=b._isTextSelect(Oa,c===g)&&!dc()(c,"te-cell-selected");b._isSelectionStarted&&
ua&&!Oa&&(window.getSelection().removeAllRanges(),yb.a.firefox&&!b._removeSelectionTimer&&(b._removeSelectionTimer=setInterval(function(){window.getSelection().removeAllRanges()},10)),c&&g&&(b.highlightTableCellsBy(c,g),m=g))},M=function(){b._isSelectionStarted&&(b._isSelectionStarted=!1,b.eventManager.removeEventHandler("mouseover.tableSelection"),b.eventManager.removeEventHandler("mouseup.tableSelection"))},la=function(ua){g=E.a.closest(ua.data.target,"[contenteditable=true] td,th");ua=b.wwe.getEditor().getSelection();
var Oa=b._isTextSelect(ua,c===g)&&!dc()(c,"te-cell-selected");b._clearTableSelectionTimerIfNeed();if(b._isSelectionStarted&&(Oa||b._isListSelect(ua)?b.removeClassAttrbuteFromAllCellsIfNeed():(b.wwe.componentManager.getManager("table").resetLastCellNode(),g=g||m,ua=b.wwe.getEditor().getSelection(),ua.setStart(g,0),yb.a.msie?ua.setEnd(g,1):(ua.setEnd(g,0),ua.collapse(!1)),b.wwe.getEditor().setSelection(ua)),b.onDragEnd))b.onDragEnd();M()};this.eventManager.listen("mousedown.tableSelection",function(ua){c=
E.a.closest(ua.data.target,"[contenteditable=true] td,th");var Oa=!!c&&dc()(c,"te-cell-selected");g=null;if(!Oa||Oa&&2!==ua.data.button){if(b.removeClassAttrbuteFromAllCellsIfNeed(),c&&(b.setTableSelectionTimerIfNeed(c),b.eventManager.listen("mouseover.tableSelection",x),b.eventManager.listen("mouseup.tableSelection",la),b.onDragStart))b.onDragStart(c)}else 2===ua.data.button&&M()});this.eventManager.listen("copyBefore.tableSelection",M);this.eventManager.listen("pasteBefore.tableSelection",M)};k._isTextSelect=
function(b,c){return/TD|TH|TEXT/i.test(b.commonAncestorContainer.nodeName)&&c};k._isListSelect=function(b){return/UL|OL|LI/i.test(b.commonAncestorContainer.nodeName)};k.setTableSelectionTimerIfNeed=function(b){E.a.parents(b,"[contenteditable=true] table").length&&(this._isSelectionStarted=!0)};k._clearTableSelectionTimerIfNeed=function(){clearTimeout(this._tableSelectionTimer);yb.a.firefox&&this._removeSelectionTimer&&(clearTimeout(this._removeSelectionTimer),this._removeSelectionTimer=null)};k._reArrangeSelectionIfneed=
function(b,c){var g=E.a.parents(b,"[contenteditable=true] table").length,m=E.a.parents(c,"[contenteditable=true] table").length,x=!m&&g;m&&!g?(g=E.a.parents(c,"[contenteditable=true] table")[0],b=g.querySelectorAll("th")[0]):x&&(g=E.a.parents(b,"[contenteditable=true] table")[0],c=g.querySelectorAll("td"),c=c[c.length-1]);return{startContainer:b,endContainer:c}};k._applySelectionDirection=function(b,c){var g=E.a.getNodeOffsetOfParent,m=b.startContainer;b=b.endContainer;var x=g(E.a.closest(m,"[contenteditable=true] tr"))-
g(E.a.closest(b,"[contenteditable=true] tr")),M=g(m)-g(b);g=0>x;M=0<M;0===x?M?(c.setStart(b,0),c.setEnd(m,1)):(c.setStart(m,0),c.setEnd(b,1)):g?(c.setStart(m,0),c.setEnd(b,1)):(c.setStart(b,0),c.setEnd(m,1));return c};k.getSelectionRangeFromTable=function(b,c){var g=E.a.getNodeOffsetOfParent,m=g(b.parentNode),x=g(c.parentNode),M=g(b);g=g(c);var la=E.a.getParentUntil(b,"TABLE"),ua=E.a.getParentUntil(c,"TABLE"),Oa="TBODY"===E.a.getNodeName(la)&&"THEAD"===E.a.getNodeName(ua);la=la!==ua;ua=!!E.a.parents(b,
"tbody").length&&!!E.a.parents(c,"tbody").length;b={row:m,cell:M};c={row:x,cell:g};Oa?b.row+=1:la?c.row+=1:ua&&(b.row+=1,c.row+=1);m>x||m===x&&M>g?(m=c,x=b):(m=b,x=c);return{from:m,to:x}};k.highlightTableCellsBy=function(b,c){var g=E.a.findAll(E.a.parents(b,"[contenteditable=true] table")[0],"tr");b=this.getSelectionRangeFromTable(b,c);var m=b.from.row,x=b.from.cell,M=b.to.row,la=b.to.cell;g.forEach(function(ua,Oa){E.a.findAll(ua,"td,th").forEach(function(cb,kb){var Gb=Oa===M;Oa===m&&kb<x||Gb&&kb>
la||Oa<m||Oa>M?db()(cb,"te-cell-selected"):Ca()(cb,"te-cell-selected")})})};k.removeClassAttrbuteFromAllCellsIfNeed=function(){E.a.findAll(this.wwe.getBody(),"td.te-cell-selected,th.te-cell-selected").forEach(function(b){db()(b,"te-cell-selected");b.getAttribute("class")||b.removeAttribute("class")})};k.getSelectedCells=function(){return this.wwe.getBody().querySelectorAll(".te-cell-selected")};k.createRangeBySelectedCells=function(){var b=this.wwe.getEditor(),c=b.getSelection().cloneRange(),g=this.getSelectedCells(),
m=g[0],x=g[g.length-1];g.length&&this.wwe.isInTable(c)&&(c.setStart(m,0),c.setEnd(x,x.childNodes.length),b.setSelection(c))};k.styleToSelectedCells=function(b,c){this.createRangeBySelectedCells();b(this.wwe.getEditor(),c)};k.destroy=function(){this.eventManager.removeEventHandler("mousedown.tableSelection");this.eventManager.removeEventHandler("mouseover.tableSelection");this.eventManager.removeEventHandler("mouseup.tableSelection");this.eventManager.removeEventHandler("copyBefore.tableSelection");
this.eventManager.removeEventHandler("pasteBefore.tableSelection")};return l}(),pe=function(){function l(b){this.wwe=b;this.eventManager=b.eventManager;this.name="hr";this._init()}var k=l.prototype;k._init=function(){this._initEvent()};k._initEvent=function(){var b=this;this.eventManager.listen("wysiwygSetValueAfter",function(){b._insertEmptyLineIfNeed();b._changeHRForWysiwyg()})};k._insertEmptyLineIfNeed=function(){var b=this.wwe.getBody(),c=b.firstChild,g=b.lastChild;c&&"HR"===c.nodeName?b.insertBefore(E.a.createEmptyLine(),
c):g&&"HR"===g.nodeName&&b.appendChild(E.a.createEmptyLine())};k._changeHRForWysiwyg=function(){var b=this.wwe.getBody();E.a.findAll(b,"hr").forEach(function(c){c.parentNode.replaceChild(E.a.createHorizontalRule(),c)})};return l}(),ah=function(){function l(b){this.wwe=b;this.eventManager=b.eventManager;this.name="p";this._initEvent()}var k=l.prototype;k._initEvent=function(){var b=this;this.eventManager.listen("wysiwygSetValueBefore",function(c){return b._splitPtagContentLines(c)});this.eventManager.listen("wysiwygSetValueAfter",
function(){b._ensurePtagContentWrappedWithDiv();b._unwrapPtags()})};k._splitPtagContentLines=function(b){b&&(b=E.a.createElementWith("<div>"+b+"</div>"),E.a.findAll(b,"p").forEach(function(c){var g=c.attributes,m=c.nextElementSibling,x=c.innerHTML.split(/<br>/gi),M=x.length-1,la="";la=x.map(function(ua,Oa){0<Oa&&Oa<M&&(ua=ua?ua:"<br>");if(ua){var cb=document.createElement("div");Object.keys(g).forEach(function(kb){kb=g[kb];cb.setAttribute(kb.name,kb.value)});cb.innerHTML=ua;return cb.outerHTML}return""});
(m&&"P"===m.nodeName||"false"===c.getAttribute("contenteditable"))&&la.push("<div><br></div>");E.a.replaceWith(c,la.join(""))}),b=b.innerHTML);return b};k._ensurePtagContentWrappedWithDiv=function(){var b=this;E.a.findAll(this.wwe.getBody(),"p").forEach(function(c){c.querySelectorAll("div").length||E.a.wrapInner(c,"div");b._findNextParagraph(c,"p")&&E.a.append(c,"<div><br></div>")})};k._unwrapPtags=function(){E.a.findAll(this.wwe.getBody(),"div").forEach(function(b){b=b.parentNode;"P"===b.tagName&&
E.a.unwrap(b)})};k._findNextParagraph=function(b,c){b=b.nextElementSibling;return c?b&&Wb()(b,c)?b:null:b};return l}(),re=/h[\d]/i,bh=yb.a.msie&&10===yb.a.version,gg=function(){function l(b){this.wwe=b;this.eventManager=b.eventManager;this.name="heading";this._init()}var k=l.prototype;k._init=function(){this._initEvent();this._initKeyHandler()};k._initEvent=function(){var b=this;this.eventManager.listen("wysiwygSetValueAfter",function(){b._wrapDefaultBlockToHeadingInner()})};k._initKeyHandler=function(){var b=
this;this.wwe.addKeyEventHandler("ENTER",function(c,g){return b.wwe.hasFormatWithRx(re)?(b._onEnter(c,g),!1):!0});this.wwe.addKeyEventHandler("BACK_SPACE",function(c,g){return b.wwe.hasFormatWithRx(re)?(b._addBrToEmptyBlock(g),b._removePrevTopNodeIfNeed(c,g),!1):!0})};k._wrapDefaultBlockToHeadingInner=function(){E.a.findAll(this.wwe.getBody(),"h1, h2, h3, h4, h5, h6").forEach(function(b){E.a.children(b,"div, p").length||E.a.wrapInner(b,"div")})};k._unwrapHeading=function(){this.wwe.unwrapBlockTag(function(b){return re.test(b)})};
k._onEnter=function(b,c){var g=this;0<c.startOffset?this.wwe.defer(function(m){g._unwrapHeading();m.getEditor().removeLastUndoStack()}):(b.preventDefault(),this._insertEmptyBlockToPrevious(c))};k._insertEmptyBlockToPrevious=function(b){this.wwe.getEditor().saveUndoState(b);var c=E.a.createElementWith("<div><br></div>");E.a.insertBefore(c,E.a.getParentUntil(b.startContainer,this.wwe.getBody()))};k._removePrevTopNodeIfNeed=function(b,c){var g=!1;if(c.collapsed&&0===c.startOffset){var m=c.startContainer,
x=E.a.getTopPrevNodeUnder(m,this.wwe.getBody()),M=x&&0===x.textContent.length,la=this.wwe.getEditor();0===m.textContent.length?g=this._removeHedingAndChangeSelection(b,c,x):M&&(b.preventDefault(),la.saveUndoState(c),E.a.remove(x),g=!0)}return g};k._getHeadingElement=function(b){return re.test(E.a.getNodeName(b))?b:E.a.parents(b,"h1,h2,h3,h4,h5,h6")[0]};k._addBrToEmptyBlock=function(b){var c=b.startOffset,g=b.startContainer;b.collapsed&&1===c&&(b=this._getHeadingElement(g),b=E.a.children(b.firstChild,
"br"),bh||b.length||(b=document.createElement("br"),g.parentNode.appendChild(b)))};k._removeHedingAndChangeSelection=function(b,c,g){var m=c.startContainer,x=this.wwe.getEditor(),M=this.wwe.getBody();m=this._getHeadingElement(m);var la=g,ua=1;b.defaultPrevented||(b.preventDefault(),x.saveUndoState(c));E.a.remove(m);g||(la=E.a.children(M,"div")[0],ua=0);c.setStart(la,ua);c.collapse(!0);x.setSelection(c);return!0};return l}(),Ec=y(42),Wc=y.n(Ec),Xc=yb.a.msie&&10===yb.a.version,xf=Xc?"":"<br>",yf={"&":"&amp;",
"<":"&lt;",">":"&gt;"},hg=/\u200B/g,Ue=function(){function l(b){this.wwe=b;this.eventManager=b.eventManager;this.name="codeblock";this._init()}var k=l.prototype;k._init=function(){this._initKeyHandler();this._initEvent()};k._initKeyHandler=function(){var b=this;this._keyEventHandlers={BACK_SPACE:this._onBackspaceKeyEventHandler.bind(this),ENTER:function(c,g){!b.wwe.isInTable(g)&&b.wwe.getEditor().hasFormat("CODE")&&b.wwe.defer(function(){var m=b.wwe.getRange().startContainer;(m=b._getCodeNode(m))&&
!E.a.getTextLength(m)&&m.parentNode.removeChild(m)})}};kc()(this._keyEventHandlers,function(c,g){return b.wwe.addKeyEventHandler(g,c)})};k._getCodeNode=function(b){if("CODE"===b.nodeName)var c=b;else"CODE"===b.parentNode.nodeName&&(c=b.parentNode);return c};k._initEvent=function(){var b=this;this.eventManager.listen("wysiwygSetValueAfter.codeblock",function(){b.modifyCodeBlockForWysiwyg()});this.eventManager.listen("wysiwygProcessHTMLText.codeblock",function(c){return b._changePreToPreCode(c)})};
k.prepareToPasteOnCodeblock=function(b){var c=this.wwe.getEditor().getDocument().createDocumentFragment();b=this.convertNodesToText(b);b=b.replace(/\n$/,"");c.appendChild(document.createTextNode(b));return c};k.convertNodesToText=function(b){for(var c="",g=b.shift();Wc()(g);)c=g.childNodes&&E.a.isBlockNode(g)?c+this.convertNodesToText(ib()(g.childNodes)):"BR"===g.nodeName?c+"\n":c+g.textContent,g=b.shift();return c};k._copyCodeblockTypeFromRangeCodeblock=function(b,c){c=E.a.getParentUntil(c.commonAncestorContainer,
this.wwe.getBody());"PRE"===E.a.getNodeName(c)&&(c=c.attributes,kc()(c,function(g){b.setAttribute(g.name,g.value)}));return b};k._changePreToPreCode=function(b){return b.replace(/<pre( .*?)?>((.|\n)*?)<\/pre>/g,function(c,g,m){return"<pre><code"+(g||"")+">"+m+"</code></pre>"})};k.modifyCodeBlockForWysiwyg=function(b){b||(b=this.wwe.getBody());E.a.findAll(b,"pre").forEach(function(c){var g=c.querySelector("code");if(g){var m=g.getAttribute("data-language");var x=g.getAttribute("data-backticks")}1<
c.children.length&&ib()(c.children).forEach(function(M){"DIV"!==M.nodeName&&"P"!==M.nodeName||M.querySelectorAll("br").length||(M.innerHTML+=M.innerHTML+"\n")});g=c.querySelectorAll("br");g.length&&E.a.replaceWith(g,"\n");g=c.textContent.replace(/\s+$/,"");E.a.empty(c);c.innerHTML=g?t(g):xf;m&&(c.setAttribute("data-language",m),Ca()(c,"lang-"+m));x&&c.setAttribute("data-backticks",x);c.setAttribute("data-te-codeblock","")})};k._onBackspaceKeyEventHandler=function(b,c){var g=!0,m=this.wwe.getEditor(),
x=c.commonAncestorContainer;if(this._isCodeBlockFirstLine(c)&&!this._isFrontCodeblock(c))this._removeCodeblockFirstLine(x),c.collapse(!0),g=!1;else if(c.collapsed&&this._isEmptyLine(x)&&this._isBetweenSameCodeblocks(x)){g=x.previousSibling;var M=x.nextSibling,la=g.textContent.length;m.saveUndoState(c);x.parentNode.removeChild(x);this._mergeCodeblocks(g,M);c.setStart(g.childNodes[0],la);c.collapse(!0);g=!1}g||(m.setSelection(c),b.preventDefault());return g};k._isEmptyLine=function(b){var c=b.childNodes;
c=Xc?""===b.textContent:1===c.length&&"BR"===c[0].nodeName;return"DIV"===b.nodeName&&c};k._isBetweenSameCodeblocks=function(b){var c=b.previousSibling;b=b.nextSibling;return"PRE"===E.a.getNodeName(c)&&"PRE"===E.a.getNodeName(b)&&c.getAttribute("data-language")===b.getAttribute("data-language")};k._mergeCodeblocks=function(b,c){b.childNodes[0].textContent+="\n"+c.textContent;c.parentNode.removeChild(c)};k._isCodeBlockFirstLine=function(b){return this.isInCodeBlock(b)&&b.collapsed&&0===b.startOffset};
k._isFrontCodeblock=function(b){return(b=E.a.getParentUntil(b.startContainer,this.wwe.getEditor().getRoot()).previousSibling)&&"PRE"===b.nodeName};k._removeCodeblockFirstLine=function(b){var c=this.wwe.getEditor(),g="PRE"===b.nodeName?b:b.parentNode,m=g.textContent.replace(hg,"");c.modifyBlocks(function(){var x=c.getDocument().createDocumentFragment(),M=m.split("\n"),la=document.createElement("div"),ua=M.shift();la.innerHTML=""+t(ua)+xf;x.appendChild(la);M.length&&(la=g.cloneNode(),la.textContent=
M.join("\n"),x.appendChild(la));return x})};k.isInCodeBlock=function(b){return!!E.a.closest(b.collapsed?b.startContainer:b.commonAncestorContainer,"pre")};k.destroy=function(){var b=this;this.eventManager.removeEventHandler("wysiwygSetValueAfter.codeblock");this.eventManager.removeEventHandler("wysiwygProcessHTMLText.codeblock");kc()(this._keyEventHandlers,function(c,g){return b.wwe.removeKeyEventHandler(g,c)})};return l}(),se=y(55),zf=y.n(se),Af=/\b(H[\d]|LI|P|BLOCKQUOTE|TD)\b/,Yc=/Trident\/[456]\./.test(navigator.userAgent),
ig=function(l){function k(){for(var c,g=arguments.length,m=Array(g),x=0;x<g;x++)m[x]=arguments[x];c=l.call.apply(l,[this].concat(m))||this;c._decorateHandlerToCancelable("copy");c._decorateHandlerToCancelable(Yc?"beforecut":"cut");c._decorateHandlerToCancelable(Yc?"beforepaste":"paste");c.getBody=function(){c.body=c.body||c.getRoot();return c.body};return c}P(k,l);var b=k.prototype;b._decorateHandlerToCancelable=function(c){var g=this._events[c];if(1<g.length)throw Error("too many"+c+"handlers in squire");
var m=g[0].bind(this);g[0]=function(x){x.defaultPrevented||x.squirePrevented||m(x)}};b.changeBlockFormat=function(c,g){var m=this;this.modifyBlocks(function(x){var M,la;if(x.childNodes.length)var ua=x.childNodes.item(0);else ua=m.createDefaultBlock(),x.appendChild(ua);if(c){for(;ua.firstChild;)ua=ua.firstChild;for(la=function(kb){cb.appendChild(kb)};ua!==x;){var Oa=ua.tagName;if(zc()(c)?c(Oa):Oa===c){var cb=ua.childNodes.item(0);if(!E.a.isElemNode(cb)||1<ua.childNodes.length)cb=m.createDefaultBlock(),
ib()(ua.childNodes).forEach(la),(M=cb.lastChild)&&"BR"===E.a.getNodeName(M)&&cb.removeChild(M);x=g?m.createElement(g,[cb]):cb;M=m.getDocument().createDocumentFragment();M.appendChild(x);x=M;break}ua=ua.parentNode}}M&&c||!g||"DIV"!==E.a.getNodeName(x.childNodes[0])||(x=m.createElement(g,[x.childNodes[0]]));return x})};b.changeBlockFormatTo=function(c){this.changeBlockFormat(function(g){return Af.test(g)},c)};b.getCaretPosition=function(){return this.getCursorPosition()};b.replaceSelection=function(c,
g){g&&this.setSelection(g);this._ignoreChange=!0;this.insertHTML(c)};b.replaceRelativeOffset=function(c,g,m){var x=this.getSelection().cloneRange();this._replaceRelativeOffsetOfSelection(c,g,m,x)};b._replaceRelativeOffsetOfSelection=function(c,g,m,x){var M=x.endContainer,la=x.endOffset;"TEXT"!==E.a.getNodeName(M)&&(M=this._getClosestTextNode(M,la))&&(la=E.a.isTextNode(M)?M.nodeValue.length:M.textContent.length);if(M){var ua=this.getSelectionInfoByOffset(M,la+g);x.setStart(ua.element,ua.offset);g=
this.getSelectionInfoByOffset(M,la+(g+m));x.setEnd(g.element,g.offset);this.replaceSelection(c,x)}else this.replaceSelection(c)};b._getClosestTextNode=function(c,g){c=E.a.getChildNodeByOffset(c,g-1);"TEXT"!==E.a.getNodeName(c)&&(c=c.previousSibling);return c};b.getSelectionInfoByOffset=function(c,g){var m,x=0<=g?"next":"previous";g=Math.abs(g);var M=la;var la="next"===x?c:c.previousSibling;var ua=g;for(m=0;la;){c=E.a.isTextNode(la)?la.nodeValue.length:la.textContent.length;m+=c;if(g<=m)break;ua-=
c;0<E.a.getTextLength(la)&&(M=la);la=la[x+"Sibling"]}la||(la=M,ua=E.a.getTextLength(la));"previous"===x&&(ua=E.a.getTextLength(la)-ua);return{element:la,offset:ua}};b.getSelectionPosition=function(c,g,m){var x=this.createElement("INPUT"),M=c.cloneRange();m=this.getSelectionInfoByOffset(c.endContainer,c.endOffset+(m||0));M.setStart(M.startContainer,M.startOffset);M.setEnd(m.element,m.offset);this._ignoreChange=!0;this.insertElement(x,M);M=E.a.getOffset(x);"over"!==g&&(M.top+=x.offsetHeight);x.parentNode.removeChild(x);
c.setStart(c.endContainer,c.endOffset);c.collapse(!0);this.setSelection(c);return M};b.removeLastUndoStack=function(){this._undoStack.length&&(--this._undoStackLength,--this._undoIndex,this._undoStack.pop(),this._isInUndoState=!1)};b.replaceParent=function(c,g,m){if(c=E.a.closest(c,g,this.getBody()))E.a.wrapInner(c,m),E.a.unwrap(c)};b.preserveLastLine=function(){var c=this.getBody().children;(c=c[c.length-1])&&"DIV"!==E.a.getNodeName(c)&&(this._ignoreChange=!0,E.a.insertAfter(this.createDefaultBlock(),
c))};b.scrollTop=function(c){oe()(c)||(this.getBody().scrollTop=c);return this.getBody().scrollTop};b.isIgnoreChange=function(){return this._ignoreChange};b.focus=function(){zf.a.prototype.focus.call(this)};b.blockCommandShortcuts=function(){var c=this,g=ud.b?"meta":"ctrl";"b i u shift-7 shift-5 shift-6 shift-8 shift-9 [ ] d".split(" ").forEach(function(m){c.setKeyHandler(g+"-"+m,function(x,M){M.preventDefault()})})};return k}(zf.a),jg=yb.a.msie&&11===yb.a.version,ch=-1!==navigator.appVersion.indexOf("Win")&&
yb.a.chrome,Ve=/Windows (NT )?10/g.test(navigator.appVersion),Bf=jg||ch&&!Ve,lg=function(){function l(b,c){this._wwe=b;Bf&&(this.isComposition=!1,this._initCompositionEvent());this.setRange(c||this._wwe.getRange())}var k=l.prototype;k._initCompositionEvent=function(){var b=this;this._wwe.getEditor().addEventListener("compositionstart",function(){b.isComposition=!0});this._wwe.getEditor().addEventListener("compositionend",function(){b.isComposition=!1})};k.setRange=function(b){this._range&&this._range.detach();
this._range=b};k.expandStartOffset=function(){var b=this._range;E.a.isTextNode(b.startContainer)&&0<b.startOffset&&b.setStart(b.startContainer,b.startOffset-1)};k.expandEndOffset=function(){var b=this._range;E.a.isTextNode(b.endContainer)&&b.endOffset<b.endContainer.nodeValue.length&&b.setEnd(b.endContainer,b.endOffset+1)};k.setEndBeforeRange=function(b){var c=b.startOffset;this.isComposition&&(c+=1);this._range.setEnd(b.startContainer,c)};k.getTextContent=function(){return this._range.cloneContents().textContent};
k.replaceContent=function(b){this._wwe.getEditor().setSelection(this._range);this._wwe.getEditor().insertHTML(b);this._wwe.isInTable(this._range)&&this._wwe.eventManager.emit("wysiwygRangeChangeAfter",this._wwe);this._range=this._wwe.getRange()};k.deleteContent=function(){this._wwe.getEditor().setSelection(this._range);this._wwe.getEditor().insertHTML("");this._range=this._wwe.getRange()};k.peekStartBeforeOffset=function(b){var c=this._range.cloneRange();c.setStart(c.startContainer,Math.max(c.startOffset-
b,0));c.setEnd(this._range.startContainer,this._range.startOffset);return c.cloneContents().textContent};return l}(),mg=function(l){function k(c){var g=c.wysiwygEditor;c=l.call(this,{eventManager:c.eventManager,container:c.container,attachedSelector:"pre"})||this;c._wysiwygEditor=g;c._popupCodeBlockLanguages=null;c._initDOM();c._initDOMEvent();return c}X(k,l);var b=k.prototype;b._initDOM=function(){var c=this;Ca()(this.el,"code-block-header");this._languageLabel=E.a.createElementWith("<span>text</span>");
E.a.append(this.el,this._languageLabel);this._buttonOpenModalEditor=E.a.createElementWith('<button type="button">Editor</button>');E.a.append(this.el,this._buttonOpenModalEditor);this._eventManager.emit("removeEditor",function(){xd()(c._buttonOpenModalEditor,"click");c._buttonOpenModalEditor=null})};b._initDOMEvent=function(){var c=this;Kc()(this._buttonOpenModalEditor,"click",function(){return c._openPopupCodeBlockEditor()})};b._openPopupCodeBlockEditor=function(){this._eventManager.emit("openPopupCodeBlockEditor",
this.getAttachedElement())};b._updateLanguage=function(){var c=this.getAttachedElement();c=c?c.getAttribute("data-language"):null;this._languageLabel.textContent=c||"text"};b.syncLayout=function(){var c=this.getAttachedElement();c=E.a.getOffset(c,".te-editor").top;Va()(this.el,{top:c+"px",right:"26px",width:"250px",height:"30px"})};b.onShow=function(){var c=this;l.prototype.onShow.call(this);this._onAttachedElementChange=function(){return c._updateLanguage()};this._eventManager.listen("changeLanguage",
this._onAttachedElementChange);this._updateLanguage()};b.onHide=function(){this._eventManager.removeEventHandler("changeLanguage",this._onAttachedElementChange);l.prototype.onHide.call(this)};return k}(function(){function l(b){var c=b.container,g=b.attachedSelector;this._eventManager=b.eventManager;this._attachedSelector="[contenteditable=true] "+g;this._container=c;this._attachedElement=null;this.active=!1;this._createElement();this._initEvent()}var k=l.prototype;k._createElement=function(){this.el=
E.a.createElementWith('<div class="te-ww-block-overlay"></div>');Va()(this.el,{position:"absolute",display:"none",zIndex:1});E.a.append(this._container,this.el)};k._initEvent=function(){var b=this;this._eventManager.listen("change",this._onChange.bind(this));this._eventManager.listen("mouseover",this._onMouseOver.bind(this));this._eventManager.listen("focus",function(){b.setVisibility(!1)});this._eventManager.listen("mousedown",function(){b.setVisibility(!1)})};k._onChange=function(){this._attachedElement&&
E.a.isContain(document.body,this._attachedElement)?this.syncLayout():this.setVisibility(!1)};k._onMouseOver=function(b){b=b.data.target;var c=E.a.closest(b,this._attachedSelector);c?(this._attachedElement=c,this.setVisibility(!0)):E.a.closest(b,this.el)?this.setVisibility(!0):this.active||this.setVisibility(!1)};k.syncLayout=function(){var b=E.a.getOffset(this._attachedElement),c=E.a.getOuterWidth(this._attachedElement),g=E.a.getOuterHeight(this._attachedElement);E.a.setOffset(this.el,b);Va()(this.el,
{width:c+"px"});Va()(this.el,{height:g+"px"})};k.getAttachedElement=function(){return this._attachedElement||null};k.getVisibility=function(){return"block"===this.el.style.display};k.setVisibility=function(b){b&&this._attachedElement?this.getVisibility()||(Va()(this.el,{display:"block"}),this.syncLayout(),this.onShow()):!b&&this.getVisibility()&&(Va()(this.el,{display:"none"}),this.onHide())};k.onShow=function(){};k.onHide=function(){this.active=!1;this._attachedElement=null};return l}()),We=p.getSharedInstance(),
kg=/<([a-z]+|h\d)>(<br>|<br \/>)<\/\1>/gi,dh=/(?:<br>|<br \/>)<\/(.+?)>/gi,ng=/\b(H[\d]|LI|P|BLOCKQUOTE|TD|PRE)\b/,Nd=/<span([^>]*)>[\u0020]/g,Cf=/[\u0020]<\/span>/g,te=/^(TABLE|H[1-6])$/,og="undefined"!==typeof MutationObserver,Df=function(){function l(b,c,g){var m=this;void 0===g&&(g={});this.componentManager=new Vb(this);this.eventManager=c;this.editorContainerEl=b;this._height=0;this._silentChange=!1;this._keyEventHandlers={};this._managers={};this._linkAttribute=g.linkAttribute||{};this._sanitizer=
g.sanitizer;this._initEvent();this._initDefaultKeyEventHandler();this.debouncedPostProcessForChange=wd()(function(){return m.postProcessForChange()},0)}var k=l.prototype;k.init=function(){var b=document.createElement("div");this.editorContainerEl.appendChild(b);this.editor=new ig(b,{blockTag:"DIV",leafNodeNames:{HR:!1},allowedBlocks:this._sanitizer?[]:["details","summary"]});this.editor.blockCommandShortcuts();this._clipboardManager=new Zb(this);this._initSquireEvent();this._clipboardManager.init();
Ca()(this.getBody(),"tui-editor-contents");Va()(this.editorContainerEl,"position","relative");this._togglePlaceholder();this.codeBlockGadget=new mg({eventManager:this.eventManager,container:this.editorContainerEl,wysiwygEditor:this})};k._initEvent=function(){var b=this;this.eventManager.listen("wysiwygKeyEvent",function(c){return b._runKeyEventHandlers(c.data,c.keyMap)});this.eventManager.listen("wysiwygRangeChangeAfter",function(){return b.scrollIntoCursor()});this.eventManager.listen("contentChangedFromWysiwyg",
function(){b._togglePlaceholder()})};k.addKeyEventHandler=function(b,c){var g=this;c||(c=b,b="DEFAULT");Re()(b)||(b=[b]);b.forEach(function(m){g._keyEventHandlers[m]||(g._keyEventHandlers[m]=[]);g._keyEventHandlers[m].push(c)})};k.removeKeyEventHandler=function(b,c){c||(c=b,b="DEFAULT");var g=this._keyEventHandlers[b];g&&(this._keyEventHandlers[b]=g.filter(function(m){return m!==c}))};k._runKeyEventHandlers=function(b,c){var g=this.getRange(),m,x;(m=this._keyEventHandlers.DEFAULT)&&ne()(m,function(M){return x=
M(b,g,c)});(m=this._keyEventHandlers[c])&&!1!==x&&ne()(m,function(M){return M(b,g,c)})};k._initSquireEvent=function(){var b=this,c=this.getEditor(),g=!1;c.addEventListener("copy",function(m){b.eventManager.emit("copy",{source:"wysiwyg",data:m});wd()(function(){b.isEditorValid()&&b.eventManager.emit("copyAfter",{source:"wysiwyg",data:m})})()});c.addEventListener(yb.a.msie?"beforecut":"cut",function(m){b.eventManager.emit("cut",{source:"wysiwyg",data:m});wd()(function(){b.isEditorValid()&&b.eventManager.emit("cutAfter",
{source:"wysiwyg",data:m})})()});c.addEventListener(yb.a.msie?"beforepaste":"paste",function(m){b.eventManager.emit("paste",{source:"wysiwyg",data:m})});c.addEventListener("dragover",function(m){m.preventDefault();return!1});c.addEventListener("drop",function(m){m.preventDefault();b.eventManager.emit("drop",{source:"wysiwyg",data:m});return!1});c.addEventListener("input",wd()(function(){if(b.isEditorValid()){if(b._silentChange)b._silentChange=!1;else{var m={source:"wysiwyg"};b.eventManager.emit("changeFromWysiwyg",
m);b.eventManager.emit("change",m);b.eventManager.emit("contentChangedFromWysiwyg",b)}b.getEditor().preserveLastLine()}},0));c.addEventListener("keydown",function(m){b.getEditor().getSelection().collapsed||(g=!0);b.eventManager.emit("keydown",{source:"wysiwyg",data:m});b._onKeyDown(m)});yb.a.firefox&&(c.addEventListener("keypress",function(m){var x=m.keyCode;if(13===x||9===x)b.getEditor().getSelection().collapsed||(g=!0),b.eventManager.emit("keydown",{source:"wysiwyg",data:m}),b._onKeyDown(m)}),c.addEventListener("keyup",
function(){var m=b.getRange();if(E.a.isTextNode(m.commonAncestorContainer)&&E.a.isTextNode(m.commonAncestorContainer.previousSibling)){var x=m.commonAncestorContainer.previousSibling.length,M=m.commonAncestorContainer;m.commonAncestorContainer.previousSibling.appendData(m.commonAncestorContainer.data);m.setStart(m.commonAncestorContainer.previousSibling,x+m.startOffset);m.collapse(!0);E.a.remove(M);b.setRange(m);m.detach()}}));c.addEventListener("keyup",function(m){g&&(b.debouncedPostProcessForChange(),
g=!1);b.eventManager.emit("keyup",{source:"wysiwyg",data:m})});Kc()(this.editorContainerEl,"scroll",function(m){b.eventManager.emit("scroll",{source:"wysiwyg",data:m})});c.addEventListener("click",function(m){b.eventManager.emit("click",{source:"wysiwyg",data:m})});c.addEventListener("mousedown",function(m){b.eventManager.emit("mousedown",{source:"wysiwyg",data:m})});c.addEventListener("mouseover",function(m){b.eventManager.emit("mouseover",{source:"wysiwyg",data:m})});c.addEventListener("mouseout",
function(m){b.eventManager.emit("mouseout",{source:"wysiwyg",data:m})});c.addEventListener("mouseup",function(m){b.eventManager.emit("mouseup",{source:"wysiwyg",data:m})});c.addEventListener("contextmenu",function(m){b.eventManager.emit("contextmenu",{source:"wysiwyg",data:m})});c.addEventListener("focus",function(){b.eventManager.emit("focus",{source:"wysiwyg"})});c.addEventListener("blur",function(){b.fixIMERange();b.eventManager.emit("blur",{source:"wysiwyg"})});c.addEventListener("pathChange",
function(m){m={strong:/(^B>|>B$|>B>|^B$|STRONG)/.test(m.path),emph:/(>I|>EM|^I$|^EM$)/.test(m.path),strike:/(^S>|>S$|>S>|^S$|DEL)/.test(m.path),code:/CODE/.test(m.path),codeBlock:/PRE/.test(m.path),blockQuote:/BLOCKQUOTE/.test(m.path),table:/TABLE/.test(m.path),heading:/H[1-6]/.test(m.path),list:/UL>LI(?!.task-list-item)/.test(m.path),orderedList:/OL>LI(?!.task-list-item)/.test(m.path),taskList:/[UL|OL]>LI.task-list-item/.test(m.path),source:"wysiwyg"};b.eventManager.emit("stateChange",m)});c.addEventListener("willPaste",
function(m){m.fragment&&b.eventManager.emit("willPaste",{source:"wysiwyg",data:m})})};k._togglePlaceholder=function(){var b=this.getEditor();b.modifyDocument(function(){var c=b.getRoot();c.textContent||1<c.childNodes.length?c.classList.remove("tui-editor-contents-placeholder"):c.classList.add("tui-editor-contents-placeholder")})};k._onKeyDown=function(b){var c=We.convert(b);b.keyCode&&(this.eventManager.emit("keyMap",{source:"wysiwyg",keyMap:c,data:b}),b.defaultPrevented||this.eventManager.emit("wysiwygKeyEvent",
{keyMap:c,data:b}))};k._initDefaultKeyEventHandler=function(){var b=this;this.addKeyEventHandler("ENTER",function(c,g){b._isInOrphanText(g)&&b.defer(function(){b._wrapDefaultBlockToOrphanTexts();b.breakToNewDefaultBlock(g,"before")});b.defer(function(){return b.scrollIntoCursor()})});this.addKeyEventHandler("TAB",function(c){var g=b.getEditor(),m=g.getSelection(),x=m.collapsed&&b._isCursorNotInRestrictedAreaOfTabAction(g);m=!m.collapsed&&E.a.isTextNode(m.commonAncestorContainer);c.preventDefault();
return x||m?(g.insertPlainText("\u00a0\u00a0\u00a0\u00a0"),!1):!0});this.addKeyEventHandler("BACK_SPACE",function(c,g,m){return b._handleRemoveKeyEvent(c,g,m)});this.addKeyEventHandler("DELETE",function(c,g,m){return b._handleRemoveKeyEvent(c,g,m)})};k._handleRemoveKeyEvent=function(b,c,g){var m=this.getEditor();return this._isStartHeadingOrTableAndContainsThem(c)?(c="BACK_SPACE"===g?"backspace":"delete",m.removeAllFormatting(),m._keyHandlers[c](m,b,m.getSelection()),m.removeLastUndoStack(),!1):!0};
k._isStartHeadingOrTableAndContainsThem=function(b){var c=b.startContainer,g=b.startOffset,m=b.commonAncestorContainer;b=b.collapsed;var x=this.getEditor().getRoot(),M=!1;b||m!==x||(c===x?M=te.test(E.a.getChildNodeByOffset(c,g).nodeName):0===g&&(M=te.test(E.a.getParentUntil(c,x).nodeName)));return M};k._wrapDefaultBlockToOrphanTexts=function(){var b=ib()(this.getBody().childNodes).filter(function(c){return E.a.isTextNode(c)});E.a.getAllTextNode(this.getBody());b.forEach(function(c){c.nextSibling&&
"BR"===c.nextSibling.tagName&&E.a.remove(c.nextSibling);E.a.wrap(c,document.createElement("div"))})};k._isInOrphanText=function(b){return b.startContainer.nodeType===Node.TEXT_NODE&&b.startContainer.parentNode===this.getBody()};k._wrapDefaultBlockTo=function(b){this.saveSelection(b);this._joinSplitedTextNodes();this.restoreSavedSelection();b=this.getRange();var c=b.startContainer,g=b.startOffset,m=this.getEditor().createDefaultBlock([b.startContainer]),x=E.a.getChildNodeByOffset(b.startContainer,
b.startOffset);x?b.setStartBefore(x):b.selectNodeContents(b.startContainer);b.collapse(!0);b.insertNode(m);b.setStart(c,g);b.collapse(!0);this.setRange(b)};k._joinSplitedTextNodes=function(){var b,c,g=[];ib()(this.getBody().childNodes).filter(function(m){return E.a.isTextNode(m)}).forEach(function(m){b===m.previousSibling?(c.nodeValue+=m.nodeValue,g.push(m)):c=m;b=m});E.a.remove(g)};k.saveSelection=function(b){b||(b=this.getRange());this.getEditor()._saveRangeToBookmark(b)};k.setSelectionByContainerAndOffset=
function(b,c,g,m){var x=this.getEditor(),M=x.getSelection();M.setStart(b,c);M.setEnd(g,m);x.setSelection(M);return M};k.restoreSavedSelection=function(){this.setRange(this.getEditor()._getRangeAndRemoveBookmark())};k.reset=function(){this.setValue("")};k.changeBlockFormatTo=function(b){this.getEditor().changeBlockFormatTo(b);this.eventManager.emit("wysiwygRangeChangeAfter",this)};k.makeEmptyBlockCurrentSelection=function(){var b=this;this.getEditor().modifyBlocks(function(c){c.textContent||(c=b.getEditor().createDefaultBlock());
return c})};k.focus=function(){var b=this.scrollTop();this.editor.focus();b!==this.scrollTop()&&this.scrollTop(b)};k.blur=function(){this.editor.blur()};k.remove=function(){xd()(this.editorContainerEl,"scroll");this.getEditor().destroy();this.eventManager=this.body=this.editor=null};k.setHeight=function(b){this._height=b;Va()(this.editorContainerEl,{overflow:"auto",height:"100%"});Va()(this.editorContainerEl.parentNode,{height:hd()(b)?b+"px":b});var c=this.editorContainerEl.style,g=this.getBody().style;
c=parseInt(c.paddingTop,10)-parseInt(c.paddingBottom,10);g=parseInt(g.marginTop,10)-parseInt(g.marginBottom,10);Va()(this.getBody(),{minHeight:b-g-c+"px"})};k.setMinHeight=function(b){var c=this.getBody();Va()(c,"minHeight",b+"px")};k.setPlaceholder=function(b){b&&this.getEditor().getRoot().setAttribute("data-placeholder",b)};k.getLinkAttribute=function(){return this._linkAttribute};k.setValue=function(b,c){void 0===c&&(c=!0);b=this.eventManager.emitReduce("wysiwygSetValueBefore",b);this.editor.setHTML(b);
this.eventManager.emit("wysiwygSetValueAfter",this);this.eventManager.emit("contentChangedFromWysiwyg",this);c&&this.moveCursorToEnd();this.getEditor().preserveLastLine();this.getEditor().removeLastUndoStack();this.getEditor().saveUndoState()};k.insertText=function(b){this.editor.insertPlainText(b)};k.getValue=function(){this._prepareGetHTML();var b=this.editor.getHTML();b=b.replace(kg,function(c,g){return"li"===g?c:"td"===g||"th"===g?"<"+g+"></"+g+">":"<br />"});b=b.replace(Nd,"<span$1>&nbsp;");
b=b.replace(Cf,"&nbsp;</span>");b=b.replace(dh,"</$1>");b=b.replace(/<div[^>]*>/g,"");b=b.replace(/<\/div>/g,"<br />");return b=this.eventManager.emitReduce("wysiwygProcessHTMLText",b)};k._prepareGetHTML=function(){var b=this;this.getEditor().modifyDocument(function(){b._joinSplitedTextNodes();b.eventManager.emit("wysiwygGetValueBefore",b)})};k.postProcessForChange=function(){var b=this;this.isEditorValid()&&this.getEditor().modifyDocument(function(){b.eventManager.emit("wysiwygRangeChangeAfter",
b)})};k.readySilentChange=function(){og&&!this.getEditor().isIgnoreChange()&&(this._silentChange=!0)};k.getEditor=function(){return this.editor};k.replaceSelection=function(b,c){this.getEditor().replaceSelection(b,c)};k.replaceRelativeOffset=function(b,c,g){this.getEditor().replaceRelativeOffset(b,c,g)};k.addWidget=function(b,c,g,m){b=this.getEditor().getSelectionPosition(b,g,m);g=E.a.getOffset(this.editorContainerEl);this.editorContainerEl.appendChild(c);Va()(c,{position:"absolute",top:b.top-g.top+
"px",left:b.left-g.left+"px"})};k.getBody=function(){return this.getEditor().getBody()};k.hasFormatWithRx=function(b){return this.getEditor().getPath().match(b)};k.breakToNewDefaultBlock=function(b,c){var g=this.editor.createDefaultBlock(),m=E.a.getChildNodeByOffset(b.startContainer,b.startOffset)||E.a.getChildNodeByOffset(b.startContainer,b.startOffset-1);m=E.a.getParentUntil(m,this.getBody());"before"===c?E.a.insertBefore(g,m):E.a.insertAfter(g,m);b.setStart(g,0);b.collapse(!0);this.setRange(b)};
k.replaceContentText=function(b,c,g){b.innerHTML=b.innerHTML.replace(c,g)};k.unwrapBlockTag=function(b){b||(b=function(c){return ng.test(c)});this.getEditor().changeBlockFormat(b);this.eventManager.emit("wysiwygRangeChangeAfter",this)};k.scrollIntoCursor=function(){var b=this.scrollTop(),c=this.getEditor().getCursorPosition(),g=c.top,m=c.height,x=this.editorContainerEl.getBoundingClientRect(),M=x.top;c=g-M;g=g+m-(M+x.height);0>c?this.scrollTop(b+c):0<g&&this.scrollTop(Math.ceil(b+g))};k.moveCursorToEnd=
function(){this.getEditor().moveCursorToEnd();this.scrollIntoCursor();this._correctRangeAfterMoveCursor("end")};k.moveCursorToStart=function(){this.getEditor().moveCursorToStart();this.scrollTop(0)};k.scrollTop=function(b){oe()(b)||(this.editorContainerEl.scrollTop=b);return this.editorContainerEl.scrollTop};k._correctRangeAfterMoveCursor=function(b){var c=this.getRange(),g=this.getBody();if("start"===b)for(;g.firstChild;)g=g.firstChild;else for(;g.lastChild;)g=g.lastChild;"BR"===g.tagName?c.setStartBefore(g):
c.setStartAfter(g);c.collapse(!0);this.setRange(c)};k.getRange=function(){return this.getEditor().getSelection().cloneRange()};k.getIMERange=function(){var b,c=getSelection();c&&c.rangeCount&&(b=c.getRangeAt(0).cloneRange());return b};k.fixIMERange=function(){var b=this.getIMERange();if(b){var c=E.a.getParentUntil(b.commonAncestorContainer,this.editorContainerEl);c&&c.parentNode&&this.setRange(b)}};k.setRange=function(b){this.getEditor().setSelection(b)};k.isInTable=function(b){return!!E.a.closest(b.collapsed?
b.startContainer:b.commonAncestorContainer,"[contenteditable=true] table")};k.getTextObject=function(b){return new lg(this,b)};k.defer=function(b,c){var g=this;setTimeout(function(){g.isEditorValid()&&b(g)},c?c:0)};k.isEditorValid=function(){return this.getEditor()&&E.a.isContain(document.body,this.editorContainerEl)};k._isCursorNotInRestrictedAreaOfTabAction=function(b){return!b.hasFormat("li")&&!b.hasFormat("blockquote")&&!b.hasFormat("table")};k.getSanitizer=function(){return this._sanitizer};
l.factory=function(b,c,g){b=new l(b,c,g);b.init();b.componentManager.addManager(Zg);b.componentManager.addManager($g);b.componentManager.addManager(vf);b.componentManager.addManager(wf);b.componentManager.addManager(Te);b.componentManager.addManager(pe);b.componentManager.addManager(ah);b.componentManager.addManager(gg);b.componentManager.addManager(Ue);return b};return l}(),eh=function(){function l(b,c){this.el=b.el;this.height=b.height;this.type=b.initialEditType;this.eventManager=c;this.init();
this._initEvent()}var k=l.prototype;k.init=function(){this._renderLayout();this._initMarkdownAndPreviewSection();this._initWysiwygSection()};k._initEvent=function(){this.eventManager.listen("hide",this.hide.bind(this));this.eventManager.listen("show",this.show.bind(this))};k._renderLayout=function(){Va()(this.el,{boxSizing:"border-box"});this.containerEl=E.a.createElementWith('<div class="tui-editor"><div class="te-md-container"><div class="te-editor"></div><div class="te-md-splitter"></div><div class="te-preview"></div></div><div class="te-ww-container"><div class="te-editor"></div></div></div>',
this.el)};k.switchToWYSIWYG=function(){db()(this.containerEl,"te-md-mode");Ca()(this.containerEl,"te-ww-mode")};k.switchToMarkdown=function(){db()(this.containerEl,"te-ww-mode");Ca()(this.containerEl,"te-md-mode")};k._initMarkdownAndPreviewSection=function(){this.mdEditorContainerEl=this.containerEl.querySelector(".te-md-container .te-editor");this.previewEl=this.containerEl.querySelector(".te-md-container .te-preview")};k._initWysiwygSection=function(){this.wwEditorContainerEl=this.containerEl.querySelector(".te-ww-container .te-editor")};
k._verticalSplitStyle=function(){var b=this.containerEl.querySelector(".te-md-container");db()(b,"te-preview-style-tab");Ca()(b,"te-preview-style-vertical")};k._tabStyle=function(){var b=this.containerEl.querySelector(".te-md-container");db()(b,"te-preview-style-vertical");Ca()(b,"te-preview-style-tab")};k.changePreviewStyle=function(b){"tab"===b?this._tabStyle():"vertical"===b&&this._verticalSplitStyle()};k.hide=function(){Ca()(this.el.querySelector(".tui-editor"),"te-hide")};k.show=function(){db()(this.el.querySelector(".tui-editor"),
"te-hide")};k.remove=function(){E.a.remove(this.el.querySelector(".tui-editor"))};k.getEditorEl=function(){return this.containerEl};k.getPreviewEl=function(){return this.previewEl};k.getMdEditorContainerEl=function(){return this.mdEditorContainerEl};k.getWwEditorContainerEl=function(){return this.wwEditorContainerEl};return l}(),pg=y(36),Pa=y(1),Xe=y(14),Zc=y.n(Xe),Ef=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/g,Fc=function(){function l(b){this.eventManager=b;this._initEvent();this._initDefaultImageImporter()}
l.decodeURIGraceful=function(b){b=b.split(" ");var c=[],g;ne()(b,function(m){try{g=decodeURIComponent(m),g=g.replace(/ /g,"%20")}catch(x){g=m}return c.push(g)});return c.join(" ")};l.encodeMarkdownCharacters=function(b){return b.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\[/g,"%5B").replace(/\]/g,"%5D").replace(/</g,"%3C").replace(/>/g,"%3E")};l.escapeMarkdownCharacters=function(b){return b.replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/</g,"\\<").replace(/>/g,
"\\>")};var k=l.prototype;k._initEvent=function(){var b=this;this.eventManager.listen("drop",function(c){b._processBlobItems(c.data.dataTransfer&&c.data.dataTransfer.files,c.data)});this.eventManager.listen("willPaste",function(c){var g=c.data.fragment.querySelectorAll("*");if(1===g.length&&"IMG"===g[0].tagName&&/^data:image/.test(g[0].src)){c.data.preventDefault();g=g[0].src;var m=atob(g.split(",")[1]);c=new ArrayBuffer(m.length);for(var x=new Uint8Array(c),M=0;M<m.length;M+=1)x[M]=m.charCodeAt(M);
g=g.split(",")[0];c=new Blob([c],{type:g.split(":")[1].split(";")[0]});b._emitAddImageBlobHook(c,"paste")}});this.eventManager.listen("paste",function(c){b._processClipboard(c.data)});this.eventManager.listen("pasteBefore",function(c){b._decodeURL(c)})};k._initDefaultImageImporter=function(){this.eventManager.listen("addImageBlobHook",function(b,c){var g=new FileReader;g.onload=function(m){c(m.target.result)};g.readAsDataURL(b)})};k._emitAddImageBlobHook=function(b,c){var g=this;this.eventManager.emit("addImageBlobHook",
b,function(m,x){g.eventManager.emit("command","AddImage",{imageUrl:m,altText:x||b.name||"image"})},c)};k._decodeURL=function(b){var c=l.decodeURIGraceful,g=l.encodeMarkdownCharacters;if("markdown"===b.source&&b.data.text){var m=b.data.text,x=m[0];1===m.length&&x.match(Ef)&&(x=c(x),x=g(x),b.data.update(null,null,[x]))}else"wysiwyg"===b.source&&(b=b.clipboardContainer,m=b.childNodes[0],x=m.innerText,1===b.childNodes.length&&"A"===m.tagName&&x.match(Ef)&&(m.innerText=c(x),m.href=g(m.href)))};k._processClipboard=
function(b){var c=b.clipboardData||window.clipboardData,g=c&&c.items;c=c.types;g&&c&&1===c.length&&-1!==Zc()("Files",[].slice.call(c))&&this._processBlobItems(g,b)};k._processBlobItems=function(b,c){var g=this;b&&ne()(b,function(m){return-1!==m.type.indexOf("image")?(c.preventDefault(),c.stopPropagation(),c.codemirrorIgnore=!0,m=m.name?m:m.getAsFile(),g._emitAddImageBlobHook(m,c.type),!1):!0})};return l}(),Od=y(37),Ye=y(46),qg=y(23),Ra=new (function(){function l(){this._code="en-US";this._langs=new qg.a}
var k=l.prototype;k.setCode=function(b){this._code=b};k.setLanguage=function(b,c){var g=this;b=[].concat(b);b.forEach(function(m){if(g._langs.has(m)){var x=g._langs.get(m);g._langs.set(m,Qb()(x,c))}else g._langs.set(m,c)})};k.get=function(b,c){c||(c=this._code);var g=this._langs.get(c);g||(g=this._langs.get("en-US"));g=g[b];if(!g)throw Error('There is no text key "'+b+'" in '+c);return g};return l}()),rg=y(57),Pd=y(9),ue=y.n(Pd),Ze=y(54),sg=y.n(Ze),ve=y(58),fh=y.n(ve),yd="click mousedown mousemove mouseup mouseover mouseout scroll".split(" "),
tg=-1,Rd=function(){function l(b){void 0===b&&(b={});sa(this,"tagName",void 0);sa(this,"className",void 0);sa(this,"el",void 0);sa(this,"_id",void 0);b=Qb()({tagName:"div"},b);this.tagName=b.tagName;this.className=b.className;this._id=tg+=1;this.customEventManager=new fh.a;this._setRootElement(b.rootElement)}var k=l.prototype;k.on=function(b,c){var g=this;sg()(b)?kc()(b,function(m,x){g._addEvent(x,m)}):this._addEvent(b,c)};k._bindDomEvent=function(b,c,g){c?E.a.findAll(this.el,c).forEach(function(m){Kc()(m,
b,g)}):Kc()(this.el,b,g)};k._addEvent=function(b,c){var g=this._parseEventType(b);b=g.event;g=g.selector;if(-1<Zc()(b,yd))this._bindDomEvent(b,g,c);else this.customEventManager.on(b,c)};k._unbindDomEvent=function(b,c,g){c?E.a.findAll(this.el,c).forEach(function(m){xd()(m,b,g)}):xd()(this.el,b,g)};k.off=function(b,c){var g=this._parseEventType(b);b=g.event;g=g.selector;-1<Zc()(b,yd)?this._unbindDomEvent(b,g,c):this.customEventManager.off(b,c)};k._parseEventType=function(b){var c=b.split(" ");b=c.shift();
c=c.join(" ");return{event:b,selector:c}};k._setRootElement=function(b){b||(b=document.createElement(this.tagName),b.className=this.className||"uic"+this._id);this.el=b};k.trigger=function(b,c){this.customEventManager.fire(b,c)};k.remove=function(){this.el&&E.a.remove(this.el)};k.destroy=function(){var b=this;this.remove();kc()(this,function(c,g){b[g]=null})};return l}(),jd=function(l){function k(b){void 0===b&&(b={name:k.name});var c=l.call(this,Qb()({className:k.className},b))||this;c._name=b.name;
return c}Da(k,l);k.prototype.getName=function(){return this._name};return k}(Rd);Aa(jd,"name","item");Aa(jd,"className","tui-toolbar-item");var zd=new (function(){function l(){this.el=E.a.createElementWith('<div class="tui-tooltip"><div class="arrow"></div><span class="text"></span></span></div>');document.body.appendChild(this.el);this.hide()}var k=l.prototype;k.show=function(b,c){var g=b.getBoundingClientRect(),m=g.left+window.pageXOffset;g=g.top+window.pageYOffset;Va()(this.el,{top:g+b.clientHeight+
7+"px",left:m+3+"px"});this.el.querySelector(".text").innerHTML=c;Va()(this.el,{display:"block"})};k.hide=function(){Va()(this.el,{display:"none"})};k.remove=function(){E.a.remove(this.el)};return l}()),Ab=function(l){function k(c){void 0===c&&(c={tagName:"button",name:k.name});var g=l.call(this,{name:c.name,tagName:"button",className:c.className+" "+k.className,rootElement:c.el})||this;g._setOptions(c);g._render();g.on("click",g._onClick.bind(Ba(g)));c.tooltip&&(g.on("mouseover",g._onOver.bind(Ba(g))),
g.on("mouseout",g._onOut.bind(Ba(g))));return g}Qa(k,l);var b=k.prototype;b.setTooltip=function(c){this._tooltip=c};b._setOptions=function(c){this._command=c.command;this._event=c.event;this._text=c.text;this._tooltip=c.tooltip;this._style=c.style;this._state=c.state};b._render=function(){var c=document.createTextNode(this._text||"");this.el.appendChild(c);this.el.setAttribute("type","button");this._style&&this.el.setAttribute("style",this._style)};b._onClick=function(){this.isEnabled()&&(this._command?
this.trigger("command",this._command):this._event&&this.trigger("event",this._event),this.trigger("clicked"))};b._onOver=function(){this.isEnabled()&&zd.show(this.el,this._tooltip)};b._onOut=function(){zd.hide()};b.enable=function(){this.el.disabled=!1};b.disable=function(){this.el.disabled=!0};b.isEnabled=function(){return!this.el.disabled};return k}(jd);ha(Ab,"name","button");ha(Ab,"className","tui-toolbar-icons");var Ad=function(l){function k(){return l.call(this,{name:k.name,tagName:"div",className:k.className})||
this}ra(k,l);return k}(jd);qa(Ad,"name","divider");qa(Ad,"className","tui-toolbar-divider");var Ff=function(){function l(){}l.create=function(k,b){switch(k){case "heading":k=new Ab({name:"heading",className:"tui-heading",event:"openHeadingSelect",tooltip:Ra.get("Headings"),state:"heading"});break;case "bold":k=new Ab({name:"bold",className:"tui-bold",command:"Bold",tooltip:Ra.get("Bold"),state:"strong"});break;case "italic":k=new Ab({name:"italic",className:"tui-italic",command:"Italic",tooltip:Ra.get("Italic"),
state:"emph"});break;case "strike":k=new Ab({name:"strike",className:"tui-strike",command:"Strike",tooltip:Ra.get("Strike"),state:"strike"});break;case "hr":k=new Ab({name:"hr",className:"tui-hrline",command:"HR",tooltip:Ra.get("Line"),state:"thematicBreak"});break;case "quote":k=new Ab({name:"quote",className:"tui-quote",command:"Blockquote",tooltip:Ra.get("Blockquote"),state:"blockQuote"});break;case "ul":k=new Ab({name:"ul",className:"tui-ul",command:"UL",tooltip:Ra.get("Unordered list"),state:"list"});
break;case "ol":k=new Ab({name:"ol",className:"tui-ol",command:"OL",tooltip:Ra.get("Ordered list"),state:"orderedList"});break;case "task":k=new Ab({name:"task",className:"tui-task",command:"Task",tooltip:Ra.get("Task"),state:"taskList"});break;case "table":k=new Ab({name:"table",className:"tui-table",event:"openPopupAddTable",tooltip:Ra.get("Insert table"),state:"table"});break;case "image":k=new Ab({name:"image",className:"tui-image",event:"openPopupAddImage",tooltip:Ra.get("Insert image"),state:""});
break;case "link":k=new Ab({name:"link",className:"tui-link",event:"openPopupAddLink",tooltip:Ra.get("Insert link")});break;case "code":k=new Ab({name:"code",className:"tui-code",command:"Code",tooltip:Ra.get("Code"),state:"code"});break;case "codeblock":k=new Ab({name:"codeblock",className:"tui-codeblock",command:"CodeBlock",tooltip:Ra.get("Insert CodeBlock"),state:"codeBlock"});break;case "indent":k=new Ab({name:"indent",className:"tui-indent",command:"Indent",tooltip:Ra.get("Indent")});break;case "outdent":k=
new Ab({name:"outdent",className:"tui-outdent",command:"Outdent",tooltip:Ra.get("Outdent")});break;case "divider":k=new Ad;break;case "button":k=new Ab(b);break;default:k=new jd(b)}return k};return l}(),Cd=function(l){function k(c,g){void 0===g&&(g=[]);var m=l.call(this,{tagName:"div",className:"tui-editor-defaultUI-toolbar"})||this;Ga(va(m),"_items",[]);Ga(va(m),"_eventManager",void 0);m._eventManager=c;m.setItems(g);m._initEvent(c);return m}Ma(k,l);var b=k.prototype;b._initEvent=function(c){var g=
this;c.listen("stateChange",function(m){g._items.forEach(function(x){x._state&&E.a.toggleClass(x.el,"active",!!m[x._state])})});c.listen("changePreviewTabPreview",function(){return g.disableAllButton()});c.listen("changePreviewTabWrite",function(){return g.enableAllButton()});c.listen("changeMode",function(){return g.enableAllButton()})};b.disableAllButton=function(){this._items.forEach(function(c){c instanceof Ab&&c.disable()})};b.enableAllButton=function(){this._items.forEach(function(c){c instanceof
Ab&&c.enable()})};b.getItems=function(){return this._items.slice(0)};b.getItem=function(c){return this._items[c]};b.setItems=function(c){this.removeAllItems();c.forEach(this.addItem.bind(this))};b.addItem=function(c){this.insertItem(this._items.length,c)};b.insertItem=function(c,g){var m=this;ue()(g)?g=Ff.create(g):ue()(g.type)&&(g=Ff.create(g.type,g.options));var x=this.el.children;0<=c&&c<x.length?(E.a.insertBefore(g.el,x[c]),this._items.splice(c,0,g)):(this.el.appendChild(g.el),this._items.push(g));
g.onCommandHandler=function(M){return m._eventManager.emit("command",M)};g.onEventHandler=function(M){return m._eventManager.emit(M)};g.on("command",g.onCommandHandler);g.on("event",g.onEventHandler)};b.indexOfItem=function(c){var g;c instanceof jd?g=this._items.indexOf(c):ue()(c)&&(g=this._items.map(function(m){return m.getName()}).indexOf(c));return g};b.removeItem=function(c,g){void 0===g&&(g=!0);var m;c=c instanceof jd?this.indexOfItem(c):c;0<=c&&(m=this._items.splice(c,1)[0]);m&&(g?m.destroy():
(m.off("command",m.onCommandHandler),m.off("event",m.onEventHandler),E.a.remove(m.el)));return m};b.removeAllItems=function(){for(;this._items&&0<this._items.length;)this.removeItem(0)};b.destroy=function(){this.removeAllItems();l.prototype.destroy.call(this)};return k}(Rd),$c=function(l){function k(c){c=Qb()({header:!0,target:document.body,textContent:""},c);var g=l.call(this,{tagName:"div",className:c.modal?"tui-popup-modal-background":"tui-popup-wrapper",rootElement:c.el})||this;g._clickEventMap=
{};g._onClickCloseButton=g.hide.bind(ob(g));g._initInstance(c);g._initDOM(c);g._initDOMEvent(c);g._initEditorEvent(c);return g}Rb(k,l);var b=k.prototype;b._initInstance=function(c){this._target=c.target;c.el&&(this.el=c.el,this._isExternalHtmlUse=!0);this.content=c.content?c.content:c.textContent;this.options=c};b._initDOM=function(){this._initLayout();this._isExternalHtmlUse||(td()(this.options.title)&&this.setTitle(this.options.title),this.setContent(this.content));var c=this.options.headerButtons;
if(c){E.a.findAll(this.el,".tui-popup-close-button").forEach(function(m){E.a.remove(m)});var g=this.el.querySelector(".tui-popup-header-buttons");E.a.empty(g);g.innerHTML=c}this.options.css&&Va()(this.el,this.options.css)};b._initDOMEvent=function(){var c=this,g=this.options,m=g.openerCssQuery;g=g.closerCssQuery;var x=document.body;m&&E.a.findAll(x,m).forEach(function(M){var la="click."+c._id;c._clickEventMap[la]=c.show.bind(c);Kc()(M,"click",c._clickEventMap[la])});g&&E.a.findAll(x,g).forEach(function(M){var la=
"click."+c._id;c._clickEventMap[la]=c.hide.bind(c);Kc()(M,"click",c._clickEventMap[la])});this.on("click .tui-popup-close-button",this._onClickCloseButton)};b._initEditorEvent=function(){};b._initLayout=function(){var c=this.options;this._isExternalHtmlUse?(this.hide(),this._target.appendChild(this.el)):(this.el.innerHTML=c.modal?'<div class="tui-popup-wrapper">\n        <div class="tui-popup-header">\n            <span class="tui-popup-title"></span>\n            <div class="tui-popup-header-buttons">\n                <button type="button" class="tui-popup-close-button"></button>\n            </div>\n        </div>\n        <div class="tui-popup-body"></div>\n    </div>':
'<div class="tui-popup-header">\n        <span class="tui-popup-title"></span>\n        <div class="tui-popup-header-buttons">\n            <button type="button" class="tui-popup-close-button"></button>\n        </div>\n    </div>\n    <div class="tui-popup-body"></div>',c.className&&Ca.a.apply(void 0,[this.el].concat(c.className.split(/\s+/g))),this.hide(),this._target.appendChild(this.el),this.body=this.el.querySelector(".tui-popup-body"),c.header||E.a.remove(this.el.querySelector(".tui-popup-header")))};
b.setContent=function(c){E.a.empty(this.body);ue()(c)?this.body.innerHTML=c:this.body.appendChild(c)};b.setTitle=function(c){var g=this.el.querySelector(".tui-popup-title");E.a.empty(g);g.innerHTML=c};b.getTitleElement=function(){return this.el.querySelector(".tui-popup-title")};b.hide=function(){Va()(this.el,{display:"none"});this._isShow=!1;this.trigger("hidden",this)};b.show=function(){Va()(this.el,{display:"block"});this._isShow=!0;this.trigger("shown",this)};b.isShow=function(){return this._isShow};
b.remove=function(){var c=this,g=this.options,m=g.openerCssQuery;g=g.closerCssQuery;var x=document.body;this.trigger("remove",this);this.off("click .tui-popup-close-button",this._onClickCloseButton);m&&E.a.findAll(x,m).forEach(function(M){xd()(M,"click",c._clickEventMap["click."+c._id]);delete c._clickEventMap["click."+c._id]});g&&E.a.findAll(x,g).forEach(function(M){xd()(M,"click",c._clickEventMap["click."+c._id]);delete c._clickEventMap["click."+c._id]});E.a.remove(this.el);this.el=null};b.setFitToWindow=
function(c){E.a.toggleClass(this.el,"fit-window",c)};b.isFitToWindow=function(){return dc()(this.el,"fit-window")};b.toggleFitToWindow=function(){var c=!this.isFitToWindow();this.setFitToWindow(c);return c};return k}(Rd),$e=function(l){function k(c){c=Qb()({header:!1,className:"te-dropdown-toolbar"},c);return l.call(this,c)||this}Kb(k,l);var b=k.prototype;b.getToolbar=function(){return this._toolbar};b.getItems=function(){return this.getToolbar().getItems()};b.getItem=function(c){return this.getToolbar().getItem(c)};
b.setItems=function(c){this.getToolbar().setItems(c)};b.addItem=function(c){this.getToolbar().addItem(c)};b.insertItem=function(c,g){this.getToolbar().insertItem(c,g)};b.indexOfItem=function(c){return this.getToolbar().indexOfItem(c)};b.removeItem=function(c,g){return this.getToolbar().removeItem(c,g)};b.removeAllItems=function(){this.getToolbar().removeAllItems()};b._initInstance=function(c){l.prototype._initInstance.call(this,c);var g=c.eventManager;this._button=c.button;this._eventManager=g;this._toolbar=
new Cd(g)};b._initDOM=function(){l.prototype._initDOM.call(this);this.setContent(this._toolbar.el)};b._initEditorEvent=function(){var c=this;l.prototype._initEditorEvent.call(this);this._eventManager.listen("focus",function(){return c.hide()});this._eventManager.listen("closeAllPopup",function(){return c.hide()});this._eventManager.listen(k.OPEN_EVENT,function(){var g=c.isShow();c._eventManager.emit("closeAllPopup");g||c.show();Va()(c.el,{left:"-1000px"});g=c._button;var m=E.a.getOuterHeight(g,!0),
x=(m-E.a.getOuterHeight(g))/2;m=g.offsetTop+m-x;g=g.offsetLeft+E.a.getOuterWidth(g,!0)-E.a.getOuterWidth(c.el,!0);Va()(c.el,{top:m+"px",left:g+"px"})})};return k}($c);(function(l,k,b){k in l?Object.defineProperty(l,k,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[k]=b;return l})($e,"OPEN_EVENT","openDropdownToolbar");var gh=function(l){function k(c,g){g=l.call(this,c,g)||this;nc(gb(g),"_moreButton",void 0);nc(gb(g),"_popupDropdownToolbar",void 0);nc(gb(g),"_observer",void 0);g._init(c);g._bindWidthChangedEvent();
return g}fc(k,l);var b=k.prototype;b.insertItem=function(c,g){l.prototype.insertItem.call(this,c,g);this._arrangeMoreButton()};b._init=function(c){var g=Ff.create("button",{name:"more",className:"tui-more",tooltip:Ra.get("More"),event:$e.OPEN_EVENT});this._moreButton=g;this._popupDropdownToolbar=new $e({eventManager:c,target:this.el,button:g.el});this.addItem(g)};b._bindWidthChangedEvent=function(){var c=this;this._observer=new rg.a(function(){c._popupDropdownToolbar.hide();c._balanceButtons()});
this._observer.observe(this.el)};b._balanceButtons=function(){var c=this;this._popupDropdownToolbar.getItems().forEach(function(g){c._popupDropdownToolbar.removeItem(g,!1);var m=c.getItems().length;l.prototype.insertItem.call(c,m,g)});this.removeItem(this._moreButton,!1);l.prototype.insertItem.call(this,0,this._moreButton);this.getItems().filter(function(g){return g.el.offsetTop>c.el.clientHeight}).forEach(function(g){c.removeItem(g,!1);c._popupDropdownToolbar.addItem(g)});this._arrangeMoreButton()};
b._arrangeMoreButton=function(){if(this._popupDropdownToolbar){this.removeItem(this._moreButton,!1);var c=0<this._popupDropdownToolbar.getItems().length,g=this.getItems().length;c&&l.prototype.insertItem.call(this,g,this._moreButton)}};b.destroy=function(){this._observer&&(this._observer.disconnect(),this._observer=null)};return k}(Cd),ug=function(l){function k(c){void 0===c&&(c={});var g=l.call(this,{tagName:"div",className:"te-tab"})||this;g.sections=c.sections;g._activeButton=null;g._render(c);
g._initEvent(c);return g}dd(k,l);var b=k.prototype;b._initEvent=function(c){if(c=c.onItemClick)this.on("itemClick",c);this.on("click button",this._onTabButton.bind(this))};b._render=function(c){var g=c.items;c=c.initName;for(var m=[],x=0,M=g.length;x<M;x+=1)m.push('<button type="button" data-index="'+x+'">'+g[x]+"</button>");this.el.innerHTML=m.join("");this.activate(c)};b._findButtonContained=function(c,g,m){return E.a.findAll(c,g).filter(function(x){return(new RegExp(m)).test(x.textContent)})};
b.activate=function(c){c=this._findButtonContained(this.el,"button",c)[0];this._activateTabByButton(c)};b._onTabButton=function(c){c=c.target;this._activateTabByButton(c);this.trigger("itemClick",c.textContent)};b._activateTabByButton=function(c){this._isActivatedButton(c)||this._updateClassByButton(c)};b._updateClassByButton=function(c){if(this._activeButton){var g=this._activeButton.getAttribute("data-index");db()(this._activeButton,"te-tab-active");this.sections&&db()(this.sections[g],"te-tab-active")}Ca()(c,
"te-tab-active");this._activeButton=c;c=c.getAttribute("data-index");this.sections&&Ca()(this.sections[c],"te-tab-active")};b._isActivatedButton=function(c){return this._activeButton&&this._activeButton.textContent===c.textContent};return k}(Rd),we=function(l){function k(c,g,m){var x=l.call(this,{tagName:"div",className:"te-mode-switch"})||this;Hb(Fa(x),"_buttons",{});Hb(Fa(x),"_type",void 0);Hb(Fa(x),"_rootElement",void 0);x._eventManager=m;x._render(c);x._switchType(td()(g)?g:"markdown");x._initEvent();
return x}ab(k,l);var b=k.prototype;b.isShown=function(){return"block"===this._rootElement.style.display};b.show=function(){Va()(this._rootElement,{display:"block"})};b.hide=function(){Va()(this._rootElement,{display:"none"})};b._render=function(c){this._buttons.markdown=E.a.createElementWith('<button class="te-switch-button markdown" type="button">'+Ra.get("Markdown")+"</button>");this._buttons.wysiwyg=E.a.createElementWith('<button class="te-switch-button wysiwyg" type="button">'+Ra.get("WYSIWYG")+
"</button>");this.el.appendChild(this._buttons.markdown);this.el.appendChild(this._buttons.wysiwyg);c&&(c.appendChild(this.el),this._rootElement=c);this.on("click .markdown",this._changeMarkdown.bind(this));this.on("click .wysiwyg",this._changeWysiwyg.bind(this));this.show()};b._changeMarkdown=function(){this._switchType("markdown")};b._changeWysiwyg=function(){this._switchType("wysiwyg")};b._setActiveButton=function(c){db()(this._buttons.markdown,"active");db()(this._buttons.wysiwyg,"active");Ca()(this._buttons[""+
c],"active")};b._switchType=function(c){this._type!==c&&(this._type=c,this._setActiveButton(c),this.trigger("modeSwitched",this._type))};b._initEvent=function(){var c=this;this._eventManager.listen("changeMode",function(g){c._type!==g&&(c._type=g,c._setActiveButton(g))})};return k}(Rd);Hb(we,"TYPE",{MARKDOWN:"markdown",WYSIWYG:"wysiwyg"});var vg=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/,hh=function(l){function k(c){var g='\n            <label for="url">'+Ra.get("URL")+'</label>\n            <input type="text" class="te-url-input" />\n            <label for="linkText">'+
Ra.get("Link text")+'</label>\n            <input type="text" class="te-link-text-input" />\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+Ra.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+Ra.get("Cancel")+"</button>\n            </div>\n        ";c=Qb()({header:!0,title:Ra.get("Insert link"),className:"te-popup-add-link tui-editor-popup",content:g},c);c=l.call(this,c)||this;c._disabledLinkText=!1;return c}
md(k,l);var b=k.prototype;b._initInstance=function(c){l.prototype._initInstance.call(this,c);this._editor=c.editor;this._eventManager=c.editor.eventManager};b._initDOM=function(){l.prototype._initDOM.call(this);var c=this.el;this._inputText=c.querySelector(".te-link-text-input");this._inputURL=c.querySelector(".te-url-input")};b._initDOMEvent=function(){var c=this;l.prototype._initDOMEvent.call(this);this.on("click .te-close-button",function(){return c.hide()});this.on("click .te-ok-button",function(){return c._addLink()});
this.on("shown",function(){c._disabledLinkText=c._editor.isWysiwygMode()&&!c._editor.getRange().collapsed;c._disableLinkTextInput();var g=c._inputText,m=c._inputURL,x=c._editor.getSelectedText().trim();g.value=x;vg.exec(x)&&(m.value=x);m.focus()});this.on("hidden",function(){c._resetInputs()})};b._initEditorEvent=function(){var c=this;l.prototype._initEditorEvent.call(this);var g=this._eventManager;g.listen("focus",function(){return c.hide()});g.listen("closeAllPopup",function(){return c.hide()});
g.listen("openPopupAddLink",function(m){g.emit("closeAllPopup");m&&(c._inputURL.value=m.url);c.show()})};b._disableLinkTextInput=function(){var c=this._inputText;this._disabledLinkText?(c.setAttribute("disabled","disabled"),Ca()(c,"disabled")):(c.removeAttribute("disabled"),db()(c,"disabled"))};b._addLink=function(){var c=this._getValue(),g=c.url;c=c.linkText;this._clearValidationStyle();!this._disabledLinkText&&1>c.length?Ca()(this._inputText,"wrong"):1>g.length?Ca()(this._inputURL,"wrong"):(this._eventManager.emit("command",
"AddLink",{linkText:c,url:g}),this.hide())};b._getValue=function(){return{url:this._inputURL.value,linkText:this._inputText.value}};b._clearValidationStyle=function(){db()(this._inputURL,"wrong","disabled");db()(this._inputText,"wrong")};b._resetInputs=function(){this._inputText.removeAttribute("disabled");this._inputText.value="";this._inputURL.value="";this._clearValidationStyle()};return k}($c),ih=function(l){function k(c){var g='\n            <div class="te-tab-section"></div>\n            <div class="te-url-type">\n                <label for="">'+
Ra.get("Image URL")+'</label>\n                <input type="text" class="te-image-url-input" />\n            </div>\n            <div class="te-file-type">\n                <label for="">'+Ra.get("Select image file")+'</label>\n                <input type="file" class="te-image-file-input" accept="image/*" />\n            </div>\n            <label for="url">'+Ra.get("Description")+'</label>\n            <input type="text" class="te-alt-text-input" />\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+
Ra.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+Ra.get("Cancel")+"</button>\n            </div>\n        ";c=Qb()({header:!0,title:Ra.get("Insert image"),className:"te-popup-add-image tui-editor-popup",content:g},c);return l.call(this,c)||this}ed(k,l);var b=k.prototype;b._initInstance=function(c){l.prototype._initInstance.call(this,c);this.eventManager=c.eventManager};b._initDOM=function(){l.prototype._initDOM.call(this);var c=this.el;this._imageUrlInput=c.querySelector(".te-image-url-input");
this._imageFileInput=c.querySelector(".te-image-file-input");this._altTextInput=c.querySelector(".te-alt-text-input");var g=c.querySelector(".te-file-type");c=c.querySelector(".te-url-type");var m=this.body.querySelector(".te-tab-section");this.tab=new ug({initName:Ra.get("File"),items:[Ra.get("File"),Ra.get("URL")],sections:[g,c]});m.appendChild(this.tab.el)};b._initDOMEvent=function(){var c=this;l.prototype._initDOMEvent.call(this);this.on("shown",function(){return c._imageUrlInput.focus()});this.on("hidden",
function(){return c._resetInputs()});this.on("change .te-image-file-input",function(){var g=c._imageFileInput.value.split("\\").pop();c._altTextInput.value=g});this.on("click .te-close-button",function(){return c.hide()});this.on("click .te-ok-button",function(){var g=c._imageUrlInput.value,m=c._altTextInput.value;g?c._applyImage(g,m):(g=c._imageFileInput.files,g.length&&(g=g.item(0),c.eventManager.emit("addImageBlobHook",g,function(x,M){return c._applyImage(x,M||m)},"ui")));c.hide()});this.tab.on("itemClick",
function(){return c._resetInputs()})};b._initEditorEvent=function(){var c=this;l.prototype._initEditorEvent.call(this);this.eventManager.listen("focus",function(){return c.hide()});this.eventManager.listen("closeAllPopup",function(){return c.hide()});this.eventManager.listen("openPopupAddImage",function(){c.eventManager.emit("closeAllPopup");c.show()})};b._applyImage=function(c,g){this.eventManager.emit("command","AddImage",{imageUrl:c,altText:g||"image"});this.hide()};b._resetInputs=function(){E.a.findAll(this.el,
"input").forEach(function(c){c.value=""})};b.remove=function(){this.tab.remove();l.prototype.remove.call(this)};return k}($c),wg=function(l){function k(c){var g='\n      <button type="button" class="te-table-add-row">'+Ra.get("Add row")+'</button>\n      <button type="button" class="te-table-add-col">'+Ra.get("Add col")+'</button>\n      <button type="button" class="te-table-remove-row">'+Ra.get("Remove row")+'</button>\n      <button type="button" class="te-table-remove-col">'+Ra.get("Remove col")+
'</button>\n      <hr/>\n      <button type="button" class="te-table-col-align-left">'+Ra.get("Align left")+'</button>\n      <button type="button" class="te-table-col-align-center">'+Ra.get("Align center")+'</button>\n      <button type="button" class="te-table-col-align-right">'+Ra.get("Align right")+'</button>\n      <hr/>\n      <button type="button" class="te-table-remove">'+Ra.get("Remove table")+"</button>\n    ";c=Qb()({header:!1,className:"te-popup-table-utils",content:g},c);return l.call(this,
c)||this}Ed(k,l);var b=k.prototype;b._initInstance=function(c){l.prototype._initInstance.call(this,c);this.eventManager=c.eventManager};b._initDOMEvent=function(){var c=this;l.prototype._initDOMEvent.call(this);this.on("click .te-table-add-row",function(){return c.eventManager.emit("command","AddRow")});this.on("click .te-table-add-col",function(){return c.eventManager.emit("command","AddCol")});this.on("click .te-table-col-align-left",function(){return c.eventManager.emit("command","AlignCol","left")});
this.on("click .te-table-col-align-center",function(){return c.eventManager.emit("command","AlignCol","center")});this.on("click .te-table-col-align-right",function(){return c.eventManager.emit("command","AlignCol","right")});this.on("click .te-table-remove-col",function(){return c.eventManager.emit("command","RemoveCol")});this.on("click .te-table-remove",function(){return c.eventManager.emit("command","RemoveTable")});this._bindClickEventOnRemoveRowMenu()};b._initEditorEvent=function(){var c=this;
l.prototype._initEditorEvent.call(this);this.eventManager.listen("focus",function(){return c.hide()});this.eventManager.listen("mousedown",function(){return c.hide()});this.eventManager.listen("closeAllPopup",function(){return c.hide()});this.eventManager.listen("openPopupTableUtils",function(g){var m=c.el.parentNode.getBoundingClientRect(),x=m.left;m=m.top;c._disableRemoveRowMenu(g.target);Va()(c.el,{position:"absolute",top:g.clientY-m+5+"px",left:g.clientX-x+10+"px"});c.eventManager.emit("closeAllPopup");
c.show()})};b._bindClickEventOnRemoveRowMenu=function(){var c=this;this.on("click .te-table-remove-row",function(g){var m=g.target;dc()(m,"te-context-menu-disabled")?g.preventDefault():c.eventManager.emit("command","RemoveRow")})};b._disableRemoveRowMenu=function(c){var g=this.el.querySelector(".te-table-remove-row");E.a.toggleClass(g,"te-context-menu-disabled","TH"===c.nodeName)};return k}($c),xe=function(l){function k(c){c=Qb()({header:!1,className:"te-popup-add-table",content:'\n    <div class="te-table-selection">\n        <div class="te-table-header"></div>\n        <div class="te-table-body"></div>\n        <div class="te-selection-area"></div>\n    </div>\n    <p class="te-description"></p>\n'},
c);return l.call(this,c)||this}Ta(k,l);var b=k.prototype;b._initInstance=function(c){l.prototype._initInstance.call(this,c);this._selectedBound={};this._tableBound={};this._eventManager=c.eventManager;this._button=c.button;this._eventHandlers={onMousedown:this._selectTableRange.bind(this),onClick:this._fireCommandEvent.bind(this)}};b._initDOM=function(){l.prototype._initDOM.call(this);this._cacheElements();this._setTableSizeByBound(5,7)};b._initDOMEvent=function(c){l.prototype._initDOMEvent.call(this,
c);this.on("mousemove .te-table-selection",this._eventHandlers.onMousedown);this.on("click .te-table-selection",this._eventHandlers.onClick)};b._selectTableRange=function(c){c=this._getSelectionBoundByOffset(c.pageX-this._selectionOffset.left,c.pageY-this._selectionOffset.top);this._resizeTableBySelectionIfNeed(c.col,c.row);this._setSelectionAreaByBound(c.col,c.row);this._setDisplayText(c.col,c.row);this._setSelectedBound(c.col,c.row)};b._fireCommandEvent=function(){var c=this._getSelectedTableSize();
this._eventManager.emit("command","Table",c.col,c.row)};b._initEditorEvent=function(){var c=this;l.prototype._initEditorEvent.call(this);this._eventManager.listen("focus",function(){return c.hide()});this._eventManager.listen("closeAllPopup",function(){return c.hide()});this._eventManager.listen("openPopupAddTable",function(){var g=c._button,m=g.offsetTop,x=g.offsetLeft;Va()(c.el,{top:m+E.a.getOuterHeight(g)+"px",left:x+"px"});c._eventManager.emit("closeAllPopup");c.show();g=c.el.querySelector(".te-table-selection").getBoundingClientRect();
c._selectionOffset={left:g.left+window.pageXOffset,top:g.top+window.pageYOffset}})};b._cacheElements=function(){this.header=this.el.querySelector(".te-table-header");this.body=this.el.querySelector(".te-table-body");this.selection=this.el.querySelector(".te-selection-area");this.desc=this.el.querySelector(".te-description")};b._resizeTableBySelectionIfNeed=function(c,g){(c=this._getResizedTableBound(c,g))&&this._setTableSizeByBound(c.col,c.row)};b._getResizedTableBound=function(c,g){var m,x,M;5<=
c&&9>c?m=c+1:5>c&&(m=5);7<=g&&14>g?x=g+1:7>g&&(x=7);this._isNeedResizeTable(m,x)&&(M={row:x||this._tableBound.row,col:m||this._tableBound.col});return M};b._isNeedResizeTable=function(c,g){return c&&c!==this._tableBound.col||g&&g!==this._tableBound.row};b._getBoundByOffset=function(c,g){g=parseInt(g/17,10);c=parseInt(c/25,10);return{row:g,col:c}};b._getOffsetByBound=function(c,g){return{x:25*c+25,y:17*g+17}};b._setTableSizeByBound=function(c,g){var m=this._getOffsetByBound(c,g-1);this._setTableSize(m.x,
m.y);this._tableBound.row=g;this._tableBound.col=c};b._getSelectionBoundByOffset=function(c,g){c=this._getBoundByOffset(c,g);1>c.row?c.row=1:c.row>this._tableBound.row&&(c.row=this._tableBound.row);1>c.col?c.col=1:c.col>this._tableBound.col&&(c.col=this._tableBound.col);return c};b._setSelectionAreaByBound=function(c,g){c=this._getOffsetByBound(c,g);this._setSelectionArea(c.x,c.y)};b._setSelectedBound=function(c,g){this._selectedBound.col=c;this._selectedBound.row=g};b._getSelectedTableSize=function(){return{row:this._selectedBound.row+
1,col:this._selectedBound.col+1}};b._setDisplayText=function(c,g){this.desc.innerHTML=c+1+" x "+(g+1)};b._setTableSize=function(c,g){c+=1;g+=1;Va()(this.header,{height:"17px",width:c+"px"});Va()(this.body,{height:g+"px",width:c+"px"});Va()(this.el,{width:c+30+"px"})};b._setSelectionArea=function(c,g){c+=1;g+=1;Va()(this.selection,{height:g+"px",width:c+"px"})};b.remove=function(){this.off("mousemove .te-table-selection",this._eventHandlers.onMousedown);this.off("click .te-table-selection",this._eventHandlers.onClick);
l.prototype.remove.call(this)};return k}($c);xe.CELL_WIDTH=25;xe.CELL_HEIGHT=17;xe.MIN_ROW_SELECTION_INDEX=1;xe.MIN_COL_SELECTION_INDEX=1;var Td=function(l){function k(c){var g='\n      <ul>\n        <li data-value="1" data-type="Heading"><h1>'+Ra.get("Heading")+' 1</h1></li>\n        <li data-value="2" data-type="Heading"><h2>'+Ra.get("Heading")+' 2</h2></li>\n        <li data-value="3" data-type="Heading"><h3>'+Ra.get("Heading")+' 3</h3></li>\n        <li data-value="4" data-type="Heading"><h4>'+
Ra.get("Heading")+' 4</h4></li>\n        <li data-value="5" data-type="Heading"><h5>'+Ra.get("Heading")+' 5</h5></li>\n        <li data-value="6" data-type="Heading"><h6>'+Ra.get("Heading")+' 6</h6></li>\n        <li data-type="Paragraph"><div>'+Ra.get("Paragraph")+"</div></li>\n      </ul>\n    ";c=Qb()({header:!1,className:"te-heading-add",content:g},c);return l.call(this,c)||this}nd(k,l);var b=k.prototype;b._initInstance=function(c){l.prototype._initInstance.call(this,c);this._eventManager=c.eventManager;
this._button=c.button};b._initDOMEvent=function(){var c=this;l.prototype._initDOMEvent.call(this);this.on("click li",function(g){g=E.a.closest(g.target,"li");c._eventManager.emit("command",g.getAttribute("data-type"),g.getAttribute("data-value"))})};b._initEditorEvent=function(){var c=this;l.prototype._initEditorEvent.call(this);this._eventManager.listen("focus",this.hide.bind(this));this._eventManager.listen("closeAllPopup",this.hide.bind(this));this._eventManager.listen("openHeadingSelect",function(){var g=
c._button,m=g.offsetTop,x=g.offsetLeft;Va()(c.el,{top:m+E.a.getOuterHeight(g)+"px",left:x+"px"});c._eventManager.emit("closeAllPopup");c.show()})};return k}($c),xg=function(l){function k(c){var g=c.languages;c=Qb()({header:!1,className:"te-popup-code-block-languages",content:vb(g)},c);return l.call(this,c)||this}oc(k,l);var b=k.prototype;b._initInstance=function(c){var g=this;l.prototype._initInstance.call(this,c);this.eventManager=c.eventManager;this._buttons=this._currentButton=this._onDismissed=
this._onSelectedLanguage=null;this._languages=c.languages;this._btnMousedownHandler=function(m){m=m.target.getAttribute("data-lang");g._onSelectedLanguage&&g._onSelectedLanguage(m);g.hide()}};b._initDOM=function(c){l.prototype._initDOM.call(this,c);Va()(this.el,"zIndex",1E4);this._buttons=E.a.findAll(this.el,"button");this._activateButtonByIndex(0)};b._initDOMEvent=function(){l.prototype._initDOMEvent.call(this);this._addBtnMouseDownHandler()};b._initEditorEvent=function(){var c=this;l.prototype._initEditorEvent.call(this);
this.eventManager.listen("openPopupCodeBlockLanguages",function(g){c.show(g.callback);Va()(c.el,{top:g.offset.top+"px"});Va()(c.el,{left:g.offset.left+"px"});c.setCurrentLanguage(g.language);return c});this.eventManager.listen("focus",function(){return c.hide()});this.eventManager.listen("mousedown",function(){return c.hide()});this.eventManager.listen("closeAllPopup",function(){return c.hide()});this.eventManager.listen("closePopupCodeBlockLanguages",function(){return c.hide()});this.eventManager.listen("scroll",
function(){return c.hide()});this.eventManager.listen("setCodeBlockLanguages",function(g){return c._changeLanguageButtons(g)})};b._activateButtonByIndex=function(c){this._currentButton&&db()(this._currentButton,"active");this._buttons.length&&(this._currentButton=this._buttons[c],Ca()(this._currentButton,"active"),this._currentButton.scrollIntoView())};b.prev=function(){var c=Zc()(this._currentButton,this._buttons)-1;0>c&&(c=this._buttons.length-1);this._activateButtonByIndex(c)};b.next=function(){var c=
Zc()(this._currentButton,this._buttons)+1;c>=this._buttons.length&&(c=0);this._activateButtonByIndex(c)};b.getCurrentLanguage=function(){return this._currentButton.getAttribute("data-lang")};b.setCurrentLanguage=function(c){var g=this._buttons.filter(function(m){return Wb()(m,".te-popup-code-block-lang-"+c)});0<g.length&&(g=Zc()(g[0],this._buttons),this._activateButtonByIndex(g))};b.show=function(c){this._onSelectedLanguage=c.selected;this._onDismissed=c.dismissed;l.prototype.show.call(this)};b.hide=
function(){this._onDismissed&&this._onDismissed();this._onDismissed=this._onSelectedLanguage=null;l.prototype.hide.call(this)};b._addBtnMouseDownHandler=function(){var c=this;this._languages.forEach(function(g){c.off("mousedown .te-popup-code-block-lang-"+g,c._btnMousedownHandler);c.on("mousedown .te-popup-code-block-lang-"+g,c._btnMousedownHandler)})};b._changeLanguageButtons=function(c){(this._languages=c)&&c.length&&(this.content=vb(c),this.setContent(this.content),this._addBtnMouseDownHandler(),
this._buttons=E.a.findAll(this.el,"button"),this._activateButtonByIndex(0))};return k}($c),yg={left:"tui-split-content-left",right:"tui-split-content-right"},Ag=function(){function l(b,c,g,m){void 0===m&&(m={});m=Qb()({showScrollSyncButton:!1,scrollSync:!0,splitView:!0},m);this._baseElement=b;this._eventManager=m.eventManager;this._contentElements=[];this._initDom(c,g,m);this._initDomEvent()}var k=l.prototype;k._initDom=function(b,c,g){var m=document.createElement("div");m.className="tui-split-scroll";
this._el=m;var x=document.createElement("div");x.className="tui-split-scroll-wrapper";this._scrollWrapper=x;this._setScrollSync(g.scrollSync);this.setSplitView(g.splitView);g=document.createElement("div");g.className="tui-split-scroll-content";this._contentWrapper=g;var M=document.createElement("div");M.className="tui-splitter";this._baseElement.appendChild(m);m.appendChild(x);x.appendChild(g);x.appendChild(M);this._setLeft(b);this._setRight(c)};k._initDomEvent=function(){this._contentWrapper.addEventListener("scroll",
this.sync.bind(this))};k._requireScrollIntoView=function(b){var c=b.getBoundingClientRect(),g=c.top;c=c.bottom;if(this.isScrollSynced())b=this._contentWrapper;else if(E.a.parents(b,this._contentElements.left).length)b=this._contentElements.left;else if(E.a.parents(b,this._contentElements.right).length)b=this._contentElements.right;else return;var m=b.getBoundingClientRect(),x=m.top;m=m.bottom;g<x?b.scrollTop=b.scrollTop+g-x:c>m&&(b.scrollTop=b.scrollTop+c-m);this.sync()};k._setContentElement=function(b,
c){var g=this,m=this._contentElements[c];m&&(this._eventManager.removeEventHandler("requireScrollIntoView"),this._contentWrapper.removeChild(m));Ca()(b,yg[c]);this._contentWrapper.appendChild(b);this._eventManager.listen("requireScrollIntoView",function(x){return g._requireScrollIntoView(x)});this._eventManager.listen("requireScrollSync",function(){return g.sync()});this._contentElements[c]=b;this.sync()};k._setLeft=function(b){this._setContentElement(b,"left")};k._setRight=function(b){this._setContentElement(b,
"right")};k._setScrollSync=function(b){E.a.toggleClass(this._el,"scroll-sync",b)};k.toggleScrollSync=function(){E.a.toggleClass(this._el,"scroll-sync")};k.setSplitView=function(b){b?db()(this._el,"single-content"):Ca()(this._el,"single-content")};k.toggleSplitView=function(){E.a.toggleClass(this._el,"single-content")};k.isScrollSynced=function(){return dc()(this._el,"scroll-sync")};k.isSplitView=function(){return!dc()(this._el,"single-content")};k.sync=function(){if(this._contentElements.left&&this._contentElements.right){var b=
this._contentWrapper.clientHeight,c=this._contentWrapper.scrollTop,g=this._contentElements.left,m=this._contentElements.right,x=0<g.offsetHeight-b?g:m;g=x===g?m:g;var M=x.offsetHeight;m=Math.max(M-b,0);b=M-Math.max(g.offsetHeight,b);Va()(x,{top:0});Va()(g,{top:c/m*b+"px"})}};k.scrollTop=function(b){this._contentWrapper.scrollTop=b};return l}(),af=function(l){function k(c,g){c=l.call(this,c,{singleCursorHeightPerLine:!1,theme:"none"})||this;c._language="";c._eventManager=g;c._initEvent();return c}
Mc(k,l);var b=k.prototype;b._initEvent=function(){var c=this;this.on("cursorActivity",this._onRequireScrollIntoView.bind(this));this.on("beforeChange",function(g,m){"paste"===m.origin&&c._eventManager.emit("pasteBefore",{source:"codeblock",data:m})})};b._onRequireScrollIntoView=function(){var c=this,g=this.getCursor(),m=this.getWrapperElement();setTimeout(function(){var x=m.querySelector("pre:nth-child("+(g.line+1)+")");x&&c._eventManager.emit("requireScrollIntoView",x)},0)};b.load=function(c){c=
c.cloneNode(!0);this.setLanguage(c.getAttribute("data-language")||"");this.setEditorCodeText(c.textContent)};b.save=function(c){c.innerHTML="";c.textContent=this.getEditorCodeText();c.setAttribute("data-language",this._language);this._eventManager.emit("changeLanguage")};b.clear=function(){this.setLanguage("");this.setEditorCodeText("")};b.getLanguage=function(){return this._language};b.setLanguage=function(c){void 0===c&&(c="");this._language=c};b.getEditorCodeText=function(){return this.getValue()};
b.setEditorCodeText=function(c){void 0===c&&(c="");this.setValue(c)};b.refresh=function(){this.cm.refresh()};return k}(je),Vd=function(l){function k(c,g,m,x){c=l.call(this,c,g,m,!0)||this;c._codeBlockEditor=x;c._initEvent();c.lazyRunner.registerLazyRunFunction("refresh",c.refresh,c.delayCodeBlockTime,de(c));return c}Ge(k,l);var b=k.prototype;b._initEvent=function(){var c=this;this._codeBlockEditor.on("update",function(){return c.lazyRunner.run("refresh")})};b.refresh=function(){var c=this._codeBlockEditor.getLanguage(),
g=this._codeBlockEditor.getEditorCodeText();l.prototype.refresh.call(this,"```"+c+"\n"+g+"\n```");this.eventManager.emit("requireScrollSync")};b.clear=function(){l.prototype.render.call(this,"")};return k}(y(38).a),If=function(){function l(b,c){this._eventManager=b;this._languages=c;this._initDOM();this._initDOMEvent();this._initEvent()}var k=l.prototype;k._initDOM=function(){this._inputLanguage=E.a.createElementWith('<input type="text" maxlength="20" placeholder="'+Ra.get("Choose language")+'" />');
this._wrapper=E.a.createElementWith('<span class="te-input-language"></span>');this._wrapper.appendChild(this._inputLanguage);this._hide()};k._initDOMEvent=function(){var b=this;this._inputLanguage.addEventListener("keydown",function(c){return b._onKeyEvent(c)});this._inputLanguage.addEventListener("focus",function(){return b._showPopupCodeBlockLanguages()});this._inputLanguage.addEventListener("focusout",function(){return b._onFocusOut()});this._wrapper.addEventListener("mousedown",function(c){c.target===
b._wrapper&&(c.preventDefault(),b._toggleFocus())})};k._initEvent=function(){var b=this;this._eventManager.listen("setCodeBlockLanguages",function(c){(b._languages=c)&&c.length?b._show():b._hide()})};k._showPopupCodeBlockLanguages=function(){var b=this,c=this._inputLanguage.getBoundingClientRect();Ca()(this._wrapper,"active");this.active=!0;this._popupCodeBlockLanguages=this._eventManager.emitReduce("openPopupCodeBlockLanguages",{language:this._prevStoredLanguage,offset:{left:c.left,top:c.bottom},
callback:{selected:function(g){return b._onLanguageSelectedFromList(g)},dismissed:function(){b._popupCodeBlockLanguages=null}}})};k._toggleFocus=function(){var b=this._inputLanguage;dc()(this._wrapper,"active")?b.blur():b.focus()};k._onFocusOut=function(){db()(this._wrapper,"active");this._inputLanguage.value=this._prevStoredLanguage;this._hidePopupCodeBlockLanguages()};k._onKeyEvent=function(b){if(this._popupCodeBlockLanguages)switch(b.which){case p.keyCode("UP"):this._popupCodeBlockLanguages.prev();
b.preventDefault();break;case p.keyCode("DOWN"):this._popupCodeBlockLanguages.next();b.preventDefault();break;case p.keyCode("ENTER"):case p.keyCode("TAB"):var c=this._popupCodeBlockLanguages.getCurrentLanguage();this._inputLanguage.value=c;this._storeInputLanguage();b.preventDefault();break;default:this._popupCodeBlockLanguages.hide()}else if(b.which===p.keyCode("ENTER")||b.which===p.keyCode("TAB"))this._storeInputLanguage(),b.preventDefault()};k._onLanguageSelectedFromList=function(b){this._inputLanguage.value=
b;this._storeInputLanguage()};k.setOnLanguageSelected=function(b){this._onLanguageSelected=b};k._hidePopupCodeBlockLanguages=function(){this._eventManager.emit("closePopupCodeBlockLanguages")};k.setLanguage=function(b){this._prevStoredLanguage=b;this._inputLanguage.value=b};k._storeInputLanguage=function(){var b=this._inputLanguage.value;this.setLanguage(b);this._onLanguageSelected&&this._onLanguageSelected(b);this._hidePopupCodeBlockLanguages()};k.getElement=function(){return this._wrapper};k._show=
function(){Va()(this._wrapper,{display:"inline-block"})};k._hide=function(){Va()(this._wrapper,{display:"none"})};return l}(),Jf=function(l){function k(c){var g='\n            <div class="popup-editor-body"></div>\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+Ra.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+Ra.get("Cancel")+"</button>\n            </div>\n        ";c=Qb()({header:!0,title:"CodeBlock Editor",
content:g,className:"tui-popup-code-block-editor",headerButtons:'\n    <button type="button" class="popup-editor-toggle-scroll"></button>\n    <button type="button" class="popup-editor-toggle-preview"></button>\n    <button type="button" class="popup-editor-toggle-fit"></button>\n    <button type="button" class="tui-popup-close-button"></button>\n',modal:!0},c);return l.call(this,c)||this}od(k,l);var b=k.prototype;b._initInstance=function(c){l.prototype._initInstance.call(this,c);this.eventManager=
c.eventManager;this.convertor=c.convertor;this.languages=c.languages};b._initDOM=function(c){l.prototype._initDOM.call(this,c);c=this.el;var g=this.eventManager;this._body=c.querySelector(".popup-editor-body");this._toggleFitButton=c.querySelector(".popup-editor-toggle-fit");this._togglePreviewButton=c.querySelector(".popup-editor-toggle-preview");this._toggleScrollButton=c.querySelector(".popup-editor-toggle-scroll");this._okButton=c.querySelector(".te-ok-button");this._closeButton=c.querySelector(".te-close-button");
this._codeMirrorWrapper=this._createCodeBlockEditor();this._previewWrapper=this._createPreview();this._scrollSyncSplit=new Ag(this._body,this._codeMirrorWrapper,this._previewWrapper,{eventManager:g});this._updateFitWindowButton();this._updatePreviewButton();this._updateScrollButton();this._codeBlockLanguagesCombo=this._createCodeBlockLanguagesCombo()};b._initDOMEvent=function(){var c=this;l.prototype._initDOMEvent.call(this);this.on("scroll",function(g){return g.preventDefault()});this.on("click .popup-editor-toggle-fit",
function(){return c._toggleFitToWindow()});this.on("click .popup-editor-toggle-preview",function(){return c._togglePreview()});this.on("click .popup-editor-toggle-scroll",function(){return c._toggleScroll()});this.on("click .te-ok-button",function(){return c._save()});this.on("click .te-close-button",function(){return c.hide()});this.on("click .popup-editor-close",function(){return c.hide()});this.on("click .popup-editor-editor-wrapper",function(g){g.target===c._codeMirrorWrapper&&c._focusEditor(!0)})};
b._initEditorEvent=function(){var c=this;l.prototype._initEditorEvent.call(this);this.eventManager.listen("openPopupCodeBlockEditor",function(g){c.eventManager.emit("closeAllPopup");c.show(g);return c});this.eventManager.listen("closeAllPopup",this.hide.bind(this));this.eventManager.listen("closePopupCodeBlockEditor",this.hide.bind(this))};b._createCodeBlockEditor=function(){var c=document.createElement("div");c.className="popup-editor-editor-wrapper";this._codeBlockEditor=new af(c,this.eventManager);
return c};b._createPreview=function(){var c=document.createElement("div");this._codeBlockPreview=new Vd(c,this.eventManager,this.convertor,this._codeBlockEditor);return c};b._createCodeBlockLanguagesCombo=function(){var c=this,g=this.getTitleElement(),m=new If(this.eventManager,this.languages);m.setOnLanguageSelected(function(x){c._codeBlockEditor.setLanguage(x);c._codeBlockEditor.refresh();c._focusEditor()});g.innerHTML="CodeBlock Editor";g.appendChild(m.getElement());return m};b._updateFitWindowButton=
function(){E.a.toggleClass(this._toggleFitButton,"active",this.isFitToWindow())};b._updatePreviewButton=function(){E.a.toggleClass(this._togglePreviewButton,"active",this._scrollSyncSplit.isSplitView())};b._updateScrollButton=function(){this._scrollSyncSplit.isSplitView()?Va()(this._toggleScrollButton,{display:"inline-block"}):Va()(this._toggleScrollButton,{display:"none"});E.a.toggleClass(this._toggleScrollButton,"active",this._scrollSyncSplit.isScrollSynced())};b._focusEditor=function(c){this._codeBlockEditor.focus();
c?this._codeBlockEditor.moveCursorToEnd():this._codeBlockEditor.moveCursorToStart()};b._togglePreview=function(){this._scrollSyncSplit.toggleSplitView();this._updatePreviewButton();this._updateScrollButton();this._codeBlockEditor.refresh()};b._toggleFitToWindow=function(){this.toggleFitToWindow();this._updateFitWindowButton();this._codeBlockEditor.refresh()};b._toggleScroll=function(){this._scrollSyncSplit.toggleScrollSync();this._updateScrollButton()};b._save=function(){this._codeBlockEditor.save(this._codeBlockElement);
this.hide()};b._load=function(c){this._codeBlockElement=c;this._codeBlockEditor.load(c);this._codeBlockLanguagesCombo.setLanguage(this._codeBlockEditor.getLanguage());this._focusEditor();this._codeBlockPreview.refresh()};b.show=function(c){l.prototype.show.call(this);if(!c)throw Error("should be called with codeBlockElement");this._load(c)};b.hide=function(){this.setFitToWindow(!1);this._codeBlockEditor&&this._codeBlockEditor.clear();this._codeBlockPreview&&this._codeBlockPreview.clear();this._codeBlockElement=
null;l.prototype.hide.call(this)};return k}($c),Kf=function(){function l(b){hc(this,"name","default");hc(this,"el",void 0);hc(this,"_toolbar",void 0);hc(this,"_container",void 0);hc(this,"_editorSection",void 0);hc(this,"_initialEditType",void 0);hc(this,"_editor",void 0);hc(this,"_markdownTabSection",void 0);hc(this,"_markdownTab",void 0);hc(this,"_modeSwitch",void 0);hc(this,"_popups",[]);this._editor=b;this._initialEditType=b.options.initialEditType;this._init(b.options);this._initEvent()}var k=
l.prototype;k._init=function(b){var c=b.el,g=b.toolbarItems;b=b.hideModeSwitch;this.el=E.a.createElementWith('<div class="tui-editor-defaultUI"><div class="te-toolbar-section"><div class="te-markdown-tab-section"></div></div><div class="te-editor-section"></div><div class="te-mode-switch-section"></div></div>',c);this._container=c;this._editorSection=this.el.querySelector(".te-editor-section");this._editorSection.appendChild(this._editor.layout.getEditorEl());this._initToolbar(this._editor.eventManager,
g);this._initModeSwitch(this._editor.eventManager,b);this._initPopupAddLink();this._initPopupAddImage();this._initPopupAddTable();this._initPopupAddHeading();this._initPopupTableUtils();this._initPopupCodeBlockLanguages();this._initPopupCodeBlockEditor();this._initMarkdownTab()};k._initEvent=function(){this._editor.eventManager.listen("hide",this.hide.bind(this));this._editor.eventManager.listen("show",this.show.bind(this));this._editor.eventManager.listen("changeMode",this._markdownTabControl.bind(this));
this._editor.eventManager.listen("changePreviewStyle",this._markdownTabControl.bind(this))};k._initToolbar=function(b,c){this._toolbar=b=new gh(b,c);this.el.querySelector(".te-toolbar-section").appendChild(b.el)};k._initModeSwitch=function(b,c){var g=this,m=this.el.querySelector(".te-mode-switch-section");this._modeSwitch=b=new we(m,"markdown"===this._initialEditType?we.TYPE.MARKDOWN:we.TYPE.WYSIWYG,b);c&&b.hide();b.on("modeSwitched",function(x){return g._editor.changeMode(x)})};k._initMarkdownTab=
function(){var b=this._editor;this._markdownTab=new ug({initName:Ra.get("Write"),items:[Ra.get("Write"),Ra.get("Preview")],sections:[b.layout.getMdEditorContainerEl(),b.layout.getPreviewEl()]});this._markdownTabSection=this.el.querySelector(".te-markdown-tab-section");this._markdownTabSection.appendChild(this._markdownTab.el);this._markdownTab.on("itemClick",function(c){c===Ra.get("Preview")?(b.eventManager.emit("previewNeedsRefresh"),b.eventManager.emit("changePreviewTabPreview"),b.eventManager.emit("closeAllPopup")):
(b.getCodeMirror().focus(),b.eventManager.emit("changePreviewTabWrite"))})};k._markdownTabControl=function(){this._editor.isMarkdownMode()&&"tab"===this._editor.getCurrentPreviewStyle()?(Va()(this._markdownTabSection,{display:"block"}),this._markdownTab.activate(Ra.get("Write"))):Va()(this._markdownTabSection,{display:"none"})};k._initPopupAddLink=function(){this._popups.push(new hh({target:this.el,editor:this._editor}))};k._initPopupAddImage=function(){this._popups.push(new ih({target:this.el,eventManager:this._editor.eventManager}))};
k._initPopupAddTable=function(){this._popups.push(new xe({target:this._toolbar.el,eventManager:this._editor.eventManager,button:this.el.querySelector("button.tui-table"),css:{position:"absolute"}}))};k._initPopupAddHeading=function(){this._popups.push(new Td({target:this._toolbar.el,eventManager:this._editor.eventManager,button:this.el.querySelector("button.tui-heading"),css:{position:"absolute"}}))};k._initPopupTableUtils=function(){var b=this;this._editor.eventManager.listen("contextmenu",function(c){0<
E.a.parents(c.data.target,"[contenteditable=true] table").length&&(c.data.preventDefault(),b._editor.eventManager.emit("openPopupTableUtils",c.data))});this._popups.push(new wg({target:this.el,eventManager:this._editor.eventManager}))};k._initPopupCodeBlockLanguages=function(){var b=this._editor;this._popups.push(new xg({target:this.el,eventManager:b.eventManager,languages:b.codeBlockLanguages}))};k._initPopupCodeBlockEditor=function(){this._popups.push(new Jf({target:this.el,eventManager:this._editor.eventManager,
convertor:this._editor.convertor,languages:this._editor.codeBlockLanguages}))};k.getToolbar=function(){return this._toolbar};k.setToolbar=function(b){this._toolbar.destroy();this._toolbar=b};k.getModeSwitch=function(){return this._modeSwitch};k.getEditorSectionHeight=function(){var b=this._editorSection.getBoundingClientRect();return b.bottom-b.top};k.getEditorHeight=function(){var b=this._container.getBoundingClientRect();return b.bottom-b.top};k.getPopupTableUtils=function(){var b;this._popups.forEach(function(c){c instanceof
wg&&(b=c)});return b};k.hide=function(){Ca()(this.el,"te-hide")};k.show=function(){db()(this.el,"te-hide")};k.remove=function(){E.a.remove(this.el);this._markdownTab.remove();this._modeSwitch.remove();this._toolbar.destroy();this._popups.forEach(function(b){return b.remove()});this._popups=[];zd.hide()};k.createPopup=function(b){return new $c(b)};return l}(),jh=y(30),Bg=y(32),Lf=y.n(Bg),bf=Lf.a.Renderer.factory(Lf.a.gfmRenderer,{"EM, I":function(l,k){return this.isEmptyText(k)?"":fd(l,k,"*")},"STRONG, B":function(l,
k){return this.isEmptyText(k)?"":fd(l,k,"**")},"DEL, S":function(l,k){return this.isEmptyText(k)?"":fd(l,k,"~~")}}),Wd=y(31),kd=function(l,k){k=k.length;return l.substr(k,l.length-2*k)},Xd=function(l,k){return""+k+l+k},ye=function(l,k,b,c,g){var m,x=k.start;k=k.end;x.ch>=b&&(m={from:{line:x.line,ch:x.ch-b},to:{line:k.line,ch:k.ch+b}});b=!1;m&&(x=m.from,m=m.to,k=l.getRange(x,m),c(k)&&(l.setSelection(x,m),l.replaceSelection(g(k),"around"),b=!0));return b},ze=function(l,k,b,c){var g=!1;b(k)&&(l.replaceSelection(c(k),
"around"),g=!0);return g},Dg=function(l,k,b,c,g){var m=l.getCursor(),x=m.line,M=m.ch;m=l.getSelection();var la=b.length,ua=function(Oa){return c.test(Oa)};ye(l,k,la,ua,function(Oa){return kd(Oa,b)})||ze(l,m,ua,function(Oa){return kd(Oa,b)})||(k=m.replace(g,"$1"),l.replaceSelection(Xd(k,b),"around"));k=l.getSelection();m||(M=ua(k)?M+la:M-la,l.setCursor(x,M))},Eg=/^(\*{2}|_{2}).*\1$/,Fg=/[*_]{2,}([^*_]*)[*_]{2,}/g,lh=Pa.a.command("markdown",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(l){var k=
l.getEditor(),b=k.getDoc();l=l.getRange();Dg(b,l,"**",Eg,Fg);k.focus()}}),Gg=/^(\*{3}|_{3}).*\1$/,nh=/^(\*{2}|_{2}).*\1$/,oh=/^(\*|_).*\1$/,rh=/([^*_])[*_]([^*_]+)[*_]([^*_])/g,Ae=function(l){return Gg.test(l)},df=function(l){return nh.test(l)},ff=function(l){return oh.test(l)},Yd=function(l){return l?l.replace(rh,"$1$2$3"):""},Hg=function(l,k,b){b=ye.bind(this,l,b);return b(3,Ae,function(c){return kd(c,"*")})||b(2,df,function(c){return Xd(Yd(c),"*")})||b(1,ff,function(c){return kd(c,"*")})||ze(l,
k,Ae,function(c){return kd(c,"*")})||ze(l,k,df,function(c){return Xd(Yd(c),"*")})||ze(l,k,ff,function(c){return kd(c,"*")})},Ig=function(l,k){return ye(l,k,3,Ae,function(b){return kd(b,"*")})||ye(l,k,2,df,function(b){return Xd(b,"*")})||ye(l,k,1,ff,function(){return""})||l.replaceSelection("**","around")},sh=Pa.a.command("markdown",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(l){var k=l.getEditor(),b=k.getDoc(),c=b.getCursor(),g=c.line;c=c.ch;l=l.getRange();var m=b.getSelection();m?Hg(b,
m,l)||b.replaceSelection(Xd(Yd(m),"*"),"around"):(Ig(b,l),l=b.getSelection(),c=Ae(l)||ff(l)&&!df(l)?c+1:c-1,b.setCursor(g,c));k.focus()}}),th=/^~~.*~~$/,Bb=/~~([^~]*)~~/g,uh=Pa.a.command("markdown",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(l){var k=l.getEditor(),b=k.getDoc();l=l.getRange();Dg(b,l,"~~",th,Bb);k.focus()}}),Zd=/^> ?/,Rf=Pa.a.command("markdown",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(l){var k=l.getEditor(),b=k.getDoc();l=l.getCurrentRange();var c={line:l.from.line,
ch:0},g={line:l.to.line,ch:b.getLineHandle(l.to.line).text.length},m=b.getRange(c,g).split("\n"),x=this._haveBlockquote(m);var M=x?this._removeBlockquote(m):this._addBlockquote(m);b.replaceRange(M.join("\n"),c,g);x?this._isBlockquoteWithSpace(m[m.length-1])?l.to.ch-=2:--l.to.ch:l.to.ch+=2;b.setCursor(l.to);k.focus()},_haveBlockquote:function(l){for(var k=0;k<l.length;k+=1)if(!Zd.test(l[k]))return!1;return!0},_addBlockquote:function(l){return l.map(function(k){return"> "+k})},_removeBlockquote:function(l){return l.map(function(k){return k.replace(Zd,
"")})},_isBlockquoteWithSpace:function(l){return/^> /.test(l)}}),Lg=/^#+\s/g,Kg=Pa.a.command("markdown",{name:"Heading",exec:function(l,k){var b=l.getEditor(),c=b.getDoc();l=l.getCurrentRange();var g={line:l.from.line,ch:0},m={line:l.to.line,ch:c.getLineHandle(l.to.line).text.length},x=c.getLine(m.line).length,M=c.getRange(g,m).split("\n");ib()(M).forEach(function(la,ua){var Oa=k,cb=la.match(Lg),kb="";do kb+="#",--Oa;while(0<Oa);cb&&(la=la.split(cb[0])[1]);M[ua]=kb+" "+la});c.replaceRange(M.join("\n"),
g,m);l.to.ch+=c.getLine(m.line).length-x;c.setSelection(g,l.to);b.focus()}}),Mg=Pa.a.command("markdown",{name:"Paragraph",exec:function(l){var k=l.getEditor(),b=k.getDoc();l=l.getCurrentRange();var c={line:l.from.line,ch:0},g={line:l.to.line,ch:b.getLineHandle(l.to.line).text.length},m=b.getLine(g.line).length,x=b.getRange(c,g).split("\n");ib()(x).forEach(function(M,la){M=M.replace(/^(#{1,6}| *((?:\*|-|\d\.)(?: \[[ xX]])?)) /,"");x[la]=M});b.replaceRange(x.join("\n"),c,g);l.to.ch+=b.getLine(g.line).length-
m;b.setSelection(c,g);k.focus()}}),Ng=Pa.a.command("markdown",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(l){var k=l.getEditor(),b=k.getDoc(),c="";l=l.getCurrentRange();var g={line:l.from.line,ch:l.from.ch},m={line:l.to.line,ch:l.to.ch};l.collapsed&&(c=b.getLine(g.line),g.ch=0,m.ch=b.getLineHandle(l.to.line).text.length);c=b.getLine(g.line).length?c+"\n\n* * *\n\n":c+"\n* * *\n";b.replaceRange(c,g,m);k.focus()}}),Og=Fc.decodeURIGraceful,Tf=Fc.encodeMarkdownCharacters,Uf=/!\[.*\]\(.*\)/g,Pg=
/\(|\)|\[|\]|<|>/g,wh=Pa.a.command("markdown",{name:"AddLink",exec:function(l,k){var b=l.getEditor(),c=b.getDoc(),g=l.getCurrentRange();l={line:g.from.line,ch:g.from.ch};g={line:g.to.line,ch:g.to.ch};var m=k.linkText;k=k.url;m=Og(m);m=be(m);k=Tf(k);c.replaceRange("["+m+"]("+k+")",l,g);b.focus()}}),$d=Fc.decodeURIGraceful,xh=Fc.encodeMarkdownCharacters,hf=Fc.escapeMarkdownCharacters,yh=Pa.a.command("markdown",{name:"AddImage",exec:function(l,k){var b=l.getEditor(),c=b.getDoc(),g=l.getCurrentRange();
l={line:g.from.line,ch:g.from.ch};g={line:g.to.line,ch:g.to.ch};var m=k.altText;k=k.imageUrl;m=$d(m);m=hf(m);k=xh(k);c.replaceRange("!["+m+"]("+k+")",l,g,"+addImage");b.focus()}}),ec=Pa.a.command("markdown",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(l){var k=l.getCurrentRange();l.componentManager.getManager("list").changeSyntax(k,"ul")}}),Qg=Pa.a.command("markdown",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(l){var k=l.getCurrentRange();l.componentManager.getManager("list").changeSyntax(k,
"ol")}}),Uc=Pa.a.command("markdown",{name:"Indent",exec:function(l){l.getEditor().execCommand("indentOrderedList")}}),Rg=Pa.a.command("markdown",{name:"Outdent",exec:function(l){l.getEditor().execCommand("indentLessOrderedList")}}),Sg=Pa.a.command("markdown",{name:"Table",exec:function(l,k,b,c){var g=l.getEditor(),m=g.getDoc(),x="\n";0<g.getCursor().ch&&(x+="\n");for(var M=k,la="|",ua="|",Oa=0;M;)c?(la+=" "+c[Oa]+" |",Oa+=1):la+="  |",ua+=" --- |",--M;x+=la+"\n"+ua+"\n";M="";la=k;for(ua=0;ua<b-1;ua+=
1){M+="|";for(Oa=0;Oa<k;Oa+=1)c?(M+=" "+c[la]+" |",la+=1):M+="  |";M+="\n"}M=M.replace(/\n$/g,"");m.replaceSelection(x+M);c||g.setCursor(g.getCursor().line-b,2);l.focus()}}),jf=Pa.a.command("markdown",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(l){var k=l.getCurrentRange();l.componentManager.getManager("list").changeSyntax(k,"task")}}),jb=/^`([^`]+)`$/,ub=/`([^`]+)`/g,Yb=Pa.a.command("markdown",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(l){l=l.getEditor();var k=l.getDoc(),
b=k.getSelection(),c=l.getCursor(),g=this.hasStrikeSyntax(b);if(g){var m=this.remove(b);m=this._removeCodeSyntax(m)}else m=this._removeCodeSyntax(b),m=this.append(m);k.replaceSelection(m,"around");b||g||this.setCursorToCenter(k,c,g);l.focus()},setCursorToCenter:function(l,k,b){l.setCursor(k.line,k.ch+(b?-1:1))},hasStrikeSyntax:function(l){return jb.test(l)},append:function(l){return"`"+l+"`"},remove:function(l){return l.substr(1,l.length-2)},_removeCodeSyntax:function(l){return l?l.replace(ub,"$1"):
""}}),zh=Pa.a.command("markdown",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(l){var k=l.getEditor(),b=k.getDoc();l=l.getCurrentRange();var c=["```",b.getSelection(),"```"],g=1;0!==l.from.ch&&(c.unshift(""),g+=1);l.to.ch!==b.getLine(l.to.line).length&&c.push("");b.replaceSelection(c.join("\n"));k.setCursor(l.from.line+g,0);k.focus()}}),Ne=/^\[(\s*)(x?)(\s*)\](?:\s+)/i,Dc=Pa.a.command("markdown",{name:"ChangeTaskMarker",exec:function(l){var k=l.getEditor(),b=k.getCursor(),
c=b.line;b=b.ch;b=k.getLine(c).length===b?b:b+1;l=l.getToastMark().findNodeAtPosition([c+1,b]);if((l=Object(Ja.b)(l,function(m){return"paragraph"===m.type&&m.parent&&"item"===m.parent.type}))&&l.firstChild){b=l.firstChild;c=b.sourcepos[0];l=c[0];c=c[1];var g=b.literal.match(Ne);g&&(b=g[2],g=g[1].length+g[3].length,l={line:l-1,ch:c},b?k.replaceRange(b,l,Object(Ja.a)(l,g?g+1:0)):g||k.replaceRange(" ",l,l))}}}),ef=Pa.a.command("markdown",{name:"ToggleTaskMarker",exec:function(l){var k=this,b=l.getEditor();
b.listSelections().forEach(function(c){var g=c.anchor,m=c.head;c=Math.min(g.line,m.line);for(m=Math.max(g.line,m.line);c<=m;c+=1)g=l.getToastMark().findFirstNodeAtLine(c+1),"list"!==g.type&&"item"!==g.type||k._changeTaskState(g,c,b)})},_changeTaskState:function(l,k,b){var c=l.listData,g=l.sourcepos;l=c.checked;var m=c.padding;c.task&&(k={line:k,ch:g[0][1]+m},b.replaceRange(l?" ":"x",k,Object(Ja.a)(k,1)))}}),Ah=Pa.a.command("markdown",{name:"MoveNextCursorOrIndent",exec:function(l){var k=l.getEditor(),
b=k.getCursor(),c=b.line;b=b.ch;b=k.getLine(c).length===b?b:b+1;l=l.getToastMark().findNodeAtPosition([c+1,b]);(l=Object(Ja.b)(l,function(g){return Object(Ja.l)(g)}))?this._moveCursorNextCell(l,k):k.execCommand("indentOrderedList")},_moveCursorNextCell:function(l,k){var b=l.next,c=l.parent,g=Object(Ja.f)(l);l=Object(Ja.c)(l)+2;if(b)l=Object(Ja.c)(b);else if(b=c.next||"tableHead"!==c.parent.type?c.next:c.parent.next.firstChild)g+=1,l=Object(Ja.c)(b.firstChild);k.setCursor({line:g-1,ch:l-1})}}),Yg=
Pa.a.command("markdown",{name:"MovePrevCursorOrOutdent",exec:function(l){var k=l.getEditor(),b=k.getCursor(),c=b.line;b=b.ch;b=k.getLine(c).length===b?b:b+1;l=l.getToastMark().findNodeAtPosition([c+1,b]);(l=Object(Ja.b)(l,function(g){return Object(Ja.l)(g)}))?this._moveCursorPrevCell(l,k):k.execCommand("indentLessOrderedList")},_moveCursorPrevCell:function(l,k){var b=l.prev,c=l.parent;l=Object(Ja.f)(l);var g=1;if(b)g=Object(Ja.c)(b);else if(b=c.prev||"tableBody"!==c.parent.type?c.prev:c.parent.prev.lastChild)--l,
g=Object(Ja.c)(b.lastChild);k.setCursor({line:l-1,ch:g-1})}}),Be=Pa.a.command("markdown",{name:"AddLine",exec:function(l){var k=l.getEditor(),b=k.getCursor(),c=b.line;b=b.ch;b=k.getLine(c).length===b?b:b+1;l=l.getToastMark().findNodeAtPosition([c+1,b]);(l=Object(Ja.b)(l,function(g){return Object(Ja.l)(g)&&("tableDelimRow"===g.parent.type||"tableBody"===g.parent.parent.type)}))?this._addTableRowByCell(l,k):k.execCommand("newlineAndIndentContinueMarkdownList")},_addTableRowByCell:function(l,k){var b=
Object(Ja.f)(l);l=l.parent;var c=l.next,g=k.getLine(b-1);var m=l.parent.parent.columns.length;for(var x="|",M=0;M<m;M+=1)x+="  |";m=x;c&&"tableRow"===c.type||g!==m?(k.setCursor(b-1,Object(Ja.c)(l)),k.replaceSelection("\n"+m),k.setCursor(b,2)):k.execCommand("deleteLine")}}),Oe=Pa.a.command("wysiwyg",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(l){var k=l.getEditor(),b=l.componentManager.getManager("tableSelection");l.focus();k.hasFormat("table")&&b.getSelectedCells().length?(b.styleToSelectedCells(ce),
l=k.getSelection(),l.collapse(!0),k.setSelection(l)):(ce(k),E.a.optimizeRange(k.getSelection(),"B"))}}),qe=Pa.a.command("wysiwyg",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(l){var k=l.getEditor(),b=l.componentManager.getManager("tableSelection");l.focus();k.hasFormat("table")&&b.getSelectedCells().length?(b.styleToSelectedCells(pd),l=k.getSelection(),l.collapse(!0),k.setSelection(l)):(pd(k),E.a.optimizeRange(k.getSelection(),"I"))}}),uc=Pa.a.command("wysiwyg",{name:"Strike",keyMap:["CTRL+S",
"META+S"],exec:function(l){var k=l.getEditor(),b=l.componentManager.getManager("tableSelection");l.focus();k.hasFormat("table")&&b.getSelectedCells().length?(b.styleToSelectedCells(Gc),l=k.getSelection(),l.collapse(!0),k.setSelection(l)):(Gc(k),E.a.optimizeRange(k.getSelection(),"S"))}}),ph=Pa.a.command("wysiwyg",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(l){var k=l.getEditor();l.focus();k.hasFormat("TABLE")||k.hasFormat("PRE")||(k.hasFormat("BLOCKQUOTE")?k.decreaseQuoteLevel():k.increaseQuoteLevel())}}),
Bh=Fc.decodeURIGraceful,Dd=Fc.encodeMarkdownCharacters,zg=Pa.a.command("wysiwyg",{name:"AddImage",exec:function(l,k){var b=l.getEditor(),c=k.altText;k=k.imageUrl;c=Bh(c);k=Dd(k);l.focus();b.hasFormat("PRE")||b.insertImage(k,{alt:c})}}),Pf=Fc.decodeURIGraceful,vd=Fc.encodeMarkdownCharacters,ge=Pa.a.command("wysiwyg",{name:"AddLink",exec:function(l,k){var b=l.getEditor(),c=l.getLinkAttribute(),g=k.url;k=k.linkText;var m=l.componentManager.getManager("link");k=Pf(k);g=vd(g);l.focus();if(!b.hasFormat("PRE")){b.removeAllFormatting();
l=b.getSelectedText();var x=this._isSelectedImageOnly(b.getSelection());l||x?b.makeLink(g,c):(c=b.createElement("A",Qb()({href:g},c)),c.textContent=k,b.insertElement(c));m.addClassNameToImageLinksInSelection()}},_isSelectedImageOnly:function(l){if(!l.collapsed){var k=l.startContainer;l=l.endContainer;if(k&&k===l)return E.a.isElemNode(k)&&"IMG"===k.firstChild.nodeName}return!1}}),Ce=Pa.a.command("wysiwyg",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(l){var k=l.getEditor(),b=k.getSelection();
if(b.collapsed&&!k.hasFormat("TABLE")&&!k.hasFormat("PRE")){var c=document.createElement("hr"),g=E.a.getChildNodeByOffset(b.startContainer,b.startOffset);if((g=E.a.getTopNextNodeUnder(g,l.getBody()))&&!E.a.isTextNode(g))for(;g&&"false"===g.getAttribute("contenteditable");)g=g.nextSibling;g||(g=E.a.createEmptyLine(),E.a.append(l.getBody(),g));k.modifyBlocks(function(x){x.appendChild(c);return x});var m=c.previousSibling;m&&E.a.isTextNode(m)&&0===E.a.getTextLength(m)&&c.parentNode.removeChild(m);c.parentNode.replaceChild(E.a.createHorizontalRule(),
c);b.selectNodeContents(g);b.collapse(!0);k.setSelection(b);k.saveUndoState(b)}l.focus()}}),ld=Pa.a.command("wysiwyg",{name:"Heading",exec:function(l,k){var b=l.getEditor();l.focus();b.hasFormat("TABLE")||b.hasFormat("PRE")||b.modifyBlocks(function(c){var g=E.a.children(c,"h1, h2, h3, h4, h5, h6, div");ib()(g).forEach(function(m){var x="h"+k;"DIV"===E.a.getNodeName(m)?E.a.wrap(m,x):(x=document.createElement(x),E.a.insertBefore(x,m),x.innerHTML=m.innerHTML,E.a.remove(m))});return c})}}),cf=Pa.a.command("wysiwyg",
{name:"Paragraph",exec:function(l){var k=l.getEditor();l.focus();k.hasFormat("TABLE")||k.hasFormat("PRE")||k.modifyBlocks(function(b){var c=document.createDocumentFragment();ib()(b.childNodes).forEach(function(g){g.nodeName.match(/h\d/i)?Hc(c,g.children):g.nodeName.match(/ul|ol/i)?E.a.findAll(g,"li").forEach(function(m){Hc(c,m.children)}):c.appendChild(g)});return c})}}),Lc=Pa.a.command("wysiwyg",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(l){var k=l.getEditor(),b=k.getSelection(),c=l.componentManager.getManager("list"),
g=b.startContainer,m=b.endContainer,x=b.startOffset,M=b.endOffset,la=[];l.focus();k.saveUndoState(b);if(c.isAvailableMakeListInTable())la=c.createListInTable(b,"UL");else for(k=c.getLinesOfSelection(g,m),b=0;b<k.length;b+=1){var ua=this._changeFormatToUnorderedListIfNeed(l,k[b]);ua&&la.push(ua)}la.length&&c.adjustRange(g,m,x,M,la)},_changeFormatToUnorderedListIfNeed:function(l,k){var b=l.getEditor(),c=b.getSelection(),g=l.componentManager.getManager("task");if(!b.hasFormat("PRE")){c.setStart(k,0);
c.collapse(!0);b.setSelection(c);b.hasFormat("LI")?(l.saveSelection(c),g.unformatTask(c.startContainer),b.replaceParent(c.startContainer,"ol","ul"),l.restoreSavedSelection()):(l.unwrapBlockTag(),b.makeUnorderedList());var m=b.getSelection().startContainer}return m}}),Qf=Pa.a.command("wysiwyg",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(l){var k=l.getEditor(),b=k.getSelection(),c=l.componentManager.getManager("list"),g=b.startContainer,m=b.startOffset,x=b.endContainer,M=b.endOffset,la=[];l.focus();
k.saveUndoState(b);if(c.isAvailableMakeListInTable())la=c.createListInTable(b,"OL");else for(k=c.getLinesOfSelection(g,x),b=0;b<k.length;b+=1){var ua=this._changeFormatToOrderedListIfNeed(l,k[b]);ua&&la.push(ua)}la.length&&c.adjustRange(g,x,m,M,la)},_changeFormatToOrderedListIfNeed:function(l,k){var b=l.getEditor(),c=b.getSelection(),g=l.componentManager.getManager("task");if(!b.hasFormat("PRE")){c.setStart(k,0);c.collapse(!0);b.setSelection(c);b.hasFormat("LI")?(l.saveSelection(c),g.unformatTask(c.startContainer),
b.replaceParent(c.startContainer,"ul","ol"),l.restoreSavedSelection()):(l.unwrapBlockTag(),b.makeOrderedList());var m=b.getSelection().startContainer}return m}}),De=Pa.a.command("wysiwyg",{name:"Table",exec:function(l,k,b,c){var g=l.getEditor(),m=l.componentManager.getManager("table").getTableIDClassName();if(!g.getSelection().collapsed||g.hasFormat("TABLE")||g.hasFormat("PRE"))l.focus();else{for(var x=k,M="<thead><tr>",la=0;x;)M+="<th>",c&&(M+=c[la],la+=1),M+="</th>",--x;x='<table class="'+m+'">'+
(M+"</tr></thead>");M="<tbody>";la=k;for(var ua=0;ua<b-1;ua+=1){M+="<tr>";for(var Oa=0;Oa<k;Oa+=1)M+="<td>",c&&(M+=c[la],la+=1),M+="</td>";M+="</tr>"}k=x+(M+"</tbody></table>");g.insertHTML(k);l.focus();c||(l=l.getBody().querySelector("."+m),c=g.getSelection(),c.selectNodeContents(l.querySelector("th")),c.collapse(!0),g.setSelection(c))}}}),Ee=Pa.a.command("wysiwyg",{name:"AddRow",exec:function(l){var k=l.getEditor(),b=k.getSelection().cloneRange();var c=l.componentManager.getManager("tableSelection");
var g=c.getSelectedCells(),m=1;1<g.length&&(c=c.getSelectionRangeFromTable(g[0],g[g.length-1]),m=c.to.row-c.from.row+1);c=m;l.focus();if(k.hasFormat("TD")){k.saveUndoState(b);l=E.a.closest(b.startContainer,"tr");for(b=0;b<c;b+=1){var x=$b(l);E.a.insertAfter(x,l)}qd(k,x)}else if(k.hasFormat("TH")){k.saveUndoState(b);l=E.a.closest(b.startContainer,"tr");b=E.a.parents(l,"thead")[0].nextSibling;Wb()(b,"tbody")&&(l=E.a.children(b,"tr")[0]);for(b=0;b<c;b+=1)x=$b(l),E.a.insertBefore(x,l);qd(k,x)}}}),Ug=
Pa.a.command("wysiwyg",{name:"AddCol",exec:function(l){var k=l.getEditor(),b=k.getSelection().cloneRange();var c=l.componentManager.getManager("tableSelection").getSelectedCells();var g=1;0<c.length&&(g=c[0].parentNode.querySelectorAll("td, th").length,g=Math.min(g,c.length));c=g;l.focus();k.hasFormat("TR")&&(k.saveUndoState(b),l=b.startContainer,"TD"!==E.a.getNodeName(l)&&"TH"!==E.a.getNodeName(l)&&(l=E.a.closest(l,"td, th")),Ic(l,c),b=k.getSelection(),b.selectNodeContents(l.nextSibling),b.collapse(!0),
k.setSelection(b))}}),Vg=Pa.a.command("wysiwyg",{name:"RemoveRow",exec:function(l){var k=l.getEditor(),b=k.getSelection().cloneRange(),c=E.a.parents(b.startContainer,"table")[0],g=l.componentManager.getManager("tableSelection"),m=l.componentManager.getManager("table"),x=Sb(b,g,c);c=c.querySelectorAll("tbody tr").length;l.focus();(k.hasFormat("TD")||k.hasFormat("TABLE"))&&1<c&&(k.saveUndoState(b),l=x[0],(l=(c=x[x.length-1])&&c.nextSibling?c.nextSibling:l&&l.previousSibling)&&fe(k,b,l,m),x.forEach(function(M){return E.a.remove(M)}));
g.removeClassAttrbuteFromAllCellsIfNeed()}}),ae=Pa.a.command("wysiwyg",{name:"RemoveCol",exec:function(l){var k=l.getEditor(),b=k.getSelection().cloneRange(),c=E.a.parents(b.startContainer,"table")[0],g=l.componentManager.getManager("table"),m=l.componentManager.getManager("tableSelection"),x=1<E.a.closest(b.startContainer,"table").querySelectorAll("thead tr th").length;l.focus();b.collapse(!0);k.setSelection(b);if(k.hasFormat("TR",null,b)&&x&&(l=c.querySelectorAll("tbody tr"),l=l.length?l[0].querySelectorAll("td").length:
0,m=m.getSelectedCells(),m.length<l)){k.saveUndoState(b);if(1<m.length)for(b=m[m.length-1],l=m[0],b=b.nextSibling?b.nextSibling:l.previousSibling,l=m.length,c=0;c<l;c+=1)m[c]&&Tb(m[c]);else b=b.startContainer,"TD"!==E.a.getNodeName(b)&&"TH"===!E.a.getNodeName(b)&&(b=E.a.parentsUntil(b,"tr")),m=b,b=m.nextSibling?m.nextSibling:m.previousSibling,Tb(m);b&&E.a.isContain(document.body,b)&&(m=k.getSelection(),m.selectNodeContents(b),m.collapse(!0),k.setSelection(m),g.setLastCellNode(b))}}}),Wg=Pa.a.command("wysiwyg",
{name:"AlignCol",exec:function(l,k){var b=l.getEditor(),c=b.getSelection().cloneRange(),g=l.componentManager.getManager("tableSelection");var m=g.getSelectedCells();m.length?m=g.getSelectionRangeFromTable(m[0],m[m.length-1]):(m=c.startContainer,m=E.a.isTextNode(m)?E.a.parent(m,"td,th"):m,m=g.getSelectionRangeFromTable(m,m));l.focus();if(b.hasFormat("TR")){b.saveUndoState(c);l=E.a.parents(c.startContainer,"table")[0];b=l.querySelectorAll("tr");b=b.length?b[0].querySelectorAll("td,th").length:0;c=m.from;
m=m.to;if(c.row===m.row){var x=c.cell;var M=m.cell}else if(c.row<m.row)if(c.cell<=m.cell)x=0,M=b-1;else{x=c.cell;M=m.cell;var la=!0}Xb(l,k,{startColumnIndex:x,endColumnIndex:M,isDivided:la})}g.removeClassAttrbuteFromAllCellsIfNeed()}}),Fe=Pa.a.command("wysiwyg",{name:"RemoveTable",exec:function(l){var k=l.getEditor(),b=k.getSelection().cloneRange();k.hasFormat("TABLE")&&(k.saveUndoState(b),E.a.remove(E.a.closest(b.startContainer,"table")));l.focus()}}),Za=Pa.a.command("wysiwyg",{name:"Indent",exec:function(l){var k=
l.componentManager.getManager("list"),b=l.getEditor().getSelection();b=E.a.closest(b.startContainer,"li");var c=b&&b.previousSibling;if(c){var g=b.querySelector("li");l.getEditor().saveUndoState();var m=b.className;var x=c.className;b.className="";c.className="";if(g){var M=g.className;ib()(g.children).filter(function(la){return Wb()(la,"div")}).length||(g.className="")}l.getEditor().increaseListLevel();k.mergeList(b);b.className=m;c.className=x;g&&(g.className=M)}}}),qh=Pa.a.command("wysiwyg",{name:"Outdent",
exec:function(l){var k=Ib(l),b;if(b=k)b=E.a.getNodeName(k.nextSibling),b="OL"!==b&&"UL"!==b;b&&(l.getEditor().saveUndoState(),b=k.className,l.getEditor().decreaseListLevel(),(k=Ib(l))&&b&&(k.className=b))}}),lf=Pa.a.command("wysiwyg",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(l){var k=l.getEditor(),b=k.getSelection(),c=l.componentManager.getManager("list"),g=b.startContainer,m=b.endContainer,x=b.startOffset,M=b.endOffset,la=[];l.focus();k.saveUndoState(b);if(c.isAvailableMakeListInTable())la=
c.createListInTable(b,"TASK");else for(k=c.getLinesOfSelection(g,m),b=0;b<k.length;b+=1){var ua=this._changeFormatToTaskIfNeed(l,k[b]);ua&&la.push(ua)}la.length&&c.adjustRange(g,m,x,M,la)},_changeFormatToTaskIfNeed:function(l,k){var b=l.getEditor(),c=b.getSelection();l=l.componentManager.getManager("task");if(!b.hasFormat("PRE")){c.setStart(k,0);c.collapse(!0);b.setSelection(c);b.hasFormat("li")||(b.makeUnorderedList(),k=b.getSelection().startContainer);dc()(k,"task-list-item")?l.unformatTask(k):
l.formatTask(k);var g=b.getSelection().startContainer}return g}}),nf=Pa.a.command("wysiwyg",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(l){var k=l.getEditor(),b=l.componentManager.getManager("tableSelection"),c=ic.bind(null,l.getEditor());l.focus();k.hasFormat("table")&&b.getSelectedCells().length?(b.styleToSelectedCells(c),l=k.getSelection(),l.collapse(!0),k.setSelection(l)):c(k)}}),Sf=Pa.a.command("wysiwyg",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(l,
k){var b=l.getEditor(),c=b.getSelection().cloneRange();if(!b.hasFormat("PRE")&&!b.hasFormat("TABLE")){var g='data-te-codeblock class = "te-content-codeblock-temp"';k&&(g+=' data-language="'+k+'"');k=l.componentManager.getManager("codeblock");if(c.collapsed)k="<br>";else{c=c.extractContents();c=ib()(c.childNodes);var m=document.createElement("div");m.appendChild(k.prepareToPasteOnCodeblock(c));k=m.innerHTML}b.insertHTML("<pre "+g+">"+k+"</pre>");b=l.getBody().querySelector(".te-content-codeblock-temp");
g=l.getEditor().getSelection().cloneRange();db()(b,"te-content-codeblock-temp");g.setStartBefore(b.firstChild);g.collapse(!0);l.getEditor().setSelection(g)}l.focus()}}),kf=null,Cg=null,ac=y(18),ad=y(24),bd=!1,cd=null,Cb=!1,ee=null,gc=!0,He=!0,Qd=[],Ub=function(){function l(b){var c=this;this.initialHtml=b.el.innerHTML;b.el.innerHTML="";this.options=Qb()({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useDefaultHTMLSanitizer:!0,useCommandShortcut:!0,
usageStatistics:!0,toolbarItems:"heading bold italic strike divider hr quote divider ul ol task indent outdent divider table image link divider code codeblock".split(" "),hideModeSwitch:!1,linkAttribute:null,extendedAutolinks:!1,customConvertor:null,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1},b);this.codeBlockLanguages=[];this.eventManager=new pg.a;this.importManager=new Fc(this.eventManager);this.commandManager=new Pa.a(this,{useCommandShortcut:this.options.useCommandShortcut});
var g=Object(ud.c)(this.options.linkAttribute),m=Object(Wd.a)(this.options.plugins),x=m.parser,M=m.plugins,la=this.options,ua=la.customHTMLSanitizer,Oa=la.extendedAutolinks,cb=la.referenceDefinition,kb=la.useDefaultHTMLSanitizer,Gb=la.frontMatter;m={linkAttribute:g,customHTMLRenderer:Db({},m.renderer,la.customHTMLRenderer),extendedAutolinks:Oa,referenceDefinition:cb,customParser:x,frontMatter:Gb,customProp:{showFrontMatter:Gb}};this.convertor=this.options.customConvertor?new this.options.customConvertor(this.eventManager,
m):new Od.a(this.eventManager,m);(ua=ua||(kb?Cc.a:null))&&this.convertor.initHtmlSanitizer(ua);this.options.hooks&&kc()(this.options.hooks,function(Pb,eb){return c.addHook(eb,Pb)});this.options.events&&kc()(this.options.events,function(Pb,eb){return c.on(eb,Pb)});this.layout=new eh(b,this.eventManager);this.i18n=Ra;this.i18n.setCode(this.options.language);this.setUI(this.options.UI||new Kf(this));this.toastMark=new rc.ToastMark("",{disallowedHtmlBlockTags:["br"],extendedAutolinks:Oa,referenceDefinition:cb,
disallowDeepHeading:!0,customParser:x,frontMatter:Gb});this.mdEditor=Yf.factory(this.layout.getMdEditorContainerEl(),this.eventManager,this.toastMark,this.options);this.preview=new Zf.a(this.layout.getPreviewEl(),this.eventManager,this.convertor,Db({},m,{isViewer:!1,highlight:this.options.previewHighlight}));this.wwEditor=Df.factory(this.layout.getWwEditorContainerEl(),this.eventManager,{sanitizer:ua,linkAttribute:g});this.toMarkOptions={gfm:!0,renderer:bf};M&&Object(Wd.b)(M,this);this.changePreviewStyle(this.options.previewStyle);
this.changeMode(this.options.initialEditType,!0);this.minHeight(this.options.minHeight);this.height(this.options.height);this.setMarkdown(this.options.initialValue,!1);this.options.placeholder&&this.setPlaceholder(this.options.placeholder);this.options.initialValue||this.setHtml(this.initialHtml,!1);this.eventManager.emit("load",this);Qd.push(this);this._addDefaultCommands();this.options.usageStatistics&&Object(ud.d)();he(this)}var k=l.prototype;k.changePreviewStyle=function(b){this.layout.changePreviewStyle(b);
this.mdPreviewStyle=b;this.eventManager.emit("changePreviewStyle",b);this.eventManager.emit("previewNeedsRefresh",this.getMarkdown())};k.exec=function(){var b;(b=this.commandManager).exec.apply(b,arguments)};k._addDefaultCommands=function(){this.addCommand(lh);this.addCommand(sh);this.addCommand(Rf);this.addCommand(Kg);this.addCommand(Mg);this.addCommand(Ng);this.addCommand(wh);this.addCommand(yh);this.addCommand(ec);this.addCommand(Qg);this.addCommand(Uc);this.addCommand(Rg);this.addCommand(Sg);
this.addCommand(jf);this.addCommand(Yb);this.addCommand(zh);this.addCommand(uh);this.addCommand(Dc);this.addCommand(ef);this.addCommand(Ah);this.addCommand(Yg);this.addCommand(Be);this.addCommand(Oe);this.addCommand(qe);this.addCommand(ph);this.addCommand(Lc);this.addCommand(Qf);this.addCommand(zg);this.addCommand(ge);this.addCommand(Ce);this.addCommand(ld);this.addCommand(cf);this.addCommand(Za);this.addCommand(qh);this.addCommand(lf);this.addCommand(De);this.addCommand(Ee);this.addCommand(Ug);this.addCommand(Vg);
this.addCommand(ae);this.addCommand(Wg);this.addCommand(Fe);this.addCommand(nf);this.addCommand(Sf);this.addCommand(uc)};k.addCommand=function(b,c){c?this.commandManager.addCommand(Pa.a.command(b,c)):this.commandManager.addCommand(b)};k.afterAddedCommand=function(){this.eventManager.emit("afterAddedCommand",this)};k.on=function(b,c){this.eventManager.listen(b,c)};k.off=function(b){this.eventManager.removeEventHandler(b)};k.addHook=function(b,c){this.eventManager.removeEventHandler(b);this.eventManager.listen(b,
c)};k.removeHook=function(b){this.eventManager.removeEventHandler(b)};k.getCodeMirror=function(){return this.mdEditor.getEditor()};k.getSquire=function(){return this.wwEditor.getEditor()};k.focus=function(){this.getCurrentModeEditor().focus()};k.blur=function(){this.getCurrentModeEditor().blur()};k.moveCursorToEnd=function(){this.getCurrentModeEditor().moveCursorToEnd()};k.moveCursorToStart=function(){this.getCurrentModeEditor().moveCursorToStart()};k.setMarkdown=function(b,c){void 0===c&&(c=!0);
b=b||"";this.isMarkdownMode()?this.mdEditor.setValue(b,c):this.wwEditor.setValue(this.convertor.toHTML(b),c);this.eventManager.emit("setMarkdownAfter",b)};k.setHtml=function(b,c){void 0===c&&(c=!0);this.wwEditor.setValue(b||"",c);this.isMarkdownMode()&&(b=this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions),this.mdEditor.setValue(b,c),this.eventManager.emit("setMarkdownAfter",b))};k.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getValue():this.convertor.toMarkdown(this.wwEditor.getValue(),
this.toMarkOptions)};k.getHtml=function(){this.isWysiwygMode()&&this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions));return this.convertor.toHTML(this.mdEditor.getValue())};k.insertText=function(b){this.isMarkdownMode()?this.mdEditor.replaceSelection(b):this.wwEditor.insertText(b)};k.addWidget=function(b,c,g,m){this.getCurrentModeEditor().addWidget(b,c,g,m)};k.height=function(b){if(td()(b)){var c=this.options.el;"auto"===b?(Ca()(c,"auto-height"),this.minHeight(this.minHeight())):
(db()(c,"auto-height"),this.minHeight(b));hd()(b)&&(b+="px");Va()(this.options.el,{height:b});this._height=b}return this._height};k.minHeight=function(b){if(td()(b)){var c=this._ui.getEditorHeight(),g=this._ui.getEditorSectionHeight();c-=g;this._minHeight=b;b=parseInt(b,10);b=Math.max(b-c,0);this.wwEditor.setMinHeight(b);this.mdEditor.setMinHeight(b);this.preview.setMinHeight(b)}return this._minHeight};k.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor};k.isMarkdownMode=
function(){return"markdown"===this.currentMode};k.isWysiwygMode=function(){return"wysiwyg"===this.currentMode};k.isViewer=function(){return!1};k.getCurrentPreviewStyle=function(){return this.mdPreviewStyle};k.changeMode=function(b,c){this.currentMode!==b&&(this.eventManager.emit("changeModeBefore",this.currentMode),this.currentMode=b,this.isWysiwygMode()?(this.layout.switchToWYSIWYG(),this.wwEditor.setValue(this.convertor.toHTML(this.mdEditor.getValue()),!c),this.eventManager.emit("changeModeToWysiwyg")):
(this.layout.switchToMarkdown(),this.mdEditor.resetState(),this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions),!c),this.getCodeMirror().refresh(),this.eventManager.emit("changeModeToMarkdown")),this.eventManager.emit("changeMode",b),c||this.focus())};k.remove=function(){var b=this,c=Qd.length-1;this.wwEditor.remove();this.mdEditor.remove();this.layout.remove();this.preview.remove();this.getUI()&&this.getUI().remove();this.eventManager.emit("removeEditor");
this.eventManager.events.forEach(function(g,m){b.off(m)});for(this.eventManager=null;0<=c;--c)Qd[c]===this&&Qd.splice(c,1)};k.hide=function(){this.eventManager.emit("hide",this)};k.show=function(){this.eventManager.emit("show",this);this.getCodeMirror().refresh()};k.scrollTop=function(b){return this.getCurrentModeEditor().scrollTop(b)};k.setUI=function(b){this._ui=b};k.getUI=function(){return this._ui};k.reset=function(){this.wwEditor.reset();this.mdEditor.reset()};k.getRange=function(){return this.getCurrentModeEditor().getRange()};
k.getTextObject=function(b){return this.getCurrentModeEditor().getTextObject(b)};k.getSelectedText=function(){var b=this.getRange();return this.getTextObject(b).getTextContent()||""};k.setPlaceholder=function(b){this.mdEditor.setPlaceholder(b);this.wwEditor.setPlaceholder(b)};k.setCodeBlockLanguages=function(b){var c=this;void 0===b&&(b=[]);b.forEach(function(g){0>c.codeBlockLanguages.indexOf(g)&&c.codeBlockLanguages.push(g)});this.eventManager.emit("setCodeBlockLanguages",this.codeBlockLanguages)};
l.getInstances=function(){return Qd};l.factory=function(b){return b.viewer?new Ye.a(b):new l(b)};l.setLanguage=function(b,c){Ra.setLanguage(b,c)};return l}();Ub._createMarkdownToHTML=function(l){var k=l.customHTMLRenderer,b=new rc.Parser({disallowedHtmlBlockTags:["br"],extendedAutolinks:l.extendedAutolinks,referenceDefinition:l.referenceDefinition,disallowDeepHeading:!0,customParser:l.customParser,frontMatter:l.frontMatter}),c=Object(rc.createRenderHTML)({gfm:!0,convertors:Object(ie.a)(null,k)});
return function(g){return c(b.parse(g))}};Ub.isViewer=!1;Ub.codeBlockManager=jh.a;Ub.WwCodeBlockManager=Ue;Ub.WwTableManager=Te;Ub.WwTableSelectionManager=wf;Ub.CommandManager=Pa.a;y(50);y(51);y(41);y(52);Ub.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",
Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row":"Add row","Add col":"Add col","Remove row":"Remove row","Remove col":"Remove col","Align left":"Align left","Align center":"Align center",
"Align right":"Align right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});ja["default"]=Ub}])["default"]});
